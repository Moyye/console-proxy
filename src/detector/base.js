var parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"EHrm":[function(require,module,exports) {
module.exports={name:"systeminformation",version:"5.6.9",description:"Simple system and OS information library",license:"MIT",author:"Sebastian Hildebrandt <hildebrandt@plus-innovations.com> (https://plus-innovations.com)",homepage:"https://systeminformation.io",main:"./lib/index.js",bin:{systeminformation:"lib/cli.js"},types:"./lib/index.d.ts",scripts:{test:"node ./test/test.js"},files:["lib/"],keywords:["system information","sysinfo","monitor","monitoring","os","linux","osx","windows","freebsd","openbsd","netbsd","cpu","cpuload","physical cores","logical cores","processor","cores","threads","socket type","memory","file system","fsstats","diskio","block devices","netstats","network","network interfaces","network connections","network stats","iface","printer","processes","users","internet","battery","docker","docker stats","docker processes","graphics","graphic card","graphic controller","gpu","display","smart","disk layout","usb","audio","bluetooth","wifi","wifinetworks","virtual box","virtualbox","vm"],repository:{type:"git",url:"https://github.com/sebhildebrandt/systeminformation.git"},funding:{type:"Buy me a coffee",url:"https://www.buymeacoffee.com/systeminfo"},os:["darwin","linux","win32","freebsd","openbsd","netbsd","sunos"],engines:{node:">=4.0.0"}};
},{}],"YOqM":[function(require,module,exports) {
"use strict";var r=require("os"),e=require("fs"),t=require("path"),n=require("child_process").spawn,o=require("child_process").exec,s=require("child_process").execSync,i=require("util"),a=process.platform,u="linux"===a,c="darwin"===a,p="win32"===a,f="freebsd"===a,l="openbsd"===a,m="netbsd"===a,d=0,y="",x="",h=process.env.WINDIR||"C:\\Windows",g={windowsHide:!0,maxBuffer:2048e4,encoding:"UTF-8",env:i._extend({},process.env,{LANG:"en_US.UTF-8"})};function v(r){var e=parseInt(r,10);return isNaN(e)&&(e=0),e}var C=(new String).replace,w=(new String).toLowerCase,b=(new String).toString,S=(new String).substr,B=(new String).trim,M=(new String).startsWith,L=Math.min;function O(r){return r&&"[object Function]"==={}.toString.call(r)}function _(r){for(var e=[],t={},n=0;n<r.length;n++){var o=Object.keys(r[n]);o.sort(function(r,e){return r-e});for(var s="",i=0;i<o.length;i++)s+=JSON.stringify(o[i]),s+=JSON.stringify(r[n][o[i]]);({}).hasOwnProperty.call(t,s)||(e.push(r[n]),t[s]=!0)}return e}function E(r,e){return r.sort(function(r,t){var n="",o="";return e.forEach(function(e){n+=r[e],o+=t[e]}),n<o?-1:n>o?1:0})}function I(){return 0===d&&(d=r.cpus().length),d}function A(r,e,t,n){t=t||":",e=e.toLowerCase(),n=n||!1;for(var o=0;o<r.length;o++){var s=r[o].toLowerCase().replace(/\t/g,"");if(n&&(s=s.trim()),s.startsWith(e)){var i=n?r[o].trim().split(t):r[o].split(t);return i.length>=2?(i.shift(),i.join(t).trim()):""}}return""}function T(r,e){return e=e||16,r.replace(/\\x([0-9A-Fa-f]{2})/g,function(){return String.fromCharCode(parseInt(arguments[1],e))})}function U(r){var e="",t=0;return r.split("").forEach(function(r){r>="0"&&r<="9"?1===t&&t++:(0===t&&t++,1===t&&(e+=r))}),e}function P(r,e){e=e||"";var t=0,n=0,o=U(r=r.toUpperCase()),s=r.split(o);if(s.length>=2){s[2]&&(s[1]+=s[2]);var i=s[1]&&s[1].toLowerCase().indexOf("pm")>-1||s[1].toLowerCase().indexOf("p.m.")>-1||s[1].toLowerCase().indexOf("p. m.")>-1||s[1].toLowerCase().indexOf("n")>-1||s[1].toLowerCase().indexOf("ch")>-1||s[1].toLowerCase().indexOf("ös")>-1||e&&s[1].toLowerCase().indexOf(e)>-1;return t=parseInt(s[0],10),n=parseInt(s[1],10),("0"+(t=i&&t<12?t+12:t)).substr(-2)+":"+("0"+n).substr(-2)}}function F(r,e){var t={date:"",time:""},n=((e=e||{}).dateFormat||"").toLowerCase(),o=e.pmDesignator||"",s=r.split(" ");if(s[0]){if(s[0].indexOf("/")>=0){var i=s[0].split("/");if(3===i.length)if(4===i[0].length)t.date=i[0]+"-"+("0"+i[1]).substr(-2)+"-"+("0"+i[2]).substr(-2);else if(2===i[2].length)n.indexOf("/d/")>-1||n.indexOf("/dd/"),t.date="20"+i[2]+"-"+("0"+i[1]).substr(-2)+"-"+("0"+i[0]).substr(-2);else{(r.toLowerCase().indexOf("pm")>-1||r.toLowerCase().indexOf("p.m.")>-1||r.toLowerCase().indexOf("p. m.")>-1||r.toLowerCase().indexOf("am")>-1||r.toLowerCase().indexOf("a.m.")>-1||r.toLowerCase().indexOf("a. m.")>-1||n.indexOf("/d/")>-1||n.indexOf("/dd/")>-1)&&0!==n.indexOf("dd/")?t.date=i[2]+"-"+("0"+i[0]).substr(-2)+"-"+("0"+i[1]).substr(-2):t.date=i[2]+"-"+("0"+i[1]).substr(-2)+"-"+("0"+i[0]).substr(-2)}}if(s[0].indexOf(".")>=0){var a=s[0].split(".");3===a.length&&(n.indexOf(".d.")>-1||n.indexOf(".dd.")>-1?t.date=a[2]+"-"+("0"+a[0]).substr(-2)+"-"+("0"+a[1]).substr(-2):t.date=a[2]+"-"+("0"+a[1]).substr(-2)+"-"+("0"+a[0]).substr(-2))}if(s[0].indexOf("-")>=0){var u=s[0].split("-");3===u.length&&(t.date=u[0]+"-"+("0"+u[1]).substr(-2)+"-"+("0"+u[2]).substr(-2))}}if(s[1]){s.shift();var c=s.join(" ");t.time=P(c,o)}return t}function W(r,e){for(var t=e>0,n=1,o=0,s=0,i=[],a=0;a<r.length;a++)n<=e?(/\s/.test(r[a])&&!t&&(s=a-1,i.push({from:o,to:s+1,cap:r.substring(o,s+1)}),o=s+2,n++),t=" "===r[a]):(!/\s/.test(r[a])&&t&&(o<(s=a-1)&&i.push({from:o,to:s,cap:r.substring(o,s)}),o=s+1,n++),t=" "===r[a]);s=1e3,i.push({from:o,to:s,cap:r.substring(o,s)});for(var u=i.length,c=0;c<u;c++)0===i[c].cap.replace(/\s/g,"").length&&c+1<u&&(i[c].to=i[c+1].to,i[c].cap=i[c].cap+i[c+1].cap,i.splice(c+1,1),u-=1);return i}function N(r,e,t){for(var n=0;n<r.length;n++)if(r[n][e]===t)return n;return-1}function k(){if("Windows_NT"===r.type()&&!y&&(y=h+"\\system32\\wbem\\wmic.exe",!e.existsSync(y)))try{var t=s("WHERE WMIC",g).toString().split("\r\n");y=t&&t.length?t[0]:"wmic"}catch(n){y="wmic"}return y}function q(r,e){return e=e||g,new Promise(function(t){process.nextTick(function(){try{o(h+"\\system32\\chcp.com 65001 | "+k()+" "+r,e,function(r,e){t(e,r)}).stdin.end()}catch(n){t("",n)}})})}function D(){return p?`${process.env.VBOX_INSTALL_PATH||process.env.VBOX_MSI_INSTALL_PATH}\\VBoxManage.exe`:"vboxmanage"}function K(e){var t="";return new Promise(function(o){process.nextTick(function(){try{var s=n("powershell.exe",["-NoLogo","-InputFormat","Text","-NoExit","-ExecutionPolicy","Unrestricted","-Command","-"],{stdio:"pipe",windowsHide:!0,maxBuffer:2048e4,encoding:"UTF-8",env:i._extend({},process.env,{LANG:"en_US.UTF-8"})});if(s&&!s.pid&&s.on("error",function(){o(t)}),s&&s.pid){s.stdout.on("data",function(r){t+=r.toString("utf8")}),s.stderr.on("data",function(){s.kill(),o(t)}),s.on("close",function(){s.kill(),o(t)}),s.on("error",function(){s.kill(),o(t)});try{s.stdin.write(e+r.EOL),s.stdin.write("exit"+r.EOL),s.stdin.end()}catch(a){s.kill(),o(t)}}else o(t)}catch(a){o(t)}})})}function j(r,e,t){var o="";return t=t||{},new Promise(function(s){process.nextTick(function(){try{var i=n(r,e,t);i&&!i.pid&&i.on("error",function(){s(o)}),i&&i.pid?(i.stdout.on("data",function(r){o+=r.toString()}),i.on("close",function(){i.kill(),s(o)}),i.on("error",function(){i.kill(),s(o)})):s(o)}catch(a){s(o)}})})}function H(){if(p){if(!x)try{var r=s("chcp",g).toString().split("\r\n")[0].split(":");x=r.length>1?r[1].replace(".",""):""}catch(t){x="437"}return x}if(u||c||f||l||m){if(!x)try{var e=s("echo $LANG").toString().split("\r\n")[0].split(".");(x=e.length>1?e[1].trim():"")||(x="UTF-8")}catch(t){x="UTF-8"}return x}}function R(){var r=[];try{r=e.readFileSync("/proc/cpuinfo",{encoding:"utf8"}).toString().split("\n")}catch(n){return!1}var t=A(r,"hardware");return t&&["BCM2708","BCM2709","BCM2710","BCM2711","BCM2835","BCM2836","BCM2837","BCM2837B0"].indexOf(t)>-1}function V(){var r=[];try{r=e.readFileSync("/etc/os-release",{encoding:"utf8"}).toString().split("\n")}catch(n){return!1}var t=A(r,"id","=");return t&&t.indexOf("raspbian")>-1}function X(r,e,t){t||(t=e,e=g),o("chcp 65001 > nul && cmd /C "+r+" && chcp "+x+" > nul",e,function(r,e){t(r,e)})}function $(){var r=e.existsSync("/Library/Developer/CommandLineTools/usr/bin/"),t=e.existsSync("/Applications/Xcode.app/Contents/Developer/Tools"),n=e.existsSync("/Library/Developer/Xcode/");return r||n||t}function G(){var r=process.hrtime();return Array.isArray(r)&&2===r.length?1e9*+r[0]+ +r[1]:0}function J(r,e){e=e||"";var t=[];return r.forEach(function(r){r.startsWith(e)&&-1===t.indexOf(r)&&t.push(r)}),t.length}function Q(r,e){e=e||"";var t=[];return r.forEach(function(r){r.startsWith(e)&&t.push(r)}),t.length}function Z(r){for(var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=r||"",n="",o=0;o<=L(t.length,2e3);o++)void 0===t[o]||">"===t[o]||"<"===t[o]||"*"===t[o]||"?"===t[o]||"["===t[o]||"]"===t[o]||"|"===t[o]||"˚"===t[o]||"$"===t[o]||";"===t[o]||"&"===t[o]||"("===t[o]||")"===t[o]||"]"===t[o]||"#"===t[o]||"\\"===t[o]||"\t"===t[o]||"\n"===t[o]||"'"===t[o]||"`"===t[o]||'"'===t[o]||t[o].length>1||e&&"@"===t[o]||e&&" "===t[o]||e&&"{"==t[o]||e&&")"==t[o]||(n+=t[o]);return n}function z(){var r="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",e=!0,t="";t.__proto__.replace=C,t.__proto__.toLowerCase=w,t.__proto__.toString=b,t.__proto__.substr=S,e=e||!(62===r.length);var n=Date.now();if("number"==typeof n&&n>16e11){for(var o=n%100+15,s=0;s<o;s++){var i=61.99999999*Math.random()+1,a=parseInt(Math.floor(i).toString(),10),u=parseInt(i.toString().split(".")[0],10),c=61.99999999*Math.random()+1,p=parseInt(Math.floor(c).toString(),10),f=parseInt(c.toString().split(".")[0],10);e=(e=e&&!(i===c))&&a===u&&p===f,t+=r[a-1]}e=e&&t.length===o;var l=Math.random()*o*.9999999999,m=t.substr(0,l)+" "+t.substr(l,2e3);m.__proto__.replace=C;var d=m.replace(/ /g,"");e=e&&t===d,l=Math.random()*o*.9999999999,d=(m=t.substr(0,l)+"{"+t.substr(l,2e3)).replace(/{/g,""),e=e&&t===d,l=Math.random()*o*.9999999999,d=(m=t.substr(0,l)+"*"+t.substr(l,2e3)).replace(/\*/g,""),e=e&&t===d,l=Math.random()*o*.9999999999,d=(m=t.substr(0,l)+"$"+t.substr(l,2e3)).replace(/\$/g,""),e=e&&t===d;var y=t.toLowerCase();e=e&&y.length===o&&y[o-1]&&!y[o];for(var x=0;x<o;x++){var h=t[x];h.__proto__.toLowerCase=w;var g=y?y[x]:"",v=h.toLowerCase();e=e&&v[0]===g&&v[0]&&!v[1]}}return!e}function Y(r){return("00000000"+parseInt(r,16).toString(2)).substr(-8)}function rr(r){var n=e.lstatSync,o=e.readdirSync,s=t.join;function i(r){return n(r).isDirectory()}function a(r){return n(r).isFile()}return e.existsSync(r)?function r(e){return function(r){return o(r).map(function(e){return s(r,e)}).filter(i)}(e).map(function(e){return r(e)}).reduce(function(r,e){return r.concat(e)},[]).concat(function(r){return o(r).map(function(e){return s(r,e)}).filter(a)}(e))}(r):[]}function er(r){var e={"0002":{type:"B",revision:"1.0",memory:256,manufacturer:"Egoman",processor:"BCM2835"},"0003":{type:"B",revision:"1.0",memory:256,manufacturer:"Egoman",processor:"BCM2835"},"0004":{type:"B",revision:"2.0",memory:256,manufacturer:"Sony UK",processor:"BCM2835"},"0005":{type:"B",revision:"2.0",memory:256,manufacturer:"Qisda",processor:"BCM2835"},"0006":{type:"B",revision:"2.0",memory:256,manufacturer:"Egoman",processor:"BCM2835"},"0007":{type:"A",revision:"2.0",memory:256,manufacturer:"Egoman",processor:"BCM2835"},"0008":{type:"A",revision:"2.0",memory:256,manufacturer:"Sony UK",processor:"BCM2835"},"0009":{type:"A",revision:"2.0",memory:256,manufacturer:"Qisda",processor:"BCM2835"},"000d":{type:"B",revision:"2.0",memory:512,manufacturer:"Egoman",processor:"BCM2835"},"000e":{type:"B",revision:"2.0",memory:512,manufacturer:"Sony UK",processor:"BCM2835"},"000f":{type:"B",revision:"2.0",memory:512,manufacturer:"Egoman",processor:"BCM2835"},"0010":{type:"B+",revision:"1.2",memory:512,manufacturer:"Sony UK",processor:"BCM2835"},"0011":{type:"CM1",revision:"1.0",memory:512,manufacturer:"Sony UK",processor:"BCM2835"},"0012":{type:"A+",revision:"1.1",memory:256,manufacturer:"Sony UK",processor:"BCM2835"},"0013":{type:"B+",revision:"1.2",memory:512,manufacturer:"Embest",processor:"BCM2835"},"0014":{type:"CM1",revision:"1.0",memory:512,manufacturer:"Embest",processor:"BCM2835"},"0015":{type:"A+",revision:"1.1",memory:256,manufacturer:"512MB\tEmbest",processor:"BCM2835"}},t={"00":"A","01":"B","02":"A+","03":"B+","04":"2B","05":"Alpha (early prototype)","06":"CM1","08":"3B","09":"Zero","0a":"CM3","0c":"Zero W","0d":"3B+","0e":"3A+","0f":"Internal use only",10:"CM3+",11:"4B",13:"400",14:"CM4"},n=A(r,"revision",":",!0),o=A(r,"model:",":",!0),s=A(r,"serial",":",!0),i={};if({}.hasOwnProperty.call(e,n))i={model:o,serial:s,revisionCode:n,memory:e[n].memory,manufacturer:e[n].manufacturer,processor:e[n].processor,type:e[n].type,revision:e[n].revision};else{var a=("00000000"+A(r,"revision",":",!0).toLowerCase()).substr(-8),u=parseInt(Y(a.substr(2,1)).substr(5,3),2)||0,c=["Sony UK","Egoman","Embest","Sony Japan","Embest","Stadium"][parseInt(a.substr(3,1),10)],p=["BCM2835","BCM2836","BCM2837","BCM2711"][parseInt(a.substr(4,1),10)],f=a.substr(5,2);i={model:o,serial:s,revisionCode:n,memory:256*Math.pow(2,u),manufacturer:c,processor:p,type:{}.hasOwnProperty.call(t,f)?t[f]:"",revision:"1."+a.substr(7,1)}}return i}function tr(r){var e=r.map(function(r){return new Promise(function(e){var t=new Array(2);r.then(function(r){t[0]=r}).catch(function(r){t[1]=r}).then(function(){e(t)})})}),t=[],n=[];return Promise.all(e).then(function(r){return r.forEach(function(r){r[1]?(t.push(r[1]),n.push(null)):(t.push(null),n.push(r[0]))}),{errors:t,results:n}})}function nr(r){return function(){var e=Array.prototype.slice.call(arguments);return new Promise(function(t,n){e.push(function(r,e){r?n(r):t(e)}),r.apply(null,e)})}}function or(){var r="";if(u)try{r=s("uname -v").toString()}catch(e){r=""}return r}function sr(){}exports.toInt=v,exports.execOptsWin=g,exports.getCodepage=H,exports.execWin=X,exports.isFunction=O,exports.unique=_,exports.sortByKey=E,exports.cores=I,exports.getValue=A,exports.decodeEscapeSequence=T,exports.parseDateTime=F,exports.parseHead=W,exports.findObjectByKey=N,exports.getWmic=k,exports.wmic=q,exports.darwinXcodeExists=$,exports.getVboxmanage=D,exports.powerShell=K,exports.execSafe=j,exports.nanoSeconds=G,exports.countUniqueLines=J,exports.countLines=Q,exports.noop=sr,exports.isRaspberry=R,exports.isRaspbian=V,exports.sanitizeShellString=Z,exports.isPrototypePolluted=z,exports.decodePiCpuinfo=er,exports.promiseAll=tr,exports.promisify=nr,exports.linuxVersion=or,exports.stringReplace=C,exports.stringToLower=w,exports.stringToString=b,exports.stringSubstr=S,exports.stringTrim=B,exports.stringStartWith=M,exports.mathMin=L,exports.WINDIR=h,exports.getFilesInPath=rr;
},{}],"dGq0":[function(require,module,exports) {
"use strict";var e=require("fs"),a=require("os"),r=require("./util"),t=require("child_process").exec,s=require("child_process").execSync,o=r.promisify(require("child_process").exec),i=process.platform,n="linux"===i,l="darwin"===i,u="win32"===i,c="freebsd"===i,d="openbsd"===i,v="netbsd"===i,m="sunos"===i;function g(a){return new Promise(function(o){process.nextTick(function(){var i={manufacturer:"",model:"Computer",version:"",serial:"-",uuid:"-",sku:"-",virtual:!1};if((n||c||d||v)&&t("export LC_ALL=C; dmidecode -t system 2>/dev/null; unset LC_ALL",function(t,n){var l=n.toString().split("\n");i.manufacturer=r.getValue(l,"manufacturer"),i.model=r.getValue(l,"product name"),i.version=r.getValue(l,"version"),i.serial=r.getValue(l,"serial number"),i.uuid=r.getValue(l,"uuid").toLowerCase(),i.sku=r.getValue(l,"sku number");try{l=s('echo -n "product_name: "; cat /sys/devices/virtual/dmi/id/product_name 2>/dev/null; echo;\n            echo -n "product_serial: "; cat /sys/devices/virtual/dmi/id/product_serial 2>/dev/null; echo;\n            echo -n "product_uuid: "; cat /sys/devices/virtual/dmi/id/product_uuid 2>/dev/null; echo;\n            echo -n "product_version: "; cat /sys/devices/virtual/dmi/id/product_version 2>/dev/null; echo;\n            echo -n "sys_vendor: "; cat /sys/devices/virtual/dmi/id/sys_vendor 2>/dev/null; echo;').toString().split("\n"),i.manufacturer=""===i.manufacturer?r.getValue(l,"sys_vendor"):i.manufacturer,i.model=""===i.model?r.getValue(l,"product_name"):i.model,i.version=""===i.version?r.getValue(l,"product_version"):i.version,i.serial=""===i.serial?r.getValue(l,"product_serial"):i.serial,i.uuid=""===i.uuid?r.getValue(l,"product_uuid").toLowerCase():i.uuid}catch(h){r.noop()}if(i.serial&&-1===i.serial.toLowerCase().indexOf("o.e.m.")||(i.serial="-"),i.manufacturer&&-1===i.manufacturer.toLowerCase().indexOf("o.e.m.")||(i.manufacturer=""),i.model&&-1===i.model.toLowerCase().indexOf("o.e.m.")||(i.model="Computer"),i.version&&-1===i.version.toLowerCase().indexOf("o.e.m.")||(i.version=""),i.sku&&-1===i.sku.toLowerCase().indexOf("o.e.m.")||(i.sku="-"),"virtualbox"===i.model.toLowerCase()||"kvm"===i.model.toLowerCase()||"virtual machine"===i.model.toLowerCase()||"bochs"===i.model.toLowerCase()||i.model.toLowerCase().startsWith("vmware")||i.model.toLowerCase().startsWith("droplet"))switch(i.virtual=!0,i.model.toLowerCase()){case"virtualbox":i.virtualHost="VirtualBox";break;case"vmware":i.virtualHost="VMware";break;case"kvm":i.virtualHost="KVM";break;case"bochs":i.virtualHost="bochs"}if(i.manufacturer.toLowerCase().startsWith("vmware")||"xen"===i.manufacturer.toLowerCase())switch(i.virtual=!0,i.manufacturer.toLowerCase()){case"vmware":i.virtualHost="VMware";break;case"xen":i.virtualHost="Xen"}if(!i.virtual)try{var u=s("ls -1 /dev/disk/by-id/ 2>/dev/null").toString();u.indexOf("_QEMU_")>=0&&(i.virtual=!0,i.virtualHost="QEMU"),u.indexOf("_VBOX_")>=0&&(i.virtual=!0,i.virtualHost="VirtualBox")}catch(h){r.noop()}if(!i.virtual&&r.linuxVersion().toLowerCase().indexOf("microsoft")>=0){var m=r.linuxVersion().toLowerCase();m=m.split("-")[0].replace("#","");var g=parseInt(m,10)||null;i.virtual=!0,i.manufacturer="Microsoft",i.model="WSL",i.version=g}if((c||d||v)&&!i.virtualHost)try{var p=s("dmidecode -t 4").toString().split("\n");switch(r.getValue(p,"manufacturer",":",!0).toLowerCase()){case"virtualbox":i.virtualHost="VirtualBox";break;case"vmware":i.virtualHost="VMware";break;case"kvm":i.virtualHost="KVM";break;case"bochs":i.virtualHost="bochs"}}catch(h){r.noop()}(e.existsSync("/.dockerenv")||e.existsSync("/.dockerinit"))&&(i.model="Docker Container");try{var f=s('dmesg 2>/dev/null | grep -iE "virtual|hypervisor" | grep -iE "vmware|qemu|kvm|xen"');f.toString().split("\n").length>0&&("Computer"===i.model&&(i.model="Virtual machine"),i.virtual=!0,f.toString().toLowerCase().indexOf("vmware")&&!i.virtualHost&&(i.virtualHost="VMware"),f.toString().toLowerCase().indexOf("qemu")&&!i.virtualHost&&(i.virtualHost="QEMU"),f.toString().toLowerCase().indexOf("xen")&&!i.virtualHost&&(i.virtualHost="Xen"),f.toString().toLowerCase().indexOf("kvm")&&!i.virtualHost&&(i.virtualHost="KVM"))}catch(h){r.noop()}""===i.manufacturer&&"Computer"===i.model&&""===i.version?e.readFile("/proc/cpuinfo",function(e,t){if(!e){var s=t.toString().split("\n");i.model=r.getValue(s,"hardware",":",!0).toUpperCase(),i.version=r.getValue(s,"revision",":",!0).toLowerCase(),i.serial=r.getValue(s,"serial",":",!0);var n=r.getValue(s,"model:",":",!0);if(("BCM2835"===i.model||"BCM2708"===i.model||"BCM2709"===i.model||"BCM2710"===i.model||"BCM2711"===i.model||"BCM2836"===i.model||"BCM2837"===i.model)&&n.toLowerCase().indexOf("raspberry")>=0){var l=r.decodePiCpuinfo(s);i.model=l.model,i.version=l.revisionCode,i.manufacturer="Raspberry Pi Foundation",i.raspberry={manufacturer:l.manufacturer,processor:l.processor,type:l.type,revision:l.revision}}}a&&a(i),o(i)}):(a&&a(i),o(i))}),l&&t("ioreg -c IOPlatformExpertDevice -d 2",function(e,t){if(!e){var s=t.toString().replace(/[<>"]/g,"").split("\n");i.manufacturer=r.getValue(s,"manufacturer","=",!0),i.model=r.getValue(s,"model","=",!0),i.version=r.getValue(s,"version","=",!0),i.serial=r.getValue(s,"ioplatformserialnumber","=",!0),i.uuid=r.getValue(s,"ioplatformuuid","=",!0).toLowerCase(),i.sku=r.getValue(s,"board-id","=",!0)}a&&a(i),o(i)}),m&&(a&&a(i),o(i)),u)try{r.wmic("csproduct get /value").then(function(e,t){if(t)a&&a(i),o(i);else{var s=e.split("\r\n");if(i.manufacturer=r.getValue(s,"vendor","="),i.model=r.getValue(s,"name","="),i.version=r.getValue(s,"version","="),i.serial=r.getValue(s,"identifyingnumber","="),i.uuid=r.getValue(s,"uuid","=").toLowerCase(),"virtualbox"===i.model.toLowerCase()||"kvm"===i.model.toLowerCase()||"virtual machine"===i.model.toLowerCase()||"bochs"===i.model.toLowerCase()||i.model.toLowerCase().startsWith("vmware"))switch(i.virtual=!0,i.model.toLowerCase()){case"virtualbox":i.virtualHost="VirtualBox";break;case"vmware":i.virtualHost="VMware";break;case"kvm":i.virtualHost="KVM";break;case"bochs":i.virtualHost="bochs"}if(i.manufacturer.toLowerCase().startsWith("vmware")||"xen"===i.manufacturer.toLowerCase())switch(i.virtual=!0,i.manufacturer.toLowerCase()){case"vmware":i.virtualHost="VMware";break;case"xen":i.virtualHost="Xen"}r.wmic("/namespace:\\\\root\\wmi path MS_SystemInformation get /value").then(function(e,t){if(!t){var s=e.split("\r\n");i.sku=r.getValue(s,"systemsku","=")}i.virtual?(a&&a(i),o(i)):r.wmic("bios get Version, SerialNumber, SMBIOSBIOSVersion").then(function(e,r){if(r)a&&a(i),o(i);else{var t=e.toString();(t.indexOf("VRTUAL")>=0||t.indexOf("A M I ")>=0||t.indexOf("VirtualBox")>=0||t.indexOf("VMWare")>=0||t.indexOf("Xen")>=0)&&(i.virtual=!0,t.indexOf("VirtualBox")>=0&&!i.virtualHost&&(i.virtualHost="VirtualBox"),t.indexOf("VMware")>=0&&!i.virtualHost&&(i.virtualHost="VMware"),t.indexOf("Xen")>=0&&!i.virtualHost&&(i.virtualHost="Xen"),t.indexOf("VRTUAL")>=0&&!i.virtualHost&&(i.virtualHost="Hyper-V"),t.indexOf("A M I")>=0&&!i.virtualHost&&(i.virtualHost="Virtual PC")),a&&a(i),o(i)}})})}})}catch(g){a&&a(i),o(i)}})})}function p(e){return new Promise(function(a){process.nextTick(function(){var o={vendor:"",version:"",releaseDate:"",revision:""},i="";if((n||c||d||v)&&(i="arm"===process.arch?"cat /proc/cpuinfo | grep Serial":"export LC_ALL=C; dmidecode -t bios 2>/dev/null; unset LC_ALL",t(i,function(t,i){var n=i.toString().split("\n");o.vendor=r.getValue(n,"Vendor"),o.version=r.getValue(n,"Version");var l=r.getValue(n,"Release Date");o.releaseDate=r.parseDateTime(l).date,o.revision=r.getValue(n,"BIOS Revision");var u=r.getValue(n,"Currently Installed Language").split("|")[0];if(u&&(o.language=u),n.length&&i.toString().indexOf("Characteristics:")>=0){var c=[];n.forEach(function(e){if(e.indexOf(" is supported")>=0){var a=e.split(" is supported")[0].trim();c.push(a)}}),o.features=c}try{n=s('echo -n "bios_date: "; cat /sys/devices/virtual/dmi/id/bios_date 2>/dev/null; echo;\n            echo -n "bios_vendor: "; cat /sys/devices/virtual/dmi/id/bios_vendor 2>/dev/null; echo;\n            echo -n "bios_version: "; cat /sys/devices/virtual/dmi/id/bios_version 2>/dev/null; echo;').toString().split("\n"),o.vendor=o.vendor?o.vendor:r.getValue(n,"bios_vendor"),o.version=o.version?o.version:r.getValue(n,"bios_version"),l=r.getValue(n,"bios_date"),o.releaseDate=o.releaseDate?o.releaseDate:r.parseDateTime(l).date}catch(d){r.noop()}e&&e(o),a(o)})),l&&(o.vendor="Apple Inc.",t("system_profiler SPHardwareDataType -json",function(t,s){try{var i=JSON.parse(s.toString());if(i&&i.SPHardwareDataType&&i.SPHardwareDataType.length){var n=i.SPHardwareDataType[0].boot_rom_version;n=n?n.split("(")[0].trim():null,o.version=n}}catch(l){r.noop()}e&&e(o),a(o)})),m&&(o.vendor="Sun Microsystems",e&&e(o),a(o)),u)try{r.wmic("bios get /value").then(function(t,s){if(!s){var i=t.toString().split("\r\n"),n=r.getValue(i,"description","=");-1!==n.indexOf(" Version ")?(o.vendor=n.split(" Version ")[0].trim(),o.version=n.split(" Version ")[1].trim()):-1!==n.indexOf(" Ver: ")?(o.vendor=r.getValue(i,"manufacturer","="),o.version=n.split(" Ver: ")[1].trim()):(o.vendor=r.getValue(i,"manufacturer","="),o.version=r.getValue(i,"version","=")),o.releaseDate=r.getValue(i,"releasedate","="),o.releaseDate.length>=10&&(o.releaseDate=o.releaseDate.substr(0,4)+"-"+o.releaseDate.substr(4,2)+"-"+o.releaseDate.substr(6,2)),o.revision=r.getValue(i,"buildnumber","=")}e&&e(o),a(o)})}catch(g){e&&e(o),a(o)}})})}function f(t){return new Promise(function(i){process.nextTick(function(){var g={manufacturer:"",model:"",version:"",serial:"-",assetTag:"-",memMax:null,memSlots:null},p="";if(n||c||d||v){p="arm"===process.arch?"cat /proc/cpuinfo | grep Serial":"export LC_ALL=C; dmidecode -t 2 2>/dev/null; unset LC_ALL";var f=[];f.push(o(p)),f.push(o("export LC_ALL=C; dmidecode -t memory 2>/dev/null")),r.promiseAll(f).then(function(o){var n=o.results[0]?o.results[0].toString().split("\n"):[""];g.manufacturer=r.getValue(n,"Manufacturer"),g.model=r.getValue(n,"Product Name"),g.version=r.getValue(n,"Version"),g.serial=r.getValue(n,"Serial Number"),g.assetTag=r.getValue(n,"Asset Tag");try{n=s('echo -n "board_asset_tag: "; cat /sys/devices/virtual/dmi/id/board_asset_tag 2>/dev/null; echo;\n            echo -n "board_name: "; cat /sys/devices/virtual/dmi/id/board_name 2>/dev/null; echo;\n            echo -n "board_serial: "; cat /sys/devices/virtual/dmi/id/board_serial 2>/dev/null; echo;\n            echo -n "board_vendor: "; cat /sys/devices/virtual/dmi/id/board_vendor 2>/dev/null; echo;\n            echo -n "board_version: "; cat /sys/devices/virtual/dmi/id/board_version 2>/dev/null; echo;').toString().split("\n"),g.manufacturer=g.manufacturer?g.manufacturer:r.getValue(n,"board_vendor"),g.model=g.model?g.model:r.getValue(n,"board_name"),g.version=g.version?g.version:r.getValue(n,"board_version"),g.serial=g.serial?g.serial:r.getValue(n,"board_serial"),g.assetTag=g.assetTag?g.assetTag:r.getValue(n,"board_asset_tag")}catch(c){r.noop()}-1!==g.serial.toLowerCase().indexOf("o.e.m.")&&(g.serial="-"),-1!==g.assetTag.toLowerCase().indexOf("o.e.m.")&&(g.assetTag="-"),n=o.results[1]?o.results[1].toString().split("\n"):[""],g.memMax=1024*r.toInt(r.getValue(n,"Maximum Capacity"))*1024*1024||null,g.memSlots=r.toInt(r.getValue(n,"Number Of Devices"))||null;var l=e.readFileSync("/proc/cpuinfo").toString().split("\n");if(r.getValue(l,"hardware").startsWith("BCM")){var u=r.decodePiCpuinfo(l);g.manufacturer=u.manufacturer,g.model="Raspberry Pi",g.serial=u.serial,g.version=u.type+" - "+u.revision,g.memMax=a.totalmem(),g.memSlots=0}t&&t(g),i(g)})}if(l){var h=[];h.push(o("ioreg -c IOPlatformExpertDevice -d 2")),h.push(o("system_profiler SPMemoryDataType")),r.promiseAll(h).then(function(e){var s=e.results[0]?e.results[0].toString().replace(/[<>"]/g,"").split("\n"):[""];g.manufacturer=r.getValue(s,"manufacturer","=",!0),g.model=r.getValue(s,"model","=",!0),g.version=r.getValue(s,"version","=",!0),g.serial=r.getValue(s,"ioplatformserialnumber","=",!0),g.assetTag=r.getValue(s,"board-id","=",!0);var o=e.results[1]?e.results[1].toString().split("        BANK "):[""];1===o.length&&(o=e.results[1]?e.results[1].toString().split("        DIMM"):[""]),o.shift(),g.memSlots=o.length,"arm64"===a.arch()&&(g.memSlots=0,g.memMax=a.totalmem()),t&&t(g),i(g)})}if(m&&(t&&t(g),i(g)),u)try{var V=[];V.push(r.wmic("baseboard get /value")),V.push(r.wmic("memphysical get MaxCapacity, MemoryDevices\t/value")),r.promiseAll(V).then(function(e){var a=e.results[0]?e.results[0].toString().split("\r\n"):[""];g.manufacturer=r.getValue(a,"manufacturer","="),g.model=r.getValue(a,"model","="),g.model||(g.model=r.getValue(a,"product","=")),g.version=r.getValue(a,"version","="),g.serial=r.getValue(a,"serialnumber","="),g.assetTag=r.getValue(a,"partnumber","="),g.assetTag||(g.assetTag=r.getValue(a,"sku","=")),a=e.results[1]?e.results[1].toString().split("\r\n"):[""],g.memMax=r.toInt(r.getValue(a,"MaxCapacity","="))||null,g.memSlots=r.toInt(r.getValue(a,"MemoryDevices","="))||null,t&&t(g),i(g)})}catch(C){t&&t(g),i(g)}})})}function h(e){var a=["Other","Unknown","Desktop","Low Profile Desktop","Pizza Box","Mini Tower","Tower","Portable","Laptop","Notebook","Hand Held","Docking Station","All in One","Sub Notebook","Space-Saving","Lunch Box","Main System Chassis","Expansion Chassis","SubChassis","Bus Expansion Chassis","Peripheral Chassis","Storage Chassis","Rack Mount Chassis","Sealed-Case PC","Multi-System Chassis","Compact PCI","Advanced TCA","Blade","Blade Enclosure","Tablet","Concertible","Detachable","IoT Gateway ","Embedded PC","Mini PC","Stick PC"];return new Promise(function(s){process.nextTick(function(){var o={manufacturer:"",model:"",type:"",version:"",serial:"-",assetTag:"-",sku:""};if(n||c||d||v){t('echo -n "chassis_asset_tag: "; cat /sys/devices/virtual/dmi/id/chassis_asset_tag 2>/dev/null; echo;\n            echo -n "chassis_serial: "; cat /sys/devices/virtual/dmi/id/chassis_serial 2>/dev/null; echo;\n            echo -n "chassis_type: "; cat /sys/devices/virtual/dmi/id/chassis_type 2>/dev/null; echo;\n            echo -n "chassis_vendor: "; cat /sys/devices/virtual/dmi/id/chassis_vendor 2>/dev/null; echo;\n            echo -n "chassis_version: "; cat /sys/devices/virtual/dmi/id/chassis_version 2>/dev/null; echo;',function(t,i){var n=i.toString().split("\n");o.manufacturer=r.getValue(n,"chassis_vendor");var l=parseInt(r.getValue(n,"chassis_type").replace(/\D/g,""));o.type=l&&!isNaN(l)&&l<a.length?a[l-1]:"",o.version=r.getValue(n,"chassis_version"),o.serial=r.getValue(n,"chassis_serial"),o.assetTag=r.getValue(n,"chassis_asset_tag"),-1!==o.manufacturer.toLowerCase().indexOf("o.e.m.")&&(o.manufacturer="-"),-1!==o.version.toLowerCase().indexOf("o.e.m.")&&(o.version="-"),-1!==o.serial.toLowerCase().indexOf("o.e.m.")&&(o.serial="-"),-1!==o.assetTag.toLowerCase().indexOf("o.e.m.")&&(o.assetTag="-"),e&&e(o),s(o)})}if(l&&t("ioreg -c IOPlatformExpertDevice -d 2",function(a,t){if(!a){var i=t.toString().replace(/[<>"]/g,"").split("\n");o.manufacturer=r.getValue(i,"manufacturer","=",!0),o.model=r.getValue(i,"model","=",!0),o.version=r.getValue(i,"version","=",!0),o.serial=r.getValue(i,"ioplatformserialnumber","=",!0),o.assetTag=r.getValue(i,"board-id","=",!0)}e&&e(o),s(o)}),m&&(e&&e(o),s(o)),u)try{r.wmic("path Win32_SystemEnclosure get /value").then(function(t,i){if(!i){var n=t.toString().split("\r\n");o.manufacturer=r.getValue(n,"manufacturer","="),o.model=r.getValue(n,"model","=");var l=parseInt(r.getValue(n,"ChassisTypes","=").replace(/\D/g,""));o.type=l&&!isNaN(l)&&l<a.length?a[l-1]:"",o.version=r.getValue(n,"version","="),o.serial=r.getValue(n,"serialnumber","="),o.assetTag=r.getValue(n,"partnumber","="),o.sku=r.getValue(n,"sku","="),-1!==o.manufacturer.toLowerCase().indexOf("o.e.m.")&&(o.manufacturer="-"),-1!==o.version.toLowerCase().indexOf("o.e.m.")&&(o.version="-"),-1!==o.serial.toLowerCase().indexOf("o.e.m.")&&(o.serial="-"),-1!==o.assetTag.toLowerCase().indexOf("o.e.m.")&&(o.assetTag="-")}e&&e(o),s(o)})}catch(i){e&&e(o),s(o)}})})}exports.system=g,exports.bios=p,exports.baseboard=f,exports.chassis=h;
},{"./util":"YOqM"}],"wSXe":[function(require,module,exports) {
"use strict";var e=require("os"),n=require("fs"),r=require("./util"),i=require("child_process").exec,s=require("child_process").execSync,t=r.promisify(require("child_process").exec),o=process.platform,a="linux"===o,l="darwin"===o,c="win32"===o,p="freebsd"===o,f="openbsd"===o,u="netbsd"===o,v="sunos"===o;function d(){var n=(new Date).toString().split(" ");return{current:Date.now(),uptime:e.uptime(),timezone:n.length>=7?n[5]:"",timezoneName:n.length>=7?n.slice(6).join(" ").replace(/\(/g,"").replace(/\)/g,""):""}}function g(e){e=(e=e||"").toLowerCase();var n=o;return c?n="windows":-1!==e.indexOf("mac os")?n="apple":-1!==e.indexOf("arch")?n="arch":-1!==e.indexOf("centos")?n="centos":-1!==e.indexOf("coreos")?n="coreos":-1!==e.indexOf("debian")?n="debian":-1!==e.indexOf("deepin")?n="deepin":-1!==e.indexOf("elementary")?n="elementary":-1!==e.indexOf("fedora")?n="fedora":-1!==e.indexOf("gentoo")?n="gentoo":-1!==e.indexOf("mageia")?n="mageia":-1!==e.indexOf("mandriva")?n="mandriva":-1!==e.indexOf("manjaro")?n="manjaro":-1!==e.indexOf("mint")?n="mint":-1!==e.indexOf("mx")?n="mx":-1!==e.indexOf("openbsd")?n="openbsd":-1!==e.indexOf("freebsd")?n="freebsd":-1!==e.indexOf("opensuse")?n="opensuse":-1!==e.indexOf("pclinuxos")?n="pclinuxos":-1!==e.indexOf("puppy")?n="puppy":-1!==e.indexOf("raspbian")?n="raspbian":-1!==e.indexOf("reactos")?n="reactos":-1!==e.indexOf("redhat")?n="redhat":-1!==e.indexOf("slackware")?n="slackware":-1!==e.indexOf("sugar")?n="sugar":-1!==e.indexOf("steam")?n="steam":-1!==e.indexOf("suse")?n="suse":-1!==e.indexOf("mate")?n="ubuntu-mate":-1!==e.indexOf("lubuntu")?n="lubuntu":-1!==e.indexOf("xubuntu")?n="xubuntu":-1!==e.indexOf("ubuntu")?n="ubuntu":-1!==e.indexOf("solaris")?n="solaris":-1!==e.indexOf("tails")?n="tails":-1!==e.indexOf("feren")?n="ferenos":-1!==e.indexOf("robolinux")?n="robolinux":a&&e&&(n=e.toLowerCase().trim().replace(/\s+/g,"-")),n}function h(){var n=e.hostname;if(a||l||p||f||u)try{n=s("hostname -f").toString().split(e.EOL)[0]}catch(i){r.noop()}if(c)try{n=s("echo %COMPUTERNAME%.%USERDNSDOMAIN%",r.execOptsWin).toString().replace(".%USERDNSDOMAIN%","").split(e.EOL)[0]}catch(i){r.noop()}return n}function m(n){return new Promise(function(s){process.nextTick(function(){var d={platform:"Windows_NT"===o?"Windows":o,distro:"unknown",release:"unknown",codename:"",kernel:e.release(),arch:e.arch(),hostname:e.hostname(),fqdn:h(),codepage:"",logofile:"",serial:"",build:"",servicepack:"",uefi:!1};if(a&&i("cat /etc/*-release; cat /usr/lib/os-release; cat /etc/openwrt_release",function(e,i){var t={};i.toString().split("\n").forEach(function(e){-1!==e.indexOf("=")&&(t[e.split("=")[0].trim().toUpperCase()]=e.split("=")[1].trim())});var o=(t.VERSION||"").replace(/"/g,""),a=(t.DISTRIB_CODENAME||t.VERSION_CODENAME||"").replace(/"/g,"");o.indexOf("(")>=0&&(a=o.split("(")[1].replace(/[()]/g,"").trim(),o=o.split("(")[0].trim()),d.distro=(t.DISTRIB_ID||t.NAME||"unknown").replace(/"/g,""),d.logofile=g(d.distro),d.release=(o||t.DISTRIB_RELEASE||t.VERSION_ID||"unknown").replace(/"/g,""),d.codename=a,d.codepage=r.getCodepage(),d.build=(t.BUILD_ID||"").replace(/"/g,"").trim(),O().then(function(e){d.uefi=e,C().then(function(e){d.serial=e.os,n&&n(d),s(d)})})}),(p||f||u)&&i("sysctl kern.ostype kern.osrelease kern.osrevision kern.hostuuid machdep.bootmethod",function(e,i){if(!e){var t=i.toString().split("\n");d.distro=r.getValue(t,"kern.ostype"),d.logofile=g(d.distro),d.release=r.getValue(t,"kern.osrelease").split("-")[0],d.serial=r.getValue(t,"kern.uuid"),d.codename="",d.codepage=r.getCodepage(),d.uefi=r.getValue(t,"machdep.bootmethod").toLowerCase().indexOf("uefi")>=0}n&&n(d),s(d)}),l&&i("sw_vers; sysctl kern.ostype kern.osrelease kern.osrevision kern.uuid",function(e,i){var t=i.toString().split("\n");d.serial=r.getValue(t,"kern.uuid"),d.distro=r.getValue(t,"ProductName"),d.release=r.getValue(t,"ProductVersion"),d.build=r.getValue(t,"BuildVersion"),d.logofile=g(d.distro),d.codename="macOS",d.codename=d.release.indexOf("10.4")>-1?"Mac OS X Tiger":d.codename,d.codename=d.release.indexOf("10.4")>-1?"Mac OS X Tiger":d.codename,d.codename=d.release.indexOf("10.4")>-1?"Mac OS X Tiger":d.codename,d.codename=d.release.indexOf("10.5")>-1?"Mac OS X Leopard":d.codename,d.codename=d.release.indexOf("10.6")>-1?"Mac OS X Snow Leopard":d.codename,d.codename=d.release.indexOf("10.7")>-1?"Mac OS X Lion":d.codename,d.codename=d.release.indexOf("10.8")>-1?"OS X Mountain Lion":d.codename,d.codename=d.release.indexOf("10.9")>-1?"OS X Mavericks":d.codename,d.codename=d.release.indexOf("10.10")>-1?"OS X Yosemite":d.codename,d.codename=d.release.indexOf("10.11")>-1?"OS X El Capitan":d.codename,d.codename=d.release.indexOf("10.12")>-1?"macOS Sierra":d.codename,d.codename=d.release.indexOf("10.13")>-1?"macOS High Sierra":d.codename,d.codename=d.release.indexOf("10.14")>-1?"macOS Mojave":d.codename,d.codename=d.release.indexOf("10.15")>-1?"macOS Catalina":d.codename,d.codename=d.release.startsWith("11.")?"macOS Big Sur":d.codename,d.uefi=!0,d.codepage=r.getCodepage(),n&&n(d),s(d)}),v&&(d.release=d.kernel,i("uname -o",function(e,r){var i=r.toString().split("\n");d.distro=i[0],d.logofile=g(d.distro),n&&n(d),s(d)})),c){d.logofile=g(),d.release=d.kernel;try{var m=[];m.push(r.wmic("os get /value")),m.push(t("systeminfo",r.execOptsWin)),m.push(r.powerShell("Add-Type -AssemblyName System.Windows.Forms; [System.Windows.Forms.SystemInformation]::TerminalServerSession")),r.promiseAll(m).then(function(e){var i=e.results[0]?e.results[0].toString().split("\r\n"):[""];d.distro=r.getValue(i,"Caption","=").trim(),d.serial=r.getValue(i,"SerialNumber","=").trim(),d.build=r.getValue(i,"BuildNumber","=").trim(),d.servicepack=r.getValue(i,"ServicePackMajorVersion","=").trim()+"."+r.getValue(i,"ServicePackMinorVersion","=").trim(),d.codepage=r.getCodepage();var t=e.results[1]?e.results[1].toString():"";d.hypervisor=-1!==t.indexOf("hypervisor has been detected")||-1!==t.indexOf("Es wurde ein Hypervisor erkannt")||-1!==t.indexOf("Un hyperviseur a ");var o=e.results[2]?e.results[2].toString():"";d.remoteSession=o.toString().toLowerCase().indexOf("true")>=0,w().then(function(e){d.uefi=e,n&&n(d),s(d)})})}catch(S){n&&n(d),s(d)}}})})}function O(){return new Promise(function(e){process.nextTick(function(){n.stat("/sys/firmware/efi",function(n){n?i('dmesg | grep -E "EFI v"',function(n,r){if(!n){var i=r.toString().split("\n");e(i.length>0)}e(!1)}):e(!0)})})})}function w(){return new Promise(function(e){process.nextTick(function(){try{i('findstr /C:"Detected boot environment" "%windir%\\Panther\\setupact.log"',r.execOptsWin,function(n,s){if(n)i("$env:firmware_type",r.execOptsWin,function(n,r){if(!n){var i=r.toString()||"";e(i.toLowerCase().indexOf("uefi")>=0)}e(!1)}),e(!1);else{var t=s.toString().split("\n\r")[0];e(t.toLowerCase().indexOf("uefi")>=0)}})}catch(n){e(!1)}})})}function S(s,t){var o={kernel:e.release(),openssl:"",systemOpenssl:"",systemOpensslLib:"",node:process.versions.node,v8:process.versions.v8,npm:"",yarn:"",pm2:"",gulp:"",grunt:"",git:"",tsc:"",mysql:"",redis:"",mongodb:"",apache:"",nginx:"",php:"",docker:"",postfix:"",postgresql:"",perl:"",python:"",python3:"",pip:"",pip3:"",java:"",gcc:"",virtualbox:"",bash:"",zsh:"",fish:"",powershell:"",dotnet:""};return new Promise(function(e){process.nextTick(function(){r.isFunction(s)&&!t?(t=s,s="*"):s=s||"*";var p=function(e){if("*"===e)return{versions:o,counter:30};if(!Array.isArray(e)){e=(e=e.trim().toLowerCase().replace(/,+/g,"|").replace(/ /g,"|")).split("|");var n={versions:{},counter:0};return e.forEach(function(e){if(e)for(var r in o)({}).hasOwnProperty.call(o,r)&&(r.toLowerCase()!==e.toLowerCase()||{}.hasOwnProperty.call(n.versions,r)||(n.versions[r]=o[r],"openssl"===r&&(n.versions.systemOpenssl="",n.versions.systemOpensslLib=""),n.versions[r]||n.counter++))}),n}}(s),f=p.counter,u=function(){0==--f&&(t&&t(p.versions),e(p.versions))},v="";try{if({}.hasOwnProperty.call(p.versions,"openssl")&&(p.versions.openssl=process.versions.openssl,i("openssl version",function(e,n){if(!e){var r=n.toString().split("\n")[0].trim().split(" ");p.versions.systemOpenssl=r.length>0?r[1]:r[0],p.versions.systemOpensslLib=r.length>0?r[0]:"openssl"}u()})),{}.hasOwnProperty.call(p.versions,"npm")&&i("npm -v",function(e,n){e||(p.versions.npm=n.toString().split("\n")[0]),u()}),{}.hasOwnProperty.call(p.versions,"pm2")&&(v="pm2",c&&(v+=".cmd"),i(`${v} -v`,function(e,n){if(!e){var r=n.toString().split("\n")[0].trim();r.startsWith("[PM2]")||(p.versions.pm2=r)}u()})),{}.hasOwnProperty.call(p.versions,"yarn")&&i("yarn --version",function(e,n){e||(p.versions.yarn=n.toString().split("\n")[0]),u()}),{}.hasOwnProperty.call(p.versions,"gulp")&&(v="gulp",c&&(v+=".cmd"),i(`${v} --version`,function(e,n){if(!e){var r=n.toString().split("\n")[0]||"";p.versions.gulp=(r.toLowerCase().split("version")[1]||"").trim()}u()})),{}.hasOwnProperty.call(p.versions,"tsc")&&(v="tsc",c&&(v+=".cmd"),i(`${v} --version`,function(e,n){if(!e){var r=n.toString().split("\n")[0]||"";p.versions.tsc=(r.toLowerCase().split("version")[1]||"").trim()}u()})),{}.hasOwnProperty.call(p.versions,"grunt")&&(v="grunt",c&&(v+=".cmd"),i(`${v} --version`,function(e,n){if(!e){var r=n.toString().split("\n")[0]||"";p.versions.grunt=(r.toLowerCase().split("cli v")[1]||"").trim()}u()})),{}.hasOwnProperty.call(p.versions,"git"))if(l){var d=n.existsSync("/usr/local/Cellar/git");r.darwinXcodeExists()||d?i("git --version",function(e,n){if(!e){var r=n.toString().split("\n")[0]||"";r=(r.toLowerCase().split("version")[1]||"").trim(),p.versions.git=(r.split(" ")[0]||"").trim()}u()}):u()}else i("git --version",function(e,n){if(!e){var r=n.toString().split("\n")[0]||"";r=(r.toLowerCase().split("version")[1]||"").trim(),p.versions.git=(r.split(" ")[0]||"").trim()}u()});if({}.hasOwnProperty.call(p.versions,"apache")&&i("apachectl -v 2>&1",function(e,n){if(!e){var r=(n.toString().split("\n")[0]||"").split(":");p.versions.apache=r.length>1?r[1].replace("Apache","").replace("/","").split("(")[0].trim():""}u()}),{}.hasOwnProperty.call(p.versions,"nginx")&&i("nginx -v 2>&1",function(e,n){if(!e){var r=n.toString().split("\n")[0]||"";p.versions.nginx=(r.toLowerCase().split("/")[1]||"").trim()}u()}),{}.hasOwnProperty.call(p.versions,"mysql")&&i("mysql -V",function(e,n){if(!e){var r=n.toString().split("\n")[0]||"";if((r=r.toLowerCase()).indexOf(",")>-1){var i=(r=(r.split(",")[0]||"").trim()).split(" ");p.versions.mysql=(i[i.length-1]||"").trim()}else r.indexOf(" ver ")>-1&&(r=r.split(" ver ")[1],p.versions.mysql=r.split(" ")[0])}u()}),{}.hasOwnProperty.call(p.versions,"php")&&i("php -v",function(e,n){if(!e){var r=(n.toString().split("\n")[0]||"").split("(");r[0].indexOf("-")&&(r=r[0].split("-")),p.versions.php=r[0].replace(/[^0-9.]/g,"")}u()}),{}.hasOwnProperty.call(p.versions,"redis")&&i("redis-server --version",function(e,n){if(!e){var i=(n.toString().split("\n")[0]||"").split(" ");p.versions.redis=r.getValue(i,"v","=",!0)}u()}),{}.hasOwnProperty.call(p.versions,"docker")&&i("docker --version",function(e,n){if(!e){var r=(n.toString().split("\n")[0]||"").split(" ");p.versions.docker=r.length>2&&r[2].endsWith(",")?r[2].slice(0,-1):""}u()}),{}.hasOwnProperty.call(p.versions,"postfix")&&i("postconf -d | grep mail_version",function(e,n){if(!e){var i=n.toString().split("\n")||[];p.versions.postfix=r.getValue(i,"mail_version","=",!0)}u()}),{}.hasOwnProperty.call(p.versions,"mongodb")&&i("mongod --version",function(e,n){if(!e){var r=n.toString().split("\n")[0]||"";p.versions.mongodb=(r.toLowerCase().split(",")[0]||"").replace(/[^0-9.]/g,"")}u()}),{}.hasOwnProperty.call(p.versions,"postgresql")&&(a?i("locate bin/postgres",function(e,n){if(e)i("psql -V",function(e,n){if(!e){var r=n.toString().split("\n")[0].split(" ")||[];p.versions.postgresql=r.length?r[r.length-1]:"",p.versions.postgresql=p.versions.postgresql.split("-")[0]}u()}),u();else{var r=n.toString().split("\n").sort();r.length?i(r[r.length-1]+" -V",function(e,n){if(!e){var r=n.toString().split("\n")[0].split(" ")||[];p.versions.postgresql=r.length?r[r.length-1]:""}u()}):u()}}):c?r.wmic("service get /value").then(function(e){for(var n=e.split(/\n\s*\n/),i=0;i<n.length;i++)if(""!==n[i].trim()){var s=n[i].trim().split("\r\n"),t=r.getValue(s,"caption","=",!0).toLowerCase();if(t.indexOf("postgresql")>-1){var o=t.split(" server ");o.length>1&&(p.versions.postgresql=o[1])}}u()}):i("postgres -V",function(e,n){if(!e){var r=n.toString().split("\n")[0].split(" ")||[];p.versions.postgresql=r.length?r[r.length-1]:""}u()})),{}.hasOwnProperty.call(p.versions,"perl")&&i("perl -v",function(e,n){if(!e){for(var r=n.toString().split("\n")||"";r.length>0&&""===r[0].trim();)r.shift();r.length>0&&(p.versions.perl=r[0].split("(").pop().split(")")[0].replace("v",""))}u()}),{}.hasOwnProperty.call(p.versions,"python"))if(l){var g=n.existsSync("/usr/local/Cellar/python");r.darwinXcodeExists()||g?i("python -V 2>&1",function(e,n){if(!e){var r=n.toString().split("\n")[0]||"";p.versions.python=r.toLowerCase().replace("python","").trim()}u()}):u()}else i("python -V 2>&1",function(e,n){if(!e){var r=n.toString().split("\n")[0]||"";p.versions.python=r.toLowerCase().replace("python","").trim()}u()});if({}.hasOwnProperty.call(p.versions,"python3"))if(l){var h=n.existsSync("/usr/local/Cellar/python3");r.darwinXcodeExists()||h?i("python3 -V 2>&1",function(e,n){if(!e){var r=n.toString().split("\n")[0]||"";p.versions.python3=r.toLowerCase().replace("python","").trim()}u()}):u()}else i("python3 -V 2>&1",function(e,n){if(!e){var r=n.toString().split("\n")[0]||"";p.versions.python3=r.toLowerCase().replace("python","").trim()}u()});if({}.hasOwnProperty.call(p.versions,"pip"))if(l){var m=n.existsSync("/usr/local/Cellar/pip");r.darwinXcodeExists()||m?i("pip -V 2>&1",function(e,n){if(!e){var r=(n.toString().split("\n")[0]||"").split(" ");p.versions.pip=r.length>=2?r[1]:""}u()}):u()}else i("pip -V 2>&1",function(e,n){if(!e){var r=(n.toString().split("\n")[0]||"").split(" ");p.versions.pip=r.length>=2?r[1]:""}u()});if({}.hasOwnProperty.call(p.versions,"pip3"))if(l){var O=n.existsSync("/usr/local/Cellar/pip3");r.darwinXcodeExists()||O?i("pip3 -V 2>&1",function(e,n){if(!e){var r=(n.toString().split("\n")[0]||"").split(" ");p.versions.pip3=r.length>=2?r[1]:""}u()}):u()}else i("pip3 -V 2>&1",function(e,n){if(!e){var r=(n.toString().split("\n")[0]||"").split(" ");p.versions.pip3=r.length>=2?r[1]:""}u()});({}).hasOwnProperty.call(p.versions,"java")&&(l?i("/usr/libexec/java_home -V 2>&1",function(e,n){e||-1!==n.toString().toLowerCase().indexOf("no java runtime")?u():i("java -version 2>&1",function(e,n){if(!e){var r=(n.toString().split("\n")[0]||"").split('"');p.versions.java=3===r.length?r[1].trim():""}u()})}):i("java -version 2>&1",function(e,n){if(!e){var r=(n.toString().split("\n")[0]||"").split('"');p.versions.java=3===r.length?r[1].trim():""}u()})),{}.hasOwnProperty.call(p.versions,"gcc")&&(l&&r.darwinXcodeExists()||!l?i("gcc -dumpversion",function(e,n){e||(p.versions.gcc=n.toString().split("\n")[0].trim()||""),p.versions.gcc.indexOf(".")>-1?u():i("gcc --version",function(e,n){if(!e){var r=n.toString().split("\n")[0].trim();if(r.indexOf("gcc")>-1&&r.indexOf(")")>-1){var i=r.split(")");p.versions.gcc=i[1].trim()||p.versions.gcc}}u()})}):u()),{}.hasOwnProperty.call(p.versions,"virtualbox")&&i(r.getVboxmanage()+" -v 2>&1",function(e,n){if(!e){var r=(n.toString().split("\n")[0]||"").split("r");p.versions.virtualbox=r[0]}u()}),{}.hasOwnProperty.call(p.versions,"bash")&&i("bash --version",function(e,n){if(!e){var r=n.toString().split("\n")[0].split(" version ");r.length>1&&(p.versions.bash=r[1].split(" ")[0].split("(")[0])}u()}),{}.hasOwnProperty.call(p.versions,"zsh")&&i("zsh --version",function(e,n){if(!e){var r=n.toString().split("\n")[0].split("zsh ");r.length>1&&(p.versions.zsh=r[1].split(" ")[0])}u()}),{}.hasOwnProperty.call(p.versions,"fish")&&i("fish --version",function(e,n){if(!e){var r=n.toString().split("\n")[0].split(" version ");r.length>1&&(p.versions.fish=r[1].split(" ")[0])}u()}),{}.hasOwnProperty.call(p.versions,"powershell")&&(c?r.powerShell("$PSVersionTable").then(function(e){var n=e.toString().split("\n").map(function(e){return e.replace(/ +/g," ").replace(/ +/g,":")});p.versions.powershell=r.getValue(n,"psversion"),u()}):u()),{}.hasOwnProperty.call(p.versions,"dotnet")&&r.powerShell('gci "HKLM:\\SOFTWARE\\Microsoft\\NET Framework Setup\\NDP" -recurse | gp -name Version,Release -EA 0 | where { $_.PSChildName -match "^(?!S)\\p{L}"} | select PSChildName, Version, Release').then(function(e){var n=e.toString().split("\r\n"),r="";n.forEach(function(e){var n=(e=e.replace(/ +/g," ")).split(" ");r=r||(n[0].toLowerCase().startsWith("client")&&n.length>2?n[1].trim():n[0].toLowerCase().startsWith("full")&&n.length>2?n[1].trim():"")}),p.versions.dotnet=r.trim(),u()})}catch(w){t&&t(p.versions),e(p.versions)}})})}function x(e){return new Promise(function(n){process.nextTick(function(){c&&n("cmd");var r="";i("echo $SHELL",function(i,s){i||(r=s.toString().split("\n")[0]),e&&e(r),n(r)})})})}function y(){var n=e.networkInterfaces(),r=[];for(var i in n)({}).hasOwnProperty.call(n,i)&&n[i].forEach(function(e){if(e&&e.mac&&"00:00:00:00:00:00"!==e.mac){var n=e.mac.toLowerCase();-1===r.indexOf(n)&&r.push(n)}});return r=r.sort(function(e,n){return e<n?-1:e>n?1:0})}function C(e){return new Promise(function(s){process.nextTick(function(){var t,o={os:"",hardware:"",macs:y()};if(l&&i("system_profiler SPHardwareDataType -json",function(n,i){if(!n)try{var t=JSON.parse(i.toString());if(t.SPHardwareDataType&&t.SPHardwareDataType.length>0){var a=t.SPHardwareDataType[0];o.os=a.platform_UUID.toLowerCase(),o.hardware=a.serial_number}}catch(l){r.noop()}e&&e(o),s(o)}),a){i('echo -n "os: "; cat /var/lib/dbus/machine-id 2> /dev/null; echo;\necho -n "os: "; cat /etc/machine-id 2> /dev/null; echo;\necho -n "hardware: "; cat /sys/class/dmi/id/product_uuid 2> /dev/null; echo;',function(i,t){var a=t.toString().split("\n");if(o.os=r.getValue(a,"os").toLowerCase(),o.hardware=r.getValue(a,"hardware").toLowerCase(),!o.hardware){var l=n.readFileSync("/proc/cpuinfo",{encoding:"utf8"}).toString().split("\n"),c=r.getValue(l,"serial");o.hardware=c||""}e&&e(o),s(o)})}if(p||f||u){i('echo -n "os: "; sysctl -n kern.hostid; echo;\necho -n "hardware: "; sysctl -n kern.hostuuid; echo;',function(n,i){var t=i.toString().split("\n");o.os=r.getValue(t,"os").toLowerCase(),o.hardware=r.getValue(t,"hardware").toLowerCase(),o.os.indexOf("unknown")>=0&&(o.os=""),o.hardware.indexOf("unknown")>=0&&(o.hardware=""),e&&e(o),s(o)})}c&&i('%windir%\\System32\\reg query "HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Cryptography" /v MachineGuid',r.execOptsWin,function(n,i){t=i.toString().split("\n\r")[0].split("REG_SZ"),o.os=t.length>1?t[1].replace(/\r+|\n+|\s+/gi,"").toLowerCase():"",r.wmic("csproduct get /value").then(function(n){var i=n.split("\r\n");o.hardware=r.getValue(i,"uuid","=").toLowerCase(),e&&e(o),s(o)})})})})}exports.time=d,exports.osInfo=m,exports.versions=S,exports.shell=x,exports.uuid=C;
},{"./util":"YOqM"}],"Ja0j":[function(require,module,exports) {
"use strict";var e=require("os"),r=require("child_process").exec,t=require("child_process").execSync,a=require("fs"),n=require("./util"),o=process.platform,i="linux"===o,c="darwin"===o,s="win32"===o,l="freebsd"===o,u="openbsd"===o,d="netbsd"===o,p="sunos"===o,h=0,m={user:0,nice:0,system:0,idle:0,irq:0,load:0,tick:0,ms:0,currentLoad:0,currentLoadUser:0,currentLoadSystem:0,currentLoadNice:0,currentLoadIdle:0,currentLoadIrq:0,rawCurrentLoad:0,rawCurrentLoadUser:0,rawCurrentLoadSystem:0,rawCurrentLoadNice:0,rawCurrentLoadIdle:0,rawCurrentLoadIrq:0},f=[],g=0,L={8346:"1.8",8347:"1.9",8350:"2.0",8354:"2.2","8356|SE":"2.4",8356:"2.3",8360:"2.5",2372:"2.1",2373:"2.1",2374:"2.2",2376:"2.3",2377:"2.3",2378:"2.4",2379:"2.4",2380:"2.5",2381:"2.5",2382:"2.6",2384:"2.7",2386:"2.8",2387:"2.8",2389:"2.9",2393:"3.1",8374:"2.2",8376:"2.3",8378:"2.4",8379:"2.4",8380:"2.5",8381:"2.5",8382:"2.6",8384:"2.7",8386:"2.8",8387:"2.8",8389:"2.9",8393:"3.1","2419EE":"1.8","2423HE":"2.0","2425HE":"2.1",2427:"2.2",2431:"2.4",2435:"2.6","2439SE":"2.8","8425HE":"2.1",8431:"2.4",8435:"2.6","8439SE":"2.8",4122:"2.2",4130:"2.6","4162EE":"1.7","4164EE":"1.8","4170HE":"2.1","4174HE":"2.3","4176HE":"2.4",4180:"2.6",4184:"2.8","6124HE":"1.8","6128HE":"2.0","6132HE":"2.2",6128:"2.0",6134:"2.3",6136:"2.4",6140:"2.6","6164HE":"1.7","6166HE":"1.8",6168:"1.9",6172:"2.1",6174:"2.2",6176:"2.3","6176SE":"2.3","6180SE":"2.5",3250:"2.5",3260:"2.7",3280:"2.4",4226:"2.7",4228:"2.8",4230:"2.9",4234:"3.1",4238:"3.3",4240:"3.4",4256:"1.6",4274:"2.5",4276:"2.6",4280:"2.8",4284:"3.0",6204:"3.3",6212:"2.6",6220:"3.0",6234:"2.4",6238:"2.6","6262HE":"1.6",6272:"2.1",6274:"2.2",6276:"2.3",6278:"2.4","6282SE":"2.6","6284SE":"2.7",6308:"3.5",6320:"2.8",6328:"3.2","6338P":"2.3",6344:"2.6",6348:"2.8",6366:"1.8","6370P":"2.0",6376:"2.3",6378:"2.4",6380:"2.5",6386:"2.8","FX|4100":"3.6","FX|4120":"3.9","FX|4130":"3.8","FX|4150":"3.8","FX|4170":"4.2","FX|6100":"3.3","FX|6120":"3.6","FX|6130":"3.6","FX|6200":"3.8","FX|8100":"2.8","FX|8120":"3.1","FX|8140":"3.2","FX|8150":"3.6","FX|8170":"3.9","FX|4300":"3.8","FX|4320":"4.0","FX|4350":"4.2","FX|6300":"3.5","FX|6350":"3.9","FX|8300":"3.3","FX|8310":"3.4","FX|8320":"3.5","FX|8350":"4.0","FX|8370":"4.0","FX|9370":"4.4","FX|9590":"4.7","FX|8320E":"3.2","FX|8370E":"3.3",1200:"3.1","Pro 1200":"3.1","1300X":"3.5","Pro 1300":"3.5",1400:"3.2","1500X":"3.5","Pro 1500":"3.5",1600:"3.2","1600X":"3.6","Pro 1600":"3.2",1700:"3.0","Pro 1700":"3.0","1700X":"3.4","Pro 1700X":"3.4","1800X":"3.6","1900X":"3.8",1920:"3.2","1920X":"3.5","1950X":"3.4","200GE":"3.2","Pro 200GE":"3.2","220GE":"3.4","240GE":"3.5","3000G":"3.5","300GE":"3.4","3050GE":"3.4","2200G":"3.5","Pro 2200G":"3.5","2200GE":"3.2","Pro 2200GE":"3.2","2400G":"3.6","Pro 2400G":"3.6","2400GE":"3.2","Pro 2400GE":"3.2","Pro 200U":"2.3","300U":"2.4","2200U":"2.5","3200U":"2.6","2300U":"2.0","Pro 2300U":"2.0","2500U":"2.0","Pro 2500U":"2.2","2600H":"3.2","2700U":"2.0","Pro 2700U":"2.2","2800H":"3.3",7351:"2.4","7351P":"2.4",7401:"2.0","7401P":"2.0","7551P":"2.0",7551:"2.0",7251:"2.1",7261:"2.5",7281:"2.1",7301:"2.2",7371:"3.1",7451:"2.3",7501:"2.0",7571:"2.2",7601:"2.2",V1500B:"2.2",V1780B:"3.35",V1202B:"2.3",V1404I:"2.0",V1605B:"2.0",V1756B:"3.25",V1807B:"3.35",3101:"2.1",3151:"2.7",3201:"1.5",3251:"2.5",3255:"2.5",3301:"2.0",3351:"1.9",3401:"1.85",3451:"2.15","1200|AF":"3.1","2300X":"3.5","2500X":"3.6",2600:"3.4","2600E":"3.1","1600|AF":"3.2","2600X":"3.6",2700:"3.2","2700E":"2.8","Pro 2700":"3.2","2700X":"3.7","Pro 2700X":"3.6","2920X":"3.5","2950X":"3.5","2970WX":"3.0","2990WX":"3.0","Pro 300GE":"3.4","Pro 3125GE":"3.4","3150G":"3.5","Pro 3150G":"3.5","3150GE":"3.3","Pro 3150GE":"3.3","3200G":"3.6","Pro 3200G":"3.6","3200GE":"3.3","Pro 3200GE":"3.3","3350G":"3.6","Pro 3350G":"3.6","3350GE":"3.3","Pro 3350GE":"3.3","3400G":"3.7","Pro 3400G":"3.7","3400GE":"3.3","Pro 3400GE":"3.3","3300U":"2.1","PRO 3300U":"2.1","3450U":"2.1","3500U":"2.1","PRO 3500U":"2.1","3500C":"2.1","3550H":"2.1","3580U":"2.1","3700U":"2.3","PRO 3700U":"2.3","3700C":"2.3","3750H":"2.3","3780U":"2.3",3100:"3.6","3300X":"3.8",3500:"3.6","3500X":"3.6",3600:"3.6","Pro 3600":"3.6","3600X":"3.8","3600XT":"3.8","Pro 3700":"3.6","3700X":"3.6","3800X":"3.9","3800XT":"3.9",3900:"3.1","Pro 3900":"3.1","3900X":"3.8","3900XT":"3.8","3950X":"3.5","3960X":"3.8","3970X":"3.7","3990X":"2.9","3945WX":"4.0","3955WX":"3.9","3975WX":"3.5","3995WX":"2.7","4300GE":"3.5","Pro 4300GE":"3.5","4300G":"3.8","Pro 4300G":"3.8","4600GE":"3.3","Pro 4650GE":"3.3","4600G":"3.7","Pro 4650G":"3.7","4700GE":"3.1","Pro 4750GE":"3.1","4700G":"3.6","Pro 4750G":"3.6","4300U":"2.7","Pro 4450U":"2.5","4500U":"2.3","4600U":"2.1","PRO 4650U":"2.1","4600HS":"3.0","4600H":"3.0","4700U":"2.0","PRO 4750U":"1.7","4800U":"1.8","4800HS":"2.9","4800H":"2.9","4900HS":"3.0","4900H":"3.3","7232P":"3.1","7302P":"3.0","7402P":"2.8","7502P":"2.5","7702P":"2.0",7252:"3.1",7262:"3.2",7272:"2.9",7282:"2.8",7302:"3.0",7352:"2.3",7402:"2.8",7452:"2.35",7502:"2.5",7532:"2.4",7542:"2.9",7552:"2.2",7642:"2.3",7662:"2.0",7702:"2.0",7742:"2.25","7H12":"2.6","7F32":"3.7","7F52":"3.5","7F72":"3.2","5600X":"3.7","5800X":"3.8","5900X":"3.7","5950X":"3.4"},v={1:"Other",2:"Unknown",3:"Daughter Board",4:"ZIF Socket",5:"Replacement/Piggy Back",6:"None",7:"LIF Socket",8:"Slot 1",9:"Slot 2",10:"370 Pin Socket",11:"Slot A",12:"Slot M",13:"423",14:"A (Socket 462)",15:"478",16:"754",17:"940",18:"939",19:"mPGA604",20:"LGA771",21:"LGA775",22:"S1",23:"AM2",24:"F (1207)",25:"LGA1366",26:"G34",27:"AM3",28:"C32",29:"LGA1156",30:"LGA1567",31:"PGA988A",32:"BGA1288",33:"rPGA988B",34:"BGA1023",35:"BGA1224",36:"LGA1155",37:"LGA1356",38:"LGA2011",39:"FS1",40:"FS2",41:"FM1",42:"FM2",43:"LGA2011-3",44:"LGA1356-3",45:"LGA1150",46:"BGA1168",47:"BGA1234",48:"BGA1364",49:"AM4",50:"LGA1151",51:"BGA1356",52:"BGA1440",53:"BGA1515",54:"LGA3647-1",55:"SP3",56:"SP3r2",57:"LGA2066",58:"BGA1392",59:"BGA1510",60:"BGA1528",61:"LGA4189",62:"LGA1200"};function C(e){e.brand=e.brand.replace(/\(R\)+/g,"®").replace(/\s+/g," ").trim(),e.brand=e.brand.replace(/\(TM\)+/g,"™").replace(/\s+/g," ").trim(),e.brand=e.brand.replace(/\(C\)+/g,"©").replace(/\s+/g," ").trim(),e.brand=e.brand.replace(/CPU+/g,"").replace(/\s+/g," ").trim(),e.manufacturer=e.brand.split(" ")[0];var r=e.brand.split(" ");return r.shift(),e.brand=r.join(" "),e}function w(e){var r="0";for(var t in L)({}).hasOwnProperty.call(L,t)&&function(){var a=t.split("|"),n=0;a.forEach(function(r){e.indexOf(r)>-1&&n++}),n===a.length&&(r=L[t])}();return parseFloat(r)}function x(){return new Promise(function(o){process.nextTick(function(){var m={manufacturer:"unknown",brand:"unknown",vendor:"",family:"",model:"",stepping:"",revision:"",voltage:"",speed:0,speedMin:0,speedMax:0,governor:"",cores:n.cores(),physicalCores:n.cores(),processors:1,socket:"",flags:"",virtualization:!1,cache:{}};E().then(function(f){if(m.flags=f,m.virtualization=f.indexOf("vmx")>-1||f.indexOf("svm")>-1,s)try{var g=t("systeminfo",n.execOptsWin).toString();m.virtualization=m.virtualization||-1!==g.indexOf("Virtualization Enabled In Firmware: Yes")||-1!==g.indexOf("Virtualisierung in Firmware aktiviert: Ja")||-1!==g.indexOf("Virtualisation activée dans le microprogramme : Qiu")}catch(E){n.noop()}if(c&&r("sysctl machdep.cpu hw.cpufrequency_max hw.cpufrequency_min hw.packages hw.physicalcpu_max hw.ncpu hw.tbfrequency hw.cpufamily hw.cpusubfamily",function(r,a){var i=a.toString().split("\n"),c=n.getValue(i,"machdep.cpu.brand_string").split("@");m.brand=c[0].trim();var s=c[1]?c[1].trim():"0";m.speed=parseFloat(s.replace(/GHz+/g,""));var l=n.getValue(i,"hw.tbfrequency")/1e9;l=l<.1?100*l:l,m.speed=0===m.speed?l:m.speed,h=m.speed,(m=C(m)).speedMin=n.getValue(i,"hw.cpufrequency_min")?n.getValue(i,"hw.cpufrequency_min")/1e9:m.speed,m.speedMax=n.getValue(i,"hw.cpufrequency_max")?n.getValue(i,"hw.cpufrequency_max")/1e9:m.speed,m.vendor=n.getValue(i,"machdep.cpu.vendor")||"Apple",m.family=n.getValue(i,"machdep.cpu.family")||n.getValue(i,"hw.cpufamily"),m.model=n.getValue(i,"machdep.cpu.model"),m.stepping=n.getValue(i,"machdep.cpu.stepping")||n.getValue(i,"hw.cpusubfamily");var u=n.getValue(i,"hw.packages"),d=n.getValue(i,"hw.physicalcpu_max"),p=n.getValue(i,"hw.ncpu");if("arm64"===e.arch()){var f=t("ioreg -c IOPlatformDevice -d 3 -r | grep cluster-type").toString().split("\n"),g=f.filter(function(e){return e.indexOf('"E"')>=0}).length,L=f.filter(function(e){return e.indexOf('"P"')>=0}).length;m.socket="SOC",m.efficiencyCores=g,m.performanceCores=L}u&&(m.processors=parseInt(u)||1),d&&p&&(m.cores=parseInt(p)||n.cores(),m.physicalCores=parseInt(d)||n.cores()),G().then(function(e){m.cache=e,o(m)})}),i){var L="",x=[];e.cpus()[0]&&e.cpus()[0].model&&(L=e.cpus()[0].model),r('export LC_ALL=C; lscpu; echo -n "Governor: "; cat /sys/devices/system/cpu/cpu0/cpufreq/scaling_governor 2>/dev/null; echo; unset LC_ALL',function(e,t){e||(x=t.toString().split("\n"));var i=(L=n.getValue(x,"model name")||L).split("@");if(m.brand=i[0].trim(),m.speed=i[1]?parseFloat(i[1].trim()):0,0===m.speed&&(m.brand.indexOf("AMD")>-1||m.brand.toLowerCase().indexOf("ryzen")>-1)&&(m.speed=w(m.brand)),0===m.speed){var c=I();0!==c.avg&&(m.speed=c.avg)}h=m.speed,m.speedMin=Math.round(parseFloat(n.getValue(x,"cpu min mhz").replace(/,/g,"."))/10)/100,m.speedMax=Math.round(parseFloat(n.getValue(x,"cpu max mhz").replace(/,/g,"."))/10)/100,(m=C(m)).vendor=n.getValue(x,"vendor id"),m.family=n.getValue(x,"cpu family"),m.model=n.getValue(x,"model:"),m.stepping=n.getValue(x,"stepping"),m.revision=n.getValue(x,"cpu revision"),m.cache.l1d=n.getValue(x,"l1d cache"),m.cache.l1d&&(m.cache.l1d=parseInt(m.cache.l1d)*(-1!==m.cache.l1d.indexOf("K")?1024:1)),m.cache.l1i=n.getValue(x,"l1i cache"),m.cache.l1i&&(m.cache.l1i=parseInt(m.cache.l1i)*(-1!==m.cache.l1i.indexOf("K")?1024:1)),m.cache.l2=n.getValue(x,"l2 cache"),m.cache.l2&&(m.cache.l2=parseInt(m.cache.l2)*(-1!==m.cache.l2.indexOf("K")?1024:1)),m.cache.l3=n.getValue(x,"l3 cache"),m.cache.l3&&(m.cache.l3=parseInt(m.cache.l3)*(-1!==m.cache.l3.indexOf("K")?1024:1));var s=n.getValue(x,"thread(s) per core")||"1",l=n.getValue(x,"socket(s)")||"1",u=parseInt(s,10),d=parseInt(l,10);if(m.physicalCores=m.cores/u,m.processors=d,m.governor=n.getValue(x,"governor")||"","ARM"===m.vendor){var p=a.readFileSync("/proc/cpuinfo").toString().split("\n"),f=n.decodePiCpuinfo(p);f.model.toLowerCase().indexOf("raspberry")>=0&&(m.family=m.manufacturer,m.manufacturer=f.manufacturer,m.brand=f.processor,m.revision=f.revisionCode,m.socket="SOC")}var g=[];r('export LC_ALL=C; dmidecode –t 4 2>/dev/null | grep "Upgrade: Socket"; unset LC_ALL',function(e,r){(g=r.toString().split("\n"))&&g.length&&(m.socket=n.getValue(g,"Upgrade").replace("Socket","").trim()||m.socket),o(m)})})}if(l||u||d){var y="",P=[];e.cpus()[0]&&e.cpus()[0].model&&(y=e.cpus()[0].model),r("export LC_ALL=C; dmidecode -t 4; dmidecode -t 7 unset LC_ALL",function(e,r){var t=[];if(!e){var a=r.toString().split("# dmidecode"),i=a.length>1?a[1]:"";t=a.length>2?a[2].split("Cache Information"):[],P=i.split("\n")}if(m.brand=y.split("@")[0].trim(),m.speed=y.split("@")[1]?parseFloat(y.split("@")[1].trim()):0,0===m.speed&&(m.brand.indexOf("AMD")>-1||m.brand.toLowerCase().indexOf("ryzen")>-1)&&(m.speed=w(m.brand)),0===m.speed){var c=I();0!==c.avg&&(m.speed=c.avg)}h=m.speed,m.speedMin=m.speed,m.speedMax=Math.round(parseFloat(n.getValue(P,"max speed").replace(/Mhz/g,""))/10)/100,(m=C(m)).vendor=n.getValue(P,"manufacturer");var s=n.getValue(P,"signature");s=s.split(",");for(var l=0;l<s.length;l++)s[l]=s[l].trim();m.family=n.getValue(s,"Family"," ",!0),m.model=n.getValue(s,"Model"," ",!0),m.stepping=n.getValue(s,"Stepping"," ",!0),m.revision="";var u=parseFloat(n.getValue(P,"voltage"));m.voltage=isNaN(u)?"":u.toFixed(2);for(var d=0;d<t.length;d++){P=t[d].split("\n");var p=n.getValue(P,"Socket Designation").toLowerCase().replace(" ","-").split("-");p=p.length?p[0]:"";var f=n.getValue(P,"Installed Size").split(" "),g=parseInt(f[0],10),L=f.length>1?f[1]:"kb";g*="kb"===L?1024:"mb"===L?1048576:"gb"===L?1073741824:1,p&&("l1"===p?(m.cache[p+"d"]=g/2,m.cache[p+"i"]=g/2):m.cache[p]=g)}m.socket=n.getValue(P,"Upgrade").replace("Socket","").trim();var v=n.getValue(P,"thread count").trim(),x=n.getValue(P,"core count").trim();x&&v&&(m.cores=v,m.physicalCores=x),o(m)})}if(p&&o(m),s)try{var S=[];S.push(n.wmic("cpu get /value")),S.push(n.wmic("path Win32_CacheMemory get CacheType,InstalledSize,Purpose")),Promise.all(S).then(function(e){var r=e[0].split("\r\n"),t=n.getValue(r,"name","=")||"";t.indexOf("@")>=0?(m.brand=t.split("@")[0].trim(),m.speed=t.split("@")[1]?parseFloat(t.split("@")[1].trim()):0,h=m.speed):(m.brand=t.trim(),m.speed=0),(m=C(m)).revision=n.getValue(r,"revision","="),m.cache.l1d=0,m.cache.l1i=0,m.cache.l2=n.getValue(r,"l2cachesize","="),m.cache.l3=n.getValue(r,"l3cachesize","="),m.cache.l2&&(m.cache.l2=1024*parseInt(m.cache.l2,10)),m.cache.l3&&(m.cache.l3=1024*parseInt(m.cache.l3,10)),m.vendor=n.getValue(r,"manufacturer","="),m.speedMax=Math.round(parseFloat(n.getValue(r,"maxclockspeed","=").replace(/,/g,"."))/10)/100,0===m.speed&&(m.brand.indexOf("AMD")>-1||m.brand.toLowerCase().indexOf("ryzen")>-1)&&(m.speed=w(m.brand)),0===m.speed&&(m.speed=m.speedMax),m.speedMin=m.speed;for(var a=n.getValue(r,"description","=").split(" "),i=0;i<a.length;i++)a[i].toLowerCase().startsWith("family")&&i+1<a.length&&a[i+1]&&(m.family=a[i+1]),a[i].toLowerCase().startsWith("model")&&i+1<a.length&&a[i+1]&&(m.model=a[i+1]),a[i].toLowerCase().startsWith("stepping")&&i+1<a.length&&a[i+1]&&(m.stepping=a[i+1]);var c=n.getValue(r,"UpgradeMethod","=");v[c]&&(m.socket=v[c]);var s=n.countLines(r,"Caption"),l=n.getValue(r,"NumberOfLogicalProcessors","="),u=n.getValue(r,"NumberOfCores","=");s&&(m.processors=parseInt(s)||1),u&&l&&(m.cores=parseInt(l)||n.cores(),m.physicalCores=parseInt(u)||n.cores()),s>1&&(m.cores=m.cores*s,m.physicalCores=m.physicalCores*s),(r=e[1].split("\r\n").filter(function(e){return""!==e.trim()}).filter(function(e,r){return r>0})).forEach(function(e){""!==e&&("L1 Cache"===(e=e.trim().split(/\s\s+/))[2]&&"3"===e[0]&&(m.cache.l1i=parseInt(e[1],10)),"L1 Cache"===e[2]&&"4"===e[0]&&(m.cache.l1d=parseInt(e[1],10)))}),o(m)})}catch(E){o(m)}})})})}function y(e){return new Promise(function(r){process.nextTick(function(){x().then(function(t){e&&e(t),r(t)})})})}function I(){var r=e.cpus(),t=999999999,a=0,n=0,o=[];if(r&&r.length){for(var i in r)if({}.hasOwnProperty.call(r,i)){var c=r[i].speed>100?(r[i].speed+1)/1e3:r[i].speed/10;n+=c,c>a&&(a=c),c<t&&(t=c),o.push(parseFloat(c.toFixed(2)))}return n/=r.length,{min:parseFloat(t.toFixed(2)),max:parseFloat(a.toFixed(2)),avg:parseFloat(n.toFixed(2)),cores:o}}return{min:0,max:0,avg:0,cores:o}}function P(e){return new Promise(function(r){process.nextTick(function(){var t=I();if(0===t.avg&&0!==h){var a=parseFloat(h);t={min:a,max:a,avg:a,cores:[]}}e&&e(t),r(t)})})}function S(e){return new Promise(function(o){process.nextTick(function(){var h={main:null,cores:[],max:null,socket:[],chipset:null};if(i){try{var m=t('cat /sys/class/thermal/thermal_zone*/type  2>/dev/null; echo "-----"; cat /sys/class/thermal/thermal_zone*/temp 2>/dev/null;').toString().split("-----\n");if(2===m.length)for(var f=m[0].split("\n"),g=m[1].split("\n"),L=0;L<f.length;L++){var v=f[L].trim();v.startsWith("acpi")&&g[L]&&h.socket.push(Math.round(parseInt(g[L],10)/100)/10),v.startsWith("pch")&&g[L]&&(h.chipset=Math.round(parseInt(g[L],10)/100)/10)}}catch(w){n.noop()}try{r('for mon in /sys/class/hwmon/hwmon*; do for label in "$mon"/temp*_label; do if [ -f $label ]; then value=$(echo $label | rev | cut -c 7- | rev)_input; if [ -f "$value" ]; then echo $(cat "$label")___$(cat "$value");  fi; fi; done; done;',function(t,n){if(n.toString().split("\n").forEach(function(e){var r=e.split("___"),t=r[0],a=r.length>1&&r[1]?r[1]:"0";a&&(void 0===t||t&&t.toLowerCase().startsWith("core"))?h.cores.push(Math.round(parseInt(a,10)/100)/10):a&&t&&null===h.main&&(h.main=Math.round(parseInt(a,10)/100)/10)}),h.cores.length>0){null===h.main&&(h.main=Math.round(h.cores.reduce(function(e,r){return e+r},0)/h.cores.length));var i=Math.max.apply(Math,h.cores);h.max=i>h.main?i:h.main}if(null!==h.main)return null===h.max&&(h.max=h.main),e&&e(h),void o(h);r("sensors",function(t,n){if(!t){var i=n.toString().split("\n"),c=null,s=!0,l="";if(i.forEach(function(e){""===e.trim()?s=!0:s&&(e.trim().toLowerCase().startsWith("acpi")&&(l="acpi"),e.trim().toLowerCase().startsWith("pch")&&(l="pch"),e.trim().toLowerCase().startsWith("core")&&(l="core"),s=!1);var r=e.match(/[+-]([^°]*)/g),t=e.split(":")[0].toUpperCase();"acpi"===l?-1!==t.indexOf("TEMP")&&h.socket.push(parseFloat(r)):"pch"===l&&-1!==t.indexOf("TEMP")&&(h.chipset=parseFloat(r)),-1===t.indexOf("PHYSICAL")&&-1===t.indexOf("PACKAGE")||(h.main=parseFloat(r)),-1!==t.indexOf("CORE ")&&h.cores.push(parseFloat(r)),-1!==t.indexOf("TDIE")&&null===c&&(c=parseFloat(r))}),h.cores.length>0){null===h.main&&(h.main=Math.round(h.cores.reduce(function(e,r){return e+r},0)/h.cores.length));var u=Math.max.apply(Math,h.cores);h.max=u>h.main?u:h.main}else null===h.main&&null!==c&&(h.main=c,h.max=c);if(null!==h.main||null!==h.max)return e&&e(h),void o(h)}a.stat("/sys/class/thermal/thermal_zone0/temp",function(t){null===t?a.readFile("/sys/class/thermal/thermal_zone0/temp",function(r,t){if(!r){var a=t.toString().split("\n");a.length>0&&(h.main=parseFloat(a[0])/1e3,h.max=h.main)}e&&e(h),o(h)}):r("/opt/vc/bin/vcgencmd measure_temp",function(r,t){if(!r){var a=t.toString().split("\n");a.length>0&&a[0].indexOf("=")&&(h.main=parseFloat(a[0].split("=")[1]),h.max=h.main)}e&&e(h),o(h)})})})})}catch(x){e&&e(h),o(h)}}if((l||u||d)&&r("sysctl dev.cpu | grep temp",function(r,t){if(!r){var a=t.toString().split("\n"),n=0;a.forEach(function(e){var r=e.split(":");if(r.length>1){var t=parseFloat(r[1].replace(",","."));t>h.max&&(h.max=t),n+=t,h.cores.push(t)}}),h.cores.length&&(h.main=Math.round(n/h.cores.length*100)/100)}e&&e(h),o(h)}),c){var C=null;try{C=require("osx-temperature-sensor")}catch(x){C=null}C&&(h=C.cpuTemperature()),e&&e(h),o(h)}if(p&&(e&&e(h),o(h)),s)try{n.wmic("/namespace:\\\\root\\wmi PATH MSAcpi_ThermalZoneTemperature get CurrentTemperature").then(function(r,t){if(!t){var a=0;r.split("\r\n").filter(function(e){return""!==e.trim()}).filter(function(e,r){return r>0}).forEach(function(e){var r=(parseInt(e,10)-2732)/10;a+=r,r>h.max&&(h.max=r),h.cores.push(r)}),h.cores.length&&(h.main=a/h.cores.length)}e&&e(h),o(h)})}catch(w){e&&e(h),o(h)}})})}function E(e){return new Promise(function(t){process.nextTick(function(){var o="";if(s)try{r('reg query "HKEY_LOCAL_MACHINE\\HARDWARE\\DESCRIPTION\\System\\CentralProcessor\\0" /v FeatureSet',n.execOptsWin,function(r,a){if(!r){for(var n=a.split("0x").pop().trim(),i=parseInt(n,16).toString(2),c="0".repeat(32-i.length)+i,s=["fpu","vme","de","pse","tsc","msr","pae","mce","cx8","apic","","sep","mtrr","pge","mca","cmov","pat","pse-36","psn","clfsh","","ds","acpi","mmx","fxsr","sse","sse2","ss","htt","tm","ia64","pbe"],l=0;l<s.length;l++)"1"===c[l]&&""!==s[l]&&(o+=" "+s[l]);o=o.trim().toLowerCase()}e&&e(o),t(o)})}catch(h){e&&e(o),t(o)}if(i)try{r("export LC_ALL=C; lscpu; unset LC_ALL",function(r,i){r||i.toString().split("\n").forEach(function(e){-1!==e.split(":")[0].toUpperCase().indexOf("FLAGS")&&(o=e.split(":")[1].trim().toLowerCase())});o?(e&&e(o),t(o)):a.readFile("/proc/cpuinfo",function(r,a){if(!r){var i=a.toString().split("\n");o=n.getValue(i,"features",":",!0).toLowerCase()}e&&e(o),t(o)})})}catch(h){e&&e(o),t(o)}(l||u||d)&&r("export LC_ALL=C; dmidecode -t 4 2>/dev/null; unset LC_ALL",function(r,a){var n=[];if(!r){var i=a.toString().split("\tFlags:");(i.length>1?i[1].split("\tVersion:")[0].split["\n"]:[]).forEach(function(e){var r=(e.indexOf("(")?e.split("(")[0].toLowerCase():"").trim().replace(/\t/g,"");r&&n.push(r)})}o=n.join(" ").trim().toLowerCase(),e&&e(o),t(o)}),c&&r("sysctl machdep.cpu.features",function(r,a){if(!r){var n=a.toString().split("\n");n.length>0&&-1!==n[0].indexOf("machdep.cpu.features:")&&(o=n[0].split(":")[1].trim().toLowerCase())}e&&e(o),t(o)}),p&&(e&&e(o),t(o))})})}function G(e){return new Promise(function(t){process.nextTick(function(){var a={l1d:null,l1i:null,l2:null,l3:null};if(i)try{r("export LC_ALL=C; lscpu; unset LC_ALL",function(r,n){r||n.toString().split("\n").forEach(function(e){var r=e.split(":");-1!==r[0].toUpperCase().indexOf("L1D CACHE")&&(a.l1d=parseInt(r[1].trim())*(-1!==r[1].indexOf("K")?1024:1)),-1!==r[0].toUpperCase().indexOf("L1I CACHE")&&(a.l1i=parseInt(r[1].trim())*(-1!==r[1].indexOf("K")?1024:1)),-1!==r[0].toUpperCase().indexOf("L2 CACHE")&&(a.l2=parseInt(r[1].trim())*(-1!==r[1].indexOf("K")?1024:1)),-1!==r[0].toUpperCase().indexOf("L3 CACHE")&&(a.l3=parseInt(r[1].trim())*(-1!==r[1].indexOf("K")?1024:1))});e&&e(a),t(a)})}catch(o){e&&e(a),t(a)}if((l||u||d)&&r("export LC_ALL=C; dmidecode -t 7 2>/dev/null; unset LC_ALL",function(r,o){var i=[];r||(i=o.toString().split("Cache Information")).shift();for(var c=0;c<i.length;c++){var s=i[c].split("\n"),l=n.getValue(s,"Socket Designation").toLowerCase().replace(" ","-").split("-");l=l.length?l[0]:"";var u=n.getValue(s,"Installed Size").split(" "),d=parseInt(u[0],10),p=u.length>1?u[1]:"kb";d*="kb"===p?1024:"mb"===p?1048576:"gb"===p?1073741824:1,l&&("l1"===l?(a.cache[l+"d"]=d/2,a.cache[l+"i"]=d/2):a.cache[l]=d)}e&&e(a),t(a)}),c&&r("sysctl hw.l1icachesize hw.l1dcachesize hw.l2cachesize hw.l3cachesize",function(r,n){r||n.toString().split("\n").forEach(function(e){var r=e.split(":");-1!==r[0].toLowerCase().indexOf("hw.l1icachesize")&&(a.l1d=parseInt(r[1].trim())*(-1!==r[1].indexOf("K")?1024:1)),-1!==r[0].toLowerCase().indexOf("hw.l1dcachesize")&&(a.l1i=parseInt(r[1].trim())*(-1!==r[1].indexOf("K")?1024:1)),-1!==r[0].toLowerCase().indexOf("hw.l2cachesize")&&(a.l2=parseInt(r[1].trim())*(-1!==r[1].indexOf("K")?1024:1)),-1!==r[0].toLowerCase().indexOf("hw.l3cachesize")&&(a.l3=parseInt(r[1].trim())*(-1!==r[1].indexOf("K")?1024:1))});e&&e(a),t(a)}),p&&(e&&e(a),t(a)),s)try{n.wmic("cpu get l2cachesize, l3cachesize /value").then(function(r,o){if(!o){var i=r.split("\r\n");a.l1d=0,a.l1i=0,a.l2=n.getValue(i,"l2cachesize","="),a.l3=n.getValue(i,"l3cachesize","="),a.l2&&(a.l2=1024*parseInt(a.l2,10)),a.l3&&(a.l3=1024*parseInt(a.l3,10))}n.wmic("path Win32_CacheMemory get CacheType,InstalledSize,Purpose").then(function(r,n){n||r.split("\r\n").filter(function(e){return""!==e.trim()}).filter(function(e,r){return r>0}).forEach(function(e){""!==e&&("L1 Cache"===(e=e.trim().split(/\s\s+/))[2]&&"3"===e[0]&&(a.l1i=parseInt(e[1],10)),"L1 Cache"===e[2]&&"4"===e[0]&&(a.l1d=parseInt(e[1],10)))});e&&e(a),t(a)})})}catch(o){e&&e(a),t(a)}})})}function F(){return new Promise(function(r){process.nextTick(function(){var t=e.loadavg().map(function(e){return e/n.cores()}),a=parseFloat(Math.max.apply(Math,t).toFixed(2)),o={};if(Date.now()-m.ms>=200){m.ms=Date.now();var i=e.cpus(),c=0,s=0,l=0,u=0,d=0,p=[];g=i&&i.length?i.length:0;for(var h=0;h<g;h++){var L=i[h].times;c+=L.user,s+=L.sys,l+=L.nice,d+=L.idle,u+=L.irq;var v=f&&f[h]&&f[h].totalTick?f[h].totalTick:0,C=f&&f[h]&&f[h].totalLoad?f[h].totalLoad:0,w=f&&f[h]&&f[h].user?f[h].user:0,x=f&&f[h]&&f[h].sys?f[h].sys:0,y=f&&f[h]&&f[h].nice?f[h].nice:0,I=f&&f[h]&&f[h].idle?f[h].idle:0,P=f&&f[h]&&f[h].irq?f[h].irq:0;f[h]=L,f[h].totalTick=f[h].user+f[h].sys+f[h].nice+f[h].irq+f[h].idle,f[h].totalLoad=f[h].user+f[h].sys+f[h].nice+f[h].irq,f[h].currentTick=f[h].totalTick-v,f[h].load=f[h].totalLoad-C,f[h].loadUser=f[h].user-w,f[h].loadSystem=f[h].sys-x,f[h].loadNice=f[h].nice-y,f[h].loadIdle=f[h].idle-I,f[h].loadIrq=f[h].irq-P,p[h]={},p[h].load=f[h].load/f[h].currentTick*100,p[h].loadUser=f[h].loadUser/f[h].currentTick*100,p[h].loadSystem=f[h].loadSystem/f[h].currentTick*100,p[h].loadNice=f[h].loadNice/f[h].currentTick*100,p[h].loadIdle=f[h].loadIdle/f[h].currentTick*100,p[h].loadIrq=f[h].loadIrq/f[h].currentTick*100,p[h].rawLoad=f[h].load,p[h].rawLoadUser=f[h].loadUser,p[h].rawLoadSystem=f[h].loadSystem,p[h].rawLoadNice=f[h].loadNice,p[h].rawLoadIdle=f[h].loadIdle,p[h].rawLoadIrq=f[h].loadIrq}var S=c+s+l+u+d,E=c+s+l+u,G=S-m.tick;o={avgLoad:a,currentLoad:(E-m.load)/G*100,currentLoadUser:(c-m.user)/G*100,currentLoadSystem:(s-m.system)/G*100,currentLoadNice:(l-m.nice)/G*100,currentLoadIdle:(d-m.idle)/G*100,currentLoadIrq:(u-m.irq)/G*100,rawCurrentLoad:E-m.load,rawCurrentLoadUser:c-m.user,rawCurrentLoadSystem:s-m.system,rawCurrentLoadNice:l-m.nice,rawCurrentLoadIdle:d-m.idle,rawCurrentLoadIrq:u-m.irq,cpus:p},m={user:c,nice:l,system:s,idle:d,irq:u,tick:S,load:E,ms:m.ms,currentLoad:o.currentLoad,currentLoadUser:o.currentLoadUser,currentLoadSystem:o.currentLoadSystem,currentLoadNice:o.currentLoadNice,currentLoadIdle:o.currentLoadIdle,currentLoadIrq:o.currentLoadIrq,rawCurrentLoad:o.rawCurrentLoad,rawCurrentLoadUser:o.rawCurrentLoadUser,rawCurrentLoadSystem:o.rawCurrentLoadSystem,rawCurrentLoadNice:o.rawCurrentLoadNice,rawCurrentLoadIdle:o.rawCurrentLoadIdle,rawCurrentLoadIrq:o.rawCurrentLoadIrq}}else{for(var F=[],A=0;A<g;A++)F[A]={},F[A].load=f[A].load/f[A].currentTick*100,F[A].loadUser=f[A].loadUser/f[A].currentTick*100,F[A].loadSystem=f[A].loadSystem/f[A].currentTick*100,F[A].loadNice=f[A].loadNice/f[A].currentTick*100,F[A].loadIdle=f[A].loadIdle/f[A].currentTick*100,F[A].loadIrq=f[A].loadIrq/f[A].currentTick*100,F[A].rawLoad=f[A].load,F[A].rawLoadUser=f[A].loadUser,F[A].rawLoadSystem=f[A].loadSystem,F[A].rawLoadNice=f[A].loadNice,F[A].rawLoadIdle=f[A].loadIdle,F[A].rawLoadIrq=f[A].loadIrq;o={avgLoad:a,currentload:m.currentload,currentloadUser:m.currentloadUser,currentloadSystem:m.currentloadSystem,currentloadNice:m.currentloadNice,currentloadIdle:m.currentloadIdle,currentloadIrq:m.currentloadIrq,rawCurrentload:m.rawCurrentload,rawCurrentloadUser:m.rawCurrentloadUser,rawCurrentloadSystem:m.rawCurrentloadSystem,rawCurrentloadNice:m.rawCurrentloadNice,rawCurrentloadIdle:m.rawCurrentloadIdle,rawCurrentloadIrq:m.rawCurrentloadIrq,cpus:F}}r(o)})})}function A(e){return new Promise(function(r){process.nextTick(function(){F().then(function(t){e&&e(t),r(t)})})})}function V(){return new Promise(function(r){process.nextTick(function(){var t=e.cpus(),a=0,n=0,o=0,i=0,c=0,s=0;if(t&&t.length){for(var l=0,u=t.length;l<u;l++){var d=t[l].times;a+=d.user,n+=d.sys,o+=d.nice,i+=d.irq,c+=d.idle}var p=c+i+o+n+a;s=(p-c)/p*100}else s=0;r(s)})})}function X(e){return new Promise(function(r){process.nextTick(function(){V().then(function(t){e&&e(t),r(t)})})})}exports.cpu=y,exports.cpuCurrentSpeed=P,exports.cpuTemperature=S,exports.cpuFlags=E,exports.cpuCache=G,exports.currentLoad=A,exports.fullLoad=X;
},{"./util":"YOqM"}],"n1Wj":[function(require,module,exports) {
"use strict";var e=require("os"),t=require("child_process").exec,a=require("child_process").execSync,r=require("./util"),l=require("fs"),n=process.platform,o="linux"===n,u="darwin"===n,s="win32"===n,i="freebsd"===n,c="openbsd"===n,p="netbsd"===n,m="sunos"===n,f={"0x014F":"Transcend Information","0x2C00":"Micron Technology Inc.","0x802C":"Micron Technology Inc.","0x80AD":"Hynix Semiconductor Inc.","0x80CE":"Samsung Electronics Inc.","0xAD00":"Hynix Semiconductor Inc.","0xCE00":"Samsung Electronics Inc.","0x02FE":"Elpida","0x5105":"Qimonda AG i. In.","0x8551":"Qimonda AG i. In.","0x859B":"Crucial","0x04CD":"G-Skill"},g={"017A":"Apacer","0198":"HyperX","029E":"Corsair","04CB":"A-DATA","04CD":"G-Skill","059B":"Crucial","00CE":"Samsung",1315:"Crutial","014F":"Transcend Information","2C00":"Micron Technology Inc.","802C":"Micron Technology Inc.","80AD":"Hynix Semiconductor Inc.","80CE":"Samsung Electronics Inc.",AD00:"Hynix Semiconductor Inc.",CE00:"Samsung Electronics Inc.","02FE":"Elpida",5105:"Qimonda AG i. In.",8551:"Qimonda AG i. In.","859B":"Crucial"};function v(a){return new Promise(function(n){process.nextTick(function(){var f={total:e.totalmem(),free:e.freemem(),used:e.totalmem()-e.freemem(),active:e.totalmem()-e.freemem(),available:e.freemem(),buffers:0,cached:0,slab:0,buffcache:0,swaptotal:0,swapused:0,swapfree:0};if(o&&l.readFile("/proc/meminfo",function(t,l){if(!t){var o=l.toString().split("\n");f.total=parseInt(r.getValue(o,"memtotal"),10),f.total=f.total?1024*f.total:e.totalmem(),f.free=parseInt(r.getValue(o,"memfree"),10),f.free=f.free?1024*f.free:e.freemem(),f.used=f.total-f.free,f.buffers=parseInt(r.getValue(o,"buffers"),10),f.buffers=f.buffers?1024*f.buffers:0,f.cached=parseInt(r.getValue(o,"cached"),10),f.cached=f.cached?1024*f.cached:0,f.slab=parseInt(r.getValue(o,"slab"),10),f.slab=f.slab?1024*f.slab:0,f.buffcache=f.buffers+f.cached+f.slab;var u=parseInt(r.getValue(o,"memavailable"),10);f.available=u?1024*u:f.free+f.buffcache,f.active=f.total-f.available,f.swaptotal=parseInt(r.getValue(o,"swaptotal"),10),f.swaptotal=f.swaptotal?1024*f.swaptotal:0,f.swapfree=parseInt(r.getValue(o,"swapfree"),10),f.swapfree=f.swapfree?1024*f.swapfree:0,f.swapused=f.swaptotal-f.swapfree}a&&a(f),n(f)}),(i||c||p)&&t('/sbin/sysctl -a 2>/dev/null | grep -E "hw.realmem|hw.physmem|vm.stats.vm.v_page_count|vm.stats.vm.v_wire_count|vm.stats.vm.v_active_count|vm.stats.vm.v_inactive_count|vm.stats.vm.v_cache_count|vm.stats.vm.v_free_count|vm.stats.vm.v_page_size"',function(e,t){if(!e){var l=t.toString().split("\n"),o=parseInt(r.getValue(l,"vm.stats.vm.v_page_size"),10),u=parseInt(r.getValue(l,"vm.stats.vm.v_inactive_count"),10)*o,s=parseInt(r.getValue(l,"vm.stats.vm.v_cache_count"),10)*o;f.total=parseInt(r.getValue(l,"hw.realmem"),10),isNaN(f.total)&&(f.total=parseInt(r.getValue(l,"hw.physmem"),10)),f.free=parseInt(r.getValue(l,"vm.stats.vm.v_free_count"),10)*o,f.buffcache=u+s,f.available=f.buffcache+f.free,f.active=f.total-f.free-f.buffcache,f.swaptotal=0,f.swapfree=0,f.swapused=0}a&&a(f),n(f)}),m&&(a&&a(f),n(f)),u&&t('vm_stat 2>/dev/null | grep "Pages active"',function(e,r){if(!e){var l=r.toString().split("\n");f.active=4096*parseInt(l[0].split(":")[1],10),f.buffcache=f.used-f.active,f.available=f.free+f.buffcache}t("sysctl -n vm.swapusage 2>/dev/null",function(e,t){if(!e){var r=t.toString().split("\n");if(r.length>0){var l=r[0].replace(/,/g,".").replace(/M/g,"");l=l.trim().split("  ");for(var o=0;o<l.length;o++)-1!==l[o].toLowerCase().indexOf("total")&&(f.swaptotal=1024*parseFloat(l[o].split("=")[1].trim())*1024),-1!==l[o].toLowerCase().indexOf("used")&&(f.swapused=1024*parseFloat(l[o].split("=")[1].trim())*1024),-1!==l[o].toLowerCase().indexOf("free")&&(f.swapfree=1024*parseFloat(l[o].split("=")[1].trim())*1024)}}a&&a(f),n(f)})}),s){var g=0,v=0;try{r.wmic("pagefile get AllocatedBaseSize, CurrentUsage").then(function(e,t){t||e.split("\r\n").filter(function(e){return""!==e.trim()}).filter(function(e,t){return t>0}).forEach(function(e){""!==e&&(e=e.trim().split(/\s\s+/),g+=parseInt(e[0],10),v+=parseInt(e[1],10))});f.swaptotal=1024*g*1024,f.swapused=1024*v*1024,f.swapfree=f.swaptotal-f.swapused,a&&a(f),n(f)})}catch(d){a&&a(f),n(f)}}})})}function d(l){return new Promise(function(n){process.nextTick(function(){var v=[];if((o||i||c||p)&&t('export LC_ALL=C; dmidecode -t memory 2>/dev/null | grep -iE "Size:|Type|Speed|Manufacturer|Form Factor|Locator|Memory Device|Serial Number|Voltage|Part Number"; unset LC_ALL',function(t,o){if(!t){var u=o.toString().split("Memory Device");u.shift(),u.forEach(function(e){var t,a,l=e.split("\n"),n=r.getValue(l,"Size"),o=n.indexOf("GB")>=0?1024*parseInt(n,10)*1024*1024:1024*parseInt(n,10)*1024;if(parseInt(r.getValue(l,"Size"),10)>0){var u=r.toInt(r.getValue(l,"Total Width")),s=r.toInt(r.getValue(l,"Data Width"));v.push({size:o,bank:r.getValue(l,"Bank Locator"),type:r.getValue(l,"Type:"),ecc:!(!s||!u)&&u>s,clockSpeed:r.getValue(l,"Configured Clock Speed:")?parseInt(r.getValue(l,"Configured Clock Speed:"),10):r.getValue(l,"Speed:")?parseInt(r.getValue(l,"Speed:"),10):null,formFactor:r.getValue(l,"Form Factor:"),manufacturer:(t=r.getValue(l,"Manufacturer:"),a=t.replace("0x","").toUpperCase(),4===a.length&&{}.hasOwnProperty.call(g,a)?g[a]:t),partNum:r.getValue(l,"Part Number:"),serialNum:r.getValue(l,"Serial Number:"),voltageConfigured:parseFloat(r.getValue(l,"Configured Voltage:")||null),voltageMin:parseFloat(r.getValue(l,"Minimum Voltage:")||null),voltageMax:parseFloat(r.getValue(l,"Maximum Voltage:")||null)})}else v.push({size:0,bank:r.getValue(l,"Bank Locator"),type:"Empty",ecc:null,clockSpeed:0,formFactor:r.getValue(l,"Form Factor:"),partNum:"",serialNum:"",voltageConfigured:null,voltageMin:null,voltageMax:null})})}if(!v.length){v.push({size:e.totalmem(),bank:"",type:"",ecc:null,clockSpeed:0,formFactor:"",partNum:"",serialNum:"",voltageConfigured:null,voltageMin:null,voltageMax:null});try{var s=a("cat /proc/cpuinfo 2>/dev/null"),i=s.toString().split("\n"),c=r.getValue(i,"hardware",":",!0).toUpperCase(),p=r.getValue(i,"revision",":",!0).toLowerCase();if("BCM2835"===c||"BCM2708"===c||"BCM2709"===c||"BCM2835"===c||"BCM2837"===c){v[0].type="LPDDR2",v[0].type=p&&p[2]&&"3"===p[2]?"LPDDR4":v[0].type,v[0].ecc=!1,v[0].clockSpeed=p&&p[2]&&{0:400,1:450,2:450,3:3200}[p[2]]||400,v[0].clockSpeed=p&&p[4]&&"d"===p[4]?"500":v[0].clockSpeed,v[0].formFactor="SoC",i=(s=a("vcgencmd get_config sdram_freq 2>/dev/null")).toString().split("\n");var m=parseInt(r.getValue(i,"sdram_freq","=",!0),10)||0;m&&(v.clockSpeed=m),i=(s=a("vcgencmd measure_volts sdram_p 2>/dev/null")).toString().split("\n");var f=parseFloat(r.getValue(i,"volt","=",!0))||0;f&&(v[0].voltageConfigured=f,v[0].voltageMin=f,v[0].voltageMax=f)}}catch(d){r.noop()}}l&&l(v),n(v)}),u&&t("system_profiler SPMemoryDataType",function(e,t){if(!e){var a=t.toString().split("\n"),o=r.getValue(a,"ecc",":",!0).toLowerCase(),u=t.toString().split("        BANK "),s=!0;1===u.length&&(u=t.toString().split("        DIMM"),s=!1),u.shift(),u.forEach(function(e){var t,a=e.split("\n"),l=(s?"BANK ":"DIMM")+a[0].trim().split("/")[0],n=parseInt(r.getValue(a,"          Size"));n?v.push({size:1024*n*1024*1024,bank:l,type:r.getValue(a,"          Type:"),ecc:o?"enabled"===o:null,clockSpeed:parseInt(r.getValue(a,"          Speed:"),10),formFactor:"",manufacturer:(t=r.getValue(a,"          Manufacturer:"),{}.hasOwnProperty.call(f,t)?f[t]:t),partNum:r.getValue(a,"          Part Number:"),serialNum:r.getValue(a,"          Serial Number:"),voltageConfigured:null,voltageMin:null,voltageMax:null}):v.push({size:0,bank:l,type:"Empty",ecc:null,clockSpeed:0,formFactor:"",manufacturer:"",partNum:"",serialNum:"",voltageConfigured:null,voltageMin:null,voltageMax:null})})}if(!v.length){var i=t.toString().split("\n"),c=parseInt(r.getValue(i,"      Memory:")),p=r.getValue(i,"      Type:");c&&p&&v.push({size:1024*c*1024*1024,bank:0,type:p,ecc:!1,clockSpeed:0,formFactor:"",manufacturer:"Apple",partNum:"",serialNum:"",voltageConfigured:null,voltageMin:null,voltageMax:null})}l&&l(v),n(v)}),m&&(l&&l(v),n(v)),s){var d="Unknown|Other|DRAM|Synchronous DRAM|Cache DRAM|EDO|EDRAM|VRAM|SRAM|RAM|ROM|FLASH|EEPROM|FEPROM|EPROM|CDRAM|3DRAM|SDRAM|SGRAM|RDRAM|DDR|DDR2|DDR2 FB-DIMM|Reserved|DDR3|FBD2|DDR4|LPDDR|LPDDR2|LPDDR3|LPDDR4".split("|"),M="Unknown|Other|SIP|DIP|ZIP|SOJ|Proprietary|SIMM|DIMM|TSOP|PGA|RIMM|SODIMM|SRIMM|SMD|SSMP|QFP|TQFP|SOIC|LCC|PLCC|BGA|FPBGA|LGA".split("|");try{r.wmic("memorychip get /value").then(function(e,t){if(!t){var a=e.toString().split("BankL");a.shift(),a.forEach(function(e){var t=e.split("\r\n"),a=r.toInt(r.getValue(t,"DataWidth","=")),l=r.toInt(r.getValue(t,"TotalWidth","="));v.push({size:parseInt(r.getValue(t,"Capacity","="),10)||0,bank:r.getValue(t,"abel","="),type:d[parseInt(r.getValue(t,"MemoryType","="),10)],ecc:!(!a||!l)&&l>a,clockSpeed:parseInt(r.getValue(t,"ConfiguredClockSpeed","="),10)||0,formFactor:M[parseInt(r.getValue(t,"FormFactor","="),10)||0],manufacturer:r.getValue(t,"Manufacturer","="),partNum:r.getValue(t,"PartNumber","="),serialNum:r.getValue(t,"SerialNumber","="),voltageConfigured:(parseInt(r.getValue(t,"ConfiguredVoltage","="),10)||0)/1e3,voltageMin:(parseInt(r.getValue(t,"MinVoltage","="),10)||0)/1e3,voltageMax:(parseInt(r.getValue(t,"MaxVoltage","="),10)||0)/1e3})})}l&&l(v),n(v)})}catch(S){l&&l(v),n(v)}}})})}exports.mem=v,exports.memLayout=d;
},{"./util":"YOqM"}],"noGZ":[function(require,module,exports) {
"use strict";var a=require("child_process").exec,e=require("fs"),t=require("./util"),n=process.platform,i="linux"===n,r="darwin"===n,c="win32"===n,p="freebsd"===n,s="openbsd"===n,g="netbsd"===n,l="sunos"===n;module.exports=function(n){return new Promise(function(u){process.nextTick(function(){var y={hasBattery:!1,cycleCount:0,isCharging:!1,designedCapacity:0,maxCapacity:0,currentCapacity:0,voltage:0,capacityUnit:"",percent:0,timeRemaining:null,acConnected:!0,type:"",model:"",manufacturer:"",serial:""};if(i){var C="";e.existsSync("/sys/class/power_supply/BAT1/uevent")?C="/sys/class/power_supply/BAT1/":e.existsSync("/sys/class/power_supply/BAT0/uevent")&&(C="/sys/class/power_supply/BAT0/"),C?e.readFile(C+"uevent",function(a,e){if(a)n&&n(y),u(y);else{var i=e.toString().split("\n");y.isCharging="charging"===t.getValue(i,"POWER_SUPPLY_STATUS","=").toLowerCase(),y.acConnected=y.isCharging,y.voltage=parseInt("0"+t.getValue(i,"POWER_SUPPLY_VOLTAGE_NOW","="),10)/1e6,y.capacityUnit=y.voltage?"mWh":"mAh",y.cycleCount=parseInt("0"+t.getValue(i,"POWER_SUPPLY_CYCLE_COUNT","="),10),y.maxCapacity=Math.round(parseInt("0"+t.getValue(i,"POWER_SUPPLY_CHARGE_FULL","="),10)/1e3/(y.voltage||1)),y.designedCapacity=Math.round(parseInt("0"+t.getValue(i,"POWER_SUPPLY_CHARGE_FULL_DESIGN","="),10)/1e3/(y.voltage||1))|y.maxcapacity,y.currentCapacity=Math.round(parseInt("0"+t.getValue(i,"POWER_SUPPLY_CHARGE_NOW","="),10)/1e3/(y.voltage||1)),y.maxCapacity||(y.maxCapacity=parseInt("0"+t.getValue(i,"POWER_SUPPLY_ENERGY_FULL","="),10)/1e3,y.designCapacity=parseInt("0"+t.getValue(i,"POWER_SUPPLY_ENERGY_FULL_DESIGN","="),10)/1e3|y.maxCapacity,y.currentCapacity=parseInt("0"+t.getValue(i,"POWER_SUPPLY_ENERGY_NOW","="),10)/1e3);var r=t.getValue(i,"POWER_SUPPLY_CAPACITY","="),c=parseInt("0"+t.getValue(i,"POWER_SUPPLY_ENERGY_NOW","="),10),p=parseInt("0"+t.getValue(i,"POWER_SUPPLY_POWER_NOW","="),10),s=parseInt("0"+t.getValue(i,"POWER_SUPPLY_CURRENT_NOW","="),10);y.percent=parseInt("0"+r,10),y.maxCapacity&&y.currentCapacity&&(y.hasBattery=!0,r||(y.percent=100*y.currentCapacity/y.maxCapacity)),y.isCharging&&(y.hasBattery=!0),c&&p?y.timeRemaining=Math.floor(c/p*60):s&&y.currentCapacity&&(y.timeRemaining=Math.floor(y.currentCapacity/s*60)),y.type=t.getValue(i,"POWER_SUPPLY_TECHNOLOGY","="),y.model=t.getValue(i,"POWER_SUPPLY_MODEL_NAME","="),y.manufacturer=t.getValue(i,"POWER_SUPPLY_MANUFACTURER","="),y.serial=t.getValue(i,"POWER_SUPPLY_SERIAL_NUMBER","="),n&&n(y),u(y)}}):(n&&n(y),u(y))}if((p||s||g)&&a("sysctl hw.acpi.battery hw.acpi.acline",function(a,e){var i=e.toString().split("\n"),r=parseInt("0"+t.getValue(i,"hw.acpi.battery.units"),10),c=parseInt("0"+t.getValue(i,"hw.acpi.battery.life"),10);y.hasBattery=r>0,y.cycleCount=null,y.isCharging="1"!==t.getValue(i,"hw.acpi.acline"),y.acConnected=y.isCharging,y.maxCapacity=null,y.currentCapacity=null,y.capacityUnit="unknown",y.percent=r?c:null,n&&n(y),u(y)}),r&&a('ioreg -n AppleSmartBattery -r | egrep "CycleCount|IsCharging|DesignCapacity|MaxCapacity|CurrentCapacity|BatterySerialNumber|TimeRemaining|Voltage"; pmset -g batt | grep %',function(a,e){if(e){var i=e.toString().replace(/ +/g,"").replace(/"+/g,"").replace(/-/g,"").split("\n");y.cycleCount=parseInt("0"+t.getValue(i,"cyclecount","="),10),y.voltage=parseInt("0"+t.getValue(i,"voltage","="),10)/1e3,y.capacityUnit=y.voltage?"mWh":"mAh",y.maxCapacity=Math.round(parseInt("0"+t.getValue(i,"maxcapacity","="),10)*(y.voltage||1)),y.currentCapacity=Math.round(parseInt("0"+t.getValue(i,"currentcapacity","="),10)*(y.voltage||1)),y.designedCapacity=Math.round(parseInt("0"+t.getValue(i,"DesignCapacity","="),10)*(y.voltage||1)),y.manufacturer="Apple",y.serial=t.getValue(i,"BatterySerialNumber","=");var r=null,c=t.getValue(i,"internal","Battery").split(";");if(c&&c[0]){var p=c[0].split("\t");p&&p[1]&&(r=parseFloat(p[1].trim().replace(/%/g,"")))}c&&c[1]?(y.isCharging="charging"===c[1].trim(),y.acConnected="discharging"!==c[1].trim()):(y.isCharging="yes"===t.getValue(i,"ischarging","=").toLowerCase(),y.acConnected=y.isCharging),y.maxCapacity&&y.currentCapacity&&(y.hasBattery=!0,y.type="Li-ion",y.percent=null!==r?r:Math.round(100*y.currentCapacity/y.maxCapacity),y.isCharging||(y.timeRemaining=parseInt("0"+t.getValue(i,"TimeRemaining","="),10)))}n&&n(y),u(y)}),l&&(n&&n(y),u(y)),c)try{t.wmic("Path Win32_Battery Get BatteryStatus, DesignCapacity, EstimatedChargeRemaining, DesignVoltage, FullChargeCapacity /value").then(function(a){if(a){var e=a.split("\r\n"),i=t.getValue(e,"BatteryStatus","=").trim();if(i&&"10"!=i){var r=parseInt(i);y.hasBattery=!0,y.maxCapacity=parseInt(t.getValue(e,"DesignCapacity","=")||0),y.designCapacity=parseInt(t.getValue(e,"DesignCapacity","=")||0),y.voltage=parseInt(t.getValue(e,"DesignVoltage","=")||0)/1e3,y.capacityUnit="mWh",y.percent=parseInt(t.getValue(e,"EstimatedChargeRemaining","=")||0),y.currentCapacity=parseInt(y.maxcapacity*y.percent/100),y.isCharging=r>=6&&r<=9||11===r||!(3===r)&&!(1===r)&&y.percent<100,y.acConnected=y.ischarging||2===r}}n&&n(y),u(y)})}catch(o){n&&n(y),u(y)}})})};
},{"./util":"YOqM"}],"vRJa":[function(require,module,exports) {
"use strict";var e=require("os"),r=require("fs"),t=require("child_process").exec,n=require("child_process").execSync,i=require("./util"),o=process.platform,s="",l="linux"===o,a="darwin"===o,u="win32"===o,c="freebsd"===o,m="openbsd"===o,p="netbsd"===o,d="sunos"===o,v=0,f=0,h=0,g=0,C={"-2":"UNINITIALIZED","-1":"OTHER",0:"HD15",1:"SVIDEO",2:"Composite video",3:"Component video",4:"DVI",5:"HDMI",6:"LVDS",8:"D_JPN",9:"SDI",10:"DP",11:"DP embedded",12:"UDI",13:"UDI embedded",14:"SDTVDONGLE",15:"MIRACAST",2147483648:"INTERNAL"};function y(o){function y(e){var t=function(){if(s)return s;if(u)try{var e=i.WINDIR+"\\System32\\DriverStore\\FileRepository",t=r.readdirSync(e).filter(function(t){return r.readdirSync([e,t].join("/")).includes("nvidia-smi.exe")}).reduce(function(t,n){var i=r.statSync([e,t,"nvidia-smi.exe"].join("/")),o=r.statSync([e,n,"nvidia-smi.exe"].join("/"));return i.ctimeMs>o.ctimeMs?t:n});t&&(s=[e,t,"nvidia-smi.exe"].join("/"))}catch(n){i.noop()}else l&&(s="nvidia-smi");return s}();if(e=e||i.execOptsWin,t){var o=t+" --query-gpu=driver_version,pci.sub_device_id,name,pci.bus_id,fan.speed,memory.total,memory.used,memory.free,utilization.gpu,utilization.memory,temperature.gpu,temperature.memory,power.draw,power.limit,clocks.gr,clocks.mem --format=csv,noheader,nounits"+(l?"  2>/dev/null":"");try{return n(o,e).toString()}catch(a){i.noop()}}return""}function I(){function e(e){return[null,void 0].includes(e)?e:parseFloat(e)}var r=y();return r?r.split("\n").filter(Boolean).map(function(r){var t=r.split(", ").map(function(e){return e.includes("N/A")?void 0:e});if(16===t.length)return{driverVersion:t[0],subDeviceId:t[1],name:t[2],pciBus:t[3],fanSpeed:e(t[4]),memoryTotal:e(t[5]),memoryUsed:e(t[6]),memoryFree:e(t[7]),utilizationGpu:e(t[8]),utilizationMemory:e(t[9]),temperatureGpu:e(t[10]),temperatureMemory:e(t[11]),powerDraw:e(t[12]),powerLimit:e(t[13]),clockCore:e(t[14]),clockMemory:e(t[15])}}):[]}function x(e,r){return r.driverVersion&&(e.driverVersion=r.driverVersion),r.subDeviceId&&(e.subDeviceId=r.subDeviceId),r.name&&(e.name=r.name),r.pciBus&&(e.pciBus=r.pciBus),r.fanSpeed&&(e.fanSpeed=r.fanSpeed),r.memoryTotal&&(e.memoryTotal=r.memoryTotal,e.vram=r.memoryTotal,e.vramDynamic=!1),r.memoryUsed&&(e.memoryUsed=r.memoryUsed),r.memoryFree&&(e.memoryFree=r.memoryFree),r.utilizationGpu&&(e.utilizationGpu=r.utilizationGpu),r.utilizationMemory&&(e.utilizationMemory=r.utilizationMemory),r.temperatureGpu&&(e.temperatureGpu=r.temperatureGpu),r.temperatureMemory&&(e.temperatureMemory=r.temperatureMemory),r.powerDraw&&(e.powerDraw=r.powerDraw),r.powerLimit&&(e.powerLimit=r.powerLimit),r.clockCore&&(e.clockCore=r.clockCore),r.clockMemory&&(e.clockMemory=r.clockMemory),e}function b(e){var r={vendor:"",model:"",deviceName:"",main:!1,builtin:!1,connection:"",sizeX:null,sizeY:null,pixelDepth:null,resolutionX:null,resolutionY:null,currentResX:null,currentResY:null,positionX:0,positionY:0,currentRefreshRate:null},t=108;if("000000"===e.substr(t,6)&&(t+=36),"000000"===e.substr(t,6)&&(t+=36),"000000"===e.substr(t,6)&&(t+=36),"000000"===e.substr(t,6)&&(t+=36),r.resolutionX=parseInt("0x0"+e.substr(t+8,1)+e.substr(t+4,2)),r.resolutionY=parseInt("0x0"+e.substr(t+14,1)+e.substr(t+10,2)),r.sizeX=parseInt("0x0"+e.substr(t+28,1)+e.substr(t+24,2)),r.sizeY=parseInt("0x0"+e.substr(t+29,1)+e.substr(t+26,2)),(t=e.indexOf("000000fc00"))>=0){var n=e.substr(t+10,26);-1!==n.indexOf("0a")&&(n=n.substr(0,n.indexOf("0a")));try{n.length>2&&(r.model=n.match(/.{1,2}/g).map(function(e){return String.fromCharCode(parseInt(e,16))}).join(""))}catch(o){i.noop()}}else r.model="";return r}return new Promise(function(r){process.nextTick(function(){var s={controllers:[],displays:[]};if(a){t("system_profiler SPDisplaysDataType",function(e,t){if(!e){var n=t.toString().split("\n");s=function(e){for(var r=[],t=-1,n=-1,i=[],o=[],s={vendor:"",model:"",bus:"",vram:null,vramDynamic:!1},l={vendor:"",model:"",deviceName:"",main:!1,builtin:!1,connection:"",sizeX:null,sizeY:null,pixelDepth:null,resolutionX:null,resolutionY:null,currentResX:null,currentResY:null,positionX:0,positionY:0,currentRefreshRate:null},a=0;a<e.length;a++)if(""!==e[a].trim()){var u=e[a].search(/\S|$/);-1===r.indexOf(u)&&r.push(u),(t=r.indexOf(u))<n&&(Object.keys(s).length>0&&(i.push(s),s={vendor:"",model:"",bus:"",vram:null,vramDynamic:!1}),Object.keys(l).length>0&&(o.push(l),l={vendor:"",model:"",deviceName:"",main:!1,builtin:!1,connection:"",sizeX:null,sizeY:null,pixelDepth:null,resolutionX:null,resolutionY:null,currentResX:null,currentResY:null,positionX:0,positionY:0,currentRefreshRate:null})),n=t;var c=e[a].split(":");if(2===t&&(c.length>1&&-1!==c[0].replace(/ +/g,"").toLowerCase().indexOf("chipsetmodel")&&(s.model=c[1].trim()),c.length>1&&-1!==c[0].replace(/ +/g,"").toLowerCase().indexOf("vendor")&&(s.vendor=c[1].split("(")[0].trim()),c.length>1&&-1!==c[0].replace(/ +/g,"").toLowerCase().indexOf("vram(total)")&&(s.vram=parseInt(c[1]),-1!==c[1].toLowerCase().indexOf("gb")&&(s.vram=1024*s.vram),s.vramDynamic=!1),c.length>1&&-1!==c[0].replace(/ +/g,"").toLowerCase().indexOf("vram(dynamic,max)")&&(s.vram=parseInt(c[1]),-1!==c[1].toLowerCase().indexOf("gb")&&(s.vram=1024*s.vram),s.vramDynamic=!0),c.length>1&&-1!==c[0].replace(/ +/g,"").toLowerCase().indexOf("bus")&&(s.bus=c[1].trim(),"built-in"===s.bus.toLowerCase()&&(s.vramDynamic=!0))),3===t&&c.length>1&&""===c[1]&&(l.vendor="",l.model=c[0].trim(),l.main=!1,l.builtin=!1,l.connection="",l.sizeX=null,l.sizeY=null,l.positionX=0,l.positionY=0,l.pixelDepth=null),4===t){if(c.length>1&&-1!==c[0].replace(/ +/g,"").toLowerCase().indexOf("resolution")){var m=c[1].split("x");l.resolutionX=m.length>1?parseInt(m[0]):0,l.resolutionY=m.length>1?parseInt(m[1]):0,l.currentResX=l.resolutionX,l.currentResY=l.resolutionY}c.length>1&&-1!==c[0].replace(/ +/g,"").toLowerCase().indexOf("pixeldepth")&&(l.pixelDepth=parseInt(c[1])),c.length>1&&-1!==c[0].replace(/ +/g,"").toLowerCase().indexOf("framebufferdepth")&&(l.pixelDepth=parseInt(c[1])),c.length>1&&-1!==c[0].replace(/ +/g,"").toLowerCase().indexOf("maindisplay")&&"yes"===c[1].replace(/ +/g,"").toLowerCase()&&(l.main=!0),c.length>1&&-1!==c[0].replace(/ +/g,"").toLowerCase().indexOf("built-in")&&"yes"===c[1].replace(/ +/g,"").toLowerCase()&&(l.vendor="Apple",l.builtin=!0,l.connection=""),c.length>1&&-1!==c[0].replace(/ +/g,"").toLowerCase().indexOf("connectiontype")&&(l.builtin=!1,l.connection=c[1].trim(),"Internal"===l.connection&&(l.vendor="Apple",l.builtin=!0))}}return Object.keys(s).length>0&&i.push(s),Object.keys(l).length>0&&o.push(l),{controllers:i,displays:o}}(n)}o&&o(s),r(s)})}if(l)if(i.isRaspberry()&&i.isRaspbian()){t("fbset -s | grep 'mode \"'; vcgencmd get_mem gpu; tvservice -s; tvservice -n;",function(e,t){var n=t.toString().split("\n");if(n.length>3&&n[0].indexOf('mode "')>=-1&&n[2].indexOf("0x12000a")>-1){var l=n[0].replace("mode","").replace(/"/g,"").trim().split("x");2===l.length&&s.displays.push({vendor:"",model:i.getValue(n,"device_name","="),main:!0,builtin:!1,connection:"HDMI",sizeX:null,sizeY:null,pixelDepth:null,resolutionX:parseInt(l[0],10),resolutionY:parseInt(l[1],10),currentResX:null,currentResY:null,positionX:0,positionY:0,currentRefreshRate:null})}n.length>1&&t.toString().indexOf("gpu=")>=-1&&s.controllers.push({vendor:"Broadcom",model:"VideoCore IV",bus:"",vram:i.getValue(n,"gpu","=").replace("M",""),vramDynamic:!0}),o&&o(s),r(s)})}else{t("lspci -vvv  2>/dev/null",function(e,l){if(!e){var a=l.toString().split("\n");s.controllers=function(e){var r=[],t={vendor:"",model:"",bus:"",busAddress:"",vram:null,vramDynamic:!1,pciID:""},o=!1,s=[];try{s=n('export LC_ALL=C; dmidecode -t 9 2>/dev/null; unset LC_ALL | grep "Bus Address: "').toString().split("\n");for(var l=0;l<s.length;l++)s[l]=s[l].replace("Bus Address:","").replace("0000:","").trim();s=s.filter(function(e){return null!=e&&e})}catch(g){i.noop()}for(var a=0;a<e.length;a++)if(""!==e[a].trim()){if(" "!==e[a][0]&&"\t"!==e[a][0]){var u=s.indexOf(e[a].split(" ")[0])>=0,c=e[a].toLowerCase().indexOf(" vga "),m=e[a].toLowerCase().indexOf("3d controller");if(-1!==c||-1!==m){-1!==m&&-1===c&&(c=m),(t.vendor||t.model||t.bus||null!==t.vram||t.vramDynamic)&&(r.push(t),t={vendor:"",model:"",bus:"",busAddress:"",vram:null,vramDynamic:!1});var p=e[a].split(" ")[0];/[\da-fA-F]{2}:[\da-fA-F]{2}\.[\da-fA-F]/.test(p)&&(t.busAddress=p),o=!0;var d=e[a].search(/\[[0-9a-f]{4}:[0-9a-f]{4}]|$/),v=e[a].substr(c,d-c).split(":");t.busAddress=e[a].substr(0,c).trim(),v.length>1&&(v[1]=v[1].trim(),v[1].toLowerCase().indexOf("corporation")>=0?(t.vendor=v[1].substr(0,v[1].toLowerCase().indexOf("corporation")+11).trim(),t.model=v[1].substr(v[1].toLowerCase().indexOf("corporation")+11,200).trim().split("(")[0],t.bus=s.length>0&&u?"PCIe":"Onboard",t.vram=null,t.vramDynamic=!1):v[1].toLowerCase().indexOf(" inc.")>=0?((v[1].match(new RegExp("]","g"))||[]).length>1?(t.vendor=v[1].substr(0,v[1].toLowerCase().indexOf("]")+1).trim(),t.model=v[1].substr(v[1].toLowerCase().indexOf("]")+1,200).trim().split("(")[0].trim()):(t.vendor=v[1].substr(0,v[1].toLowerCase().indexOf(" inc.")+5).trim(),t.model=v[1].substr(v[1].toLowerCase().indexOf(" inc.")+5,200).trim().split("(")[0].trim()),t.bus=s.length>0&&u?"PCIe":"Onboard",t.vram=null,t.vramDynamic=!1):v[1].toLowerCase().indexOf(" ltd.")>=0&&((v[1].match(new RegExp("]","g"))||[]).length>1?(t.vendor=v[1].substr(0,v[1].toLowerCase().indexOf("]")+1).trim(),t.model=v[1].substr(v[1].toLowerCase().indexOf("]")+1,200).trim().split("(")[0].trim()):(t.vendor=v[1].substr(0,v[1].toLowerCase().indexOf(" ltd.")+5).trim(),t.model=v[1].substr(v[1].toLowerCase().indexOf(" ltd.")+5,200).trim().split("(")[0].trim())))}else o=!1}if(o){var f=e[a].split(":");if(f.length>1&&-1!==f[0].replace(/ +/g,"").toLowerCase().indexOf("devicename")&&-1!==f[1].toLowerCase().indexOf("onboard")&&(t.bus="Onboard"),f.length>1&&-1!==f[0].replace(/ +/g,"").toLowerCase().indexOf("region")&&-1!==f[1].toLowerCase().indexOf("memory")){var h=f[1].split("=");h.length>1&&(t.vram=parseInt(h[1]))}}}return(t.vendor||t.model||t.bus||t.busAddress||null!==t.vram||t.vramDynamic)&&r.push(t),r}(a);var u=I();s.controllers=s.controllers.map(function(e){return x(e,u.find(function(r){return r.pciBus.toLowerCase().endsWith(e.busAddress.toLowerCase())})||{})})}t("clinfo --raw",function(e,n){if(!e){var l=n.toString().split("\n");s.controllers=function(e,r){var t=/\[([^\]]+)\]\s+(\w+)\s+(.*)/,n=r.reduce(function(e,r){var n=t.exec(r.trim());return n&&(e[n[1]]||(e[n[1]]={}),e[n[1]][n[2]]=n[3]),e},{});for(var i in n){var o=n[i];"CL_DEVICE_TYPE_GPU"===o.CL_DEVICE_TYPE&&function(){var r=void 0;if(o.CL_DEVICE_TOPOLOGY_AMD){var t=o.CL_DEVICE_TOPOLOGY_AMD.match(/[a-zA-Z0-9]+:\d+\.\d+/);t&&(r=t[0])}else if(o.CL_DEVICE_PCI_BUS_ID_NV&&o.CL_DEVICE_PCI_SLOT_ID_NV){var n=parseInt(o.CL_DEVICE_PCI_BUS_ID_NV),i=parseInt(o.CL_DEVICE_PCI_SLOT_ID_NV);if(!isNaN(n)&&!isNaN(i)){var s=i>>3&255,l=7&i;r=`${(255&n).toString().padStart(2,"0")}:${s.toString().padStart(2,"0")}.${l}`}}if(r){var a=e.find(function(e){return e.busAddress===r});a||(a={vendor:"",model:"",bus:"",busAddress:r,vram:null,vramDynamic:!1},e.push(a)),a.vendor=o.CL_DEVICE_VENDOR,o.CL_DEVICE_BOARD_NAME_AMD?a.model=o.CL_DEVICE_BOARD_NAME_AMD:a.model=o.CL_DEVICE_NAME;var u=parseInt(o.CL_DEVICE_GLOBAL_MEM_SIZE);isNaN(u)||(a.vram=Math.round(u/1024/1024))}}()}return e}(s.controllers,l)}t("xdpyinfo 2>/dev/null | grep 'depth of root window' | awk '{ print $5 }'",function(e,n){var l=0;if(!e){var a=n.toString().split("\n");l=parseInt(a[0])||0}t("xrandr --verbose 2>/dev/null",function(e,t){if(!e){var n=t.toString().split("\n");s.displays=function(e,r){for(var t=[],n={vendor:"",model:"",deviceName:"",main:!1,builtin:!1,connection:"",sizeX:null,sizeY:null,pixelDepth:null,resolutionX:null,resolutionY:null,currentResX:null,currentResY:null,positionX:0,positionY:0,currentRefreshRate:null},o=!1,s=!1,l="",a=0,u=1;u<e.length;u++)if(""!==e[u].trim()){if(" "!==e[u][0]&&"\t"!==e[u][0]&&-1!==e[u].toLowerCase().indexOf(" connected ")){(n.model||n.main||n.builtin||n.connection||null!==n.sizeX||null!==n.pixelDepth||null!==n.resolutionX)&&(t.push(n),n={vendor:"",model:"",main:!1,builtin:!1,connection:"",sizeX:null,sizeY:null,pixelDepth:null,resolutionX:null,resolutionY:null,currentResX:null,currentResY:null,positionX:0,positionY:0,currentRefreshRate:null});var c=e[u].split(" ");n.connection=c[0],n.main=e[u].toLowerCase().indexOf(" primary ")>=0,n.builtin=c[0].toLowerCase().indexOf("edp")>=0}if(o)if(e[u].search(/\S|$/)>a)l+=e[u].toLowerCase().trim();else{var m=b(l);n.vendor=m.vendor,n.model=m.model,n.resolutionX=m.resolutionX,n.resolutionY=m.resolutionY,n.sizeX=m.sizeX,n.sizeY=m.sizeY,n.pixelDepth=r,o=!1}if(e[u].toLowerCase().indexOf("edid:")>=0&&(o=!0,a=e[u].search(/\S|$/)),e[u].toLowerCase().indexOf("*current")>=0){var p=e[u].split("(");if(p&&p.length>1&&p[0].indexOf("x")>=0){var d=p[0].trim().split("x");n.currentResX=i.toInt(d[0]),n.currentResY=i.toInt(d[1])}s=!0}if(s&&e[u].toLowerCase().indexOf("clock")>=0&&e[u].toLowerCase().indexOf("hz")>=0&&e[u].toLowerCase().indexOf("v: height")>=0){var v=e[u].split("clock");v&&v.length>1&&v[1].toLowerCase().indexOf("hz")>=0&&(n.currentRefreshRate=i.toInt(v[1])),s=!1}}return(n.model||n.main||n.builtin||n.connection||null!==n.sizeX||null!==n.pixelDepth||null!==n.resolutionX)&&t.push(n),t}(n,l)}o&&o(s),r(s)})})})})}if((c||m||p)&&(o&&o(null),r(null)),d&&(o&&o(null),r(null)),u)try{var y=[];y.push(i.wmic("path win32_VideoController get /value")),y.push(i.wmic("path win32_desktopmonitor get /value")),y.push(i.powerShell("Get-CimInstance -Namespace root\\wmi -ClassName WmiMonitorBasicDisplayParams | fl")),y.push(i.powerShell("Add-Type -AssemblyName System.Windows.Forms; [System.Windows.Forms.Screen]::AllScreens")),y.push(i.powerShell("Get-CimInstance -Namespace root\\wmi -ClassName WmiMonitorConnectionParams | fl")),y.push(i.powerShell('gwmi WmiMonitorID -Namespace root\\wmi | ForEach-Object {(($_.ManufacturerName -notmatch 0 | foreach {[char]$_}) -join "") + "|" + (($_.ProductCodeID -notmatch 0 | foreach {[char]$_}) -join "") + "|" + (($_.UserFriendlyName -notmatch 0 | foreach {[char]$_}) -join "") + "|" + (($_.SerialNumberID -notmatch 0 | foreach {[char]$_}) -join "") + "|" + $_.InstanceName}'));var w=I();Promise.all(y).then(function(t){var n=t[0].split(/\n\s*\n/);s.controllers=function(e){var r=[];for(var t in e)if({}.hasOwnProperty.call(e,t)&&""!==e[t].trim()){var n=e[t].trim().split("\r\n"),o=i.getValue(n,"PNPDeviceID","=").match(/SUBSYS_[a-fA-F\d]{8}/),s=null;o&&(s=o[0])&&(s=s.split("_")[1]),r.push({vendor:i.getValue(n,"AdapterCompatibility","="),model:i.getValue(n,"name","="),bus:i.getValue(n,"PNPDeviceID","=").startsWith("PCI")?"PCI":"",vram:i.toInt(i.getValue(n,"AdapterRAM","="))/1024/1024,vramDynamic:"2"===i.getValue(n,"VideoMemoryType","="),subDeviceId:s}),v=i.toInt(i.getValue(n,"CurrentHorizontalResolution","="))||v,f=i.toInt(i.getValue(n,"CurrentVerticalResolution","="))||f,g=i.toInt(i.getValue(n,"CurrentRefreshRate","="))||g,h=i.toInt(i.getValue(n,"CurrentBitsPerPixel","="))||h}return r}(n),s.controllers=s.controllers.map(function(e){return"nvidia"===e.vendor.toLowerCase()?x(e,w.find(function(r){var t=e.subDeviceId.toLowerCase(),n=r.subDeviceId.split("x"),i=n.length>1?n[1].toLowerCase():n[0].toLowerCase(),o=Math.abs(t.length-i.length);if(t.length>i.length)for(var s=0;s<o;s++)i="0"+i;else if(t.length<i.length)for(var l=0;l<o;l++)t="0"+t;return t===i})||{}):e});var l=t[1].split(/\n\s*\n/);l.shift(),l.pop();var a=t[2].split("Active ");a.shift();var u=t[3].split("BitsPerPixel ");u.shift();var c=t[4].split(/\n\s*\n/);c.shift();var m=t[5].split(/\r\n/),p=[];m.forEach(function(e){var r=e.split("|");5===r.length&&p.push({vendor:r[0],code:r[1],model:r[2],serial:r[3],instanceId:r[4]})}),s.displays=function(r,t,n,o,s){var l=[],a="",u="",c="",m=0,p=0;if(n&&n.length){var d=n[0].split(e.EOL);a=i.getValue(d,"MonitorManufacturer","="),u=i.getValue(d,"Name","="),c=i.getValue(d,"PNPDeviceID","=").replace(/&amp;/g,"&").toLowerCase(),m=i.toInt(i.getValue(d,"ScreenWidth","=")),p=i.toInt(i.getValue(d,"ScreenHeight","="))}for(var v=0;v<r.length;v++)""!==r[v].trim()&&function(){r[v]="BitsPerPixel "+r[v],t[v]="Active "+t[v],0!==o.length&&void 0!==o[v]||(o[v]="Unknown");var n=r[v].split(e.EOL),m=t[v].split(e.EOL),p=o[v].split(e.EOL),d=i.getValue(n,"BitsPerPixel"),f=i.getValue(n,"Bounds").replace("{","").replace("}","").split(","),h=i.getValue(n,"Primary"),g=i.getValue(m,"MaxHorizontalImageSize"),y=i.getValue(m,"MaxVerticalImageSize"),I=i.getValue(m,"InstanceName").toLowerCase(),x=i.getValue(p,"VideoOutputTechnology"),b=i.getValue(n,"DeviceName"),w="",D="";s.forEach(function(e){e.instanceId.toLowerCase().startsWith(I)&&a.startsWith("(")&&u.startsWith("PnP")&&(w=e.vendor,D=e.model)}),l.push({vendor:I.startsWith(c)&&""===w?a:w,model:I.startsWith(c)&&""===D?u:D,deviceName:b,main:"true"===h.toLowerCase(),builtin:"2147483648"===x,connection:x&&C[x]?C[x]:"",resolutionX:i.toInt(i.getValue(f,"Width","=")),resolutionY:i.toInt(i.getValue(f,"Height","=")),sizeX:g?parseInt(g,10):null,sizeY:y?parseInt(y,10):null,pixelDepth:d,currentResX:i.toInt(i.getValue(f,"Width","=")),currentResY:i.toInt(i.getValue(f,"Height","=")),positionX:i.toInt(i.getValue(f,"X","=")),positionY:i.toInt(i.getValue(f,"Y","="))})}();0===r.length&&l.push({vendor:a,model:u,main:!0,sizeX:null,sizeY:null,resolutionX:m,resolutionY:p,pixelDepth:null,currentResX:m,currentResY:p,positionX:0,positionY:0});return l}(u,a,l,c,p),1===s.displays.length&&(v&&(s.displays[0].resolutionX=v,s.displays[0].currentResX||(s.displays[0].currentResX=v)),f&&(s.displays[0].resolutionY=f,0===s.displays[0].currentResY&&(s.displays[0].currentResY=f)),h&&(s.displays[0].pixelDepth=h),g&&!s.displays[0].refreshRate&&(s.displays[0].currentRefreshRate=g)),o&&o(s),r(s)}).catch(function(){o&&o(s),r(s)})}catch(D){o&&o(s),r(s)}})})}exports.graphics=y;
},{"./util":"YOqM"}],"JFka":[function(require,module,exports) {
"use strict";var e=require("child_process").exec,t=require("child_process").execSync,r=require("./util"),a=require("fs"),n=process.platform,i="linux"===n,l="darwin"===n,s="win32"===n,u="freebsd"===n,o="openbsd"===n,c="netbsd"===n,p="sunos"===n,f={},m={};function d(a){var n=[];function f(e){var t=[];return e.forEach(function(e){if(""!==e&&(e=e.replace(/ +/g," ").split(" "))&&(e[0].startsWith("/")||e[6]&&"/"===e[6]||e[0].indexOf("/")>0||1===e[0].indexOf(":"))){var r=e[0],a=i||u||o||c?e[1]:function(e){if(!e.startsWith("/"))return"NFS";var t=e.split("/"),r=t[t.length-1],a=n.filter(function(e){return e.indexOf(r)>=0});return 1===a.length&&a[0].indexOf("APFS")>=0?"APFS":"HFS"}(e[0]),l=1024*parseInt(i||u||o||c?e[2]:e[1]),s=1024*parseInt(i||u||o||c?e[3]:e[2]),p=1024*parseInt(i||u||o||c?e[4]:e[3]),f=parseFloat((s/(s+p)*100).toFixed(2));e.splice(0,i||u||o||c?6:5);var m=e.join(" ");t.find(function(e){return e.fs===r&&e.type===a})||t.push({fs:r,type:a,size:l,used:s,available:p,use:f,mount:m})}}),t}return new Promise(function(m){process.nextTick(function(){var d=[];if(i||u||o||c||l){var S="";if(l){S="df -kP";try{n=t("diskutil list").toString().split("\n").filter(function(e){return!e.startsWith("/")&&e.indexOf(":")>0})}catch(g){n=[]}}i&&(S='df -lkPTx squashfs | grep  -E "^/|^.\\:"'),(u||o||c)&&(S="df -lkPT"),e(S,function(t,r){if(t)e("df -kPT",function(e,t){if(!e){var r=t.toString().split("\n");d=f(r)}a&&a(d),m(d)});else{var n=r.toString().split("\n");d=f(n),a&&a(d),m(d)}})}if(p&&(a&&a(d),m(d)),s)try{r.wmic("logicaldisk get Caption,FileSystem,FreeSpace,Size").then(function(e){e.split("\r\n").filter(function(e){return""!==e.trim()}).filter(function(e,t){return t>0}).forEach(function(e){""!==e&&(e=e.trim().split(/\s\s+/)).length>=4&&parseInt(e[3],10)&&d.push({fs:e[0],type:e[1],size:parseInt(e[3],10),used:parseInt(e[3],10)-parseInt(e[2],10),available:parseInt(e[2],10),use:parseFloat((100*(parseInt(e[3])-parseInt(e[2]))/parseInt(e[3])).toFixed(2)),mount:e[0]})}),a&&a(d),m(d)})}catch(g){a&&a(d),m(d)}})})}function S(t){return new Promise(function(n){process.nextTick(function(){var f={max:null,allocated:null,available:null};if(u||o||c||l){e("sysctl -a | grep 'kern.*files'",function(e,a){if(!e){var i=a.toString().split("\n");f.max=parseInt(r.getValue(i,"kern.maxfiles",":"),10),f.allocated=parseInt(r.getValue(i,"kern.num_files",":"),10),f.available=f.max-f.allocated}t&&t(f),n(f)})}i&&a.readFile("/proc/sys/fs/file-nr",function(e,r){if(e)a.readFile("/proc/sys/fs/file-max",function(e,r){if(!e){var a=r.toString().split("\n");a[0]&&(f.max=parseInt(a[0],10))}t&&t(f),n(f)});else{var i=r.toString().split("\n");if(i[0]){var l=i[0].replace(/\s+/g," ").split(" ");3===l.length&&(f.allocated=parseInt(l[0],10),f.available=parseInt(l[1],10),f.max=parseInt(l[2],10),f.available||(f.available=f.max-f.allocated))}t&&t(f),n(f)}}),p&&(t&&t(null),n(null)),s&&(t&&t(null),n(null))})})}function g(e){return parseInt(e.substr(e.indexOf(" (")+2,e.indexOf(" Bytes)")-10))}function I(e){var t=[],r=0;return e.forEach(function(e){if(e.length>0)if("*"===e[0])r++;else{var a=e.split(":");a.length>1&&(t[r]||(t[r]={name:"",identifier:"",type:"disk",fsType:"",mount:"",size:0,physical:"HDD",uuid:"",label:"",model:"",serial:"",removable:!1,protocol:""}),a[0]=a[0].trim().toUpperCase().replace(/ +/g,""),a[1]=a[1].trim(),"DEVICEIDENTIFIER"===a[0]&&(t[r].identifier=a[1]),"DEVICENODE"===a[0]&&(t[r].name=a[1]),"VOLUMENAME"===a[0]&&-1===a[1].indexOf("Not applicable")&&(t[r].label=a[1]),"PROTOCOL"===a[0]&&(t[r].protocol=a[1]),"DISKSIZE"===a[0]&&(t[r].size=g(a[1])),"FILESYSTEMPERSONALITY"===a[0]&&(t[r].fsType=a[1]),"MOUNTPOINT"===a[0]&&(t[r].mount=a[1]),"VOLUMEUUID"===a[0]&&(t[r].uuid=a[1]),"READ-ONLYMEDIA"===a[0]&&"Yes"===a[1]&&(t[r].physical="CD/DVD"),"SOLIDSTATE"===a[0]&&"Yes"===a[1]&&(t[r].physical="SSD"),"VIRTUAL"===a[0]&&(t[r].type="virtual"),"REMOVABLEMEDIA"===a[0]&&(t[r].removable="Removable"===a[1]),"PARTITIONTYPE"===a[0]&&(t[r].type="part"),"DEVICE/MEDIANAME"===a[0]&&(t[r].model=a[1]))}}),t}function v(e){var t=[];return e.filter(function(e){return""!==e}).forEach(function(e){try{e=(e=decodeURIComponent(e.replace(/\\x/g,"%"))).replace(/\\/g,"\\\\");var a=JSON.parse(e);t.push({name:a.name,type:a.type,fsType:a.fsType,mount:a.mountpoint,size:parseInt(a.size),physical:"disk"===a.type?"0"===a.rota?"SSD":"HDD":"rom"===a.type?"CD/DVD":"",uuid:a.uuid,label:a.label,model:a.model,serial:a.serial,removable:"1"===a.rm,protocol:a.tran,group:a.group})}catch(n){r.noop()}}),t=r.unique(t),t=r.sortByKey(t,["type","name"])}function O(e){return e.toString().replace(/NAME=/g,'{"name":').replace(/FSTYPE=/g,',"fsType":').replace(/TYPE=/g,',"type":').replace(/SIZE=/g,',"size":').replace(/MOUNTPOINT=/g,',"mountpoint":').replace(/UUID=/g,',"uuid":').replace(/ROTA=/g,',"rota":').replace(/RO=/g,',"ro":').replace(/RM=/g,',"rm":').replace(/TRAN=/g,',"tran":').replace(/SERIAL=/g,',"serial":').replace(/LABEL=/g,',"label":').replace(/MODEL=/g,',"model":').replace(/OWNER=/g,',"owner":').replace(/GROUP=/g,',"group":').replace(/\n/g,"}\n")}function y(t){return new Promise(function(a){process.nextTick(function(){var n=[];if(i&&e("lsblk -bPo NAME,TYPE,SIZE,FSTYPE,MOUNTPOINT,UUID,ROTA,RO,RM,TRAN,SERIAL,LABEL,MODEL,OWNER 2>/dev/null",function(r,i){if(r)e("lsblk -bPo NAME,TYPE,SIZE,FSTYPE,MOUNTPOINT,UUID,ROTA,RO,RM,LABEL,MODEL,OWNER 2>/dev/null",function(e,r){if(!e){var i=O(r).split("\n");n=v(i)}t&&t(n),a(n)});else{var l=O(i).split("\n");n=v(l),t&&t(n),a(n)}}),l&&e("diskutil info -all",function(e,r){if(!e){var i=r.toString().split("\n");n=I(i)}t&&t(n),a(n)}),p&&(t&&t(n),a(n)),s){var f=["Unknown","NoRoot","Removable","Local","Network","CD/DVD","RAM"];try{r.wmic("logicaldisk get Caption,Description,DeviceID,DriveType,FileSystem,FreeSpace,Name,Size,VolumeName,VolumeSerialNumber /value").then(function(e,i){i||e.toString().split(/\n\s*\n/).forEach(function(e){var t=e.split("\r\n"),a=r.getValue(t,"drivetype","=");a&&n.push({name:r.getValue(t,"name","="),identifier:r.getValue(t,"caption","="),type:"disk",fsType:r.getValue(t,"filesystem","=").toLowerCase(),mount:r.getValue(t,"caption","="),size:r.getValue(t,"size","="),physical:a>=0&&a<=6?f[a]:f[0],uuid:r.getValue(t,"volumeserialnumber","="),label:r.getValue(t,"volumename","="),model:"",serial:r.getValue(t,"volumeserialnumber","="),removable:"2"===a,protocol:""})});t&&t(n),a(n)})}catch(m){t&&t(n),a(n)}}(u||o||c)&&(t&&t(null),a(null))})})}function T(e,t){var r={rx:0,wx:0,tx:0,rx_sec:null,wx_sec:null,tx_sec:null,ms:0};return f&&f.ms?(r.rx=e,r.wx=t,r.tx=r.rx+r.wx,r.ms=Date.now()-f.ms,r.rx_sec=(r.rx-f.bytes_read)/(r.ms/1e3),r.wx_sec=(r.wx-f.bytes_write)/(r.ms/1e3),r.tx_sec=r.rx_sec+r.wx_sec,f.rx_sec=r.rx_sec,f.wx_sec=r.wx_sec,f.tx_sec=r.tx_sec,f.bytes_read=r.rx,f.bytes_write=r.wx,f.bytes_overall=r.rx+r.wx,f.ms=Date.now(),f.last_ms=r.ms):(r.rx=e,r.wx=t,r.tx=r.rx+r.wx,f.rx_sec=null,f.wx_sec=null,f.tx_sec=null,f.bytes_read=r.rx,f.bytes_write=r.wx,f.bytes_overall=r.rx+r.wx,f.ms=Date.now(),f.last_ms=0),r}function x(t){return new Promise(function(r){process.nextTick(function(){s&&r(null);var a={rx:0,wx:0,tx:0,rx_sec:null,wx_sec:null,tx_sec:null,ms:0},n=0,u=0;f&&!f.ms||f&&f.ms&&Date.now()-f.ms>=500?(i&&e("lsblk -r 2>/dev/null | grep /",function(i,l){if(i)t&&t(a),r(a);else{var s=l.toString().split("\n"),o=[];s.forEach(function(e){""!==e&&(e=e.trim().split(" "),-1===o.indexOf(e[0])&&o.push(e[0]))});var c=o.join("|");e('cat /proc/diskstats | egrep "'+c+'"',function(e,i){e||(i.toString().split("\n").forEach(function(e){""!==(e=e.trim())&&(e=e.replace(/ +/g," ").split(" "),n+=512*parseInt(e[5]),u+=512*parseInt(e[9]))}),a=T(n,u));t&&t(a),r(a)})}}),l&&e('ioreg -c IOBlockStorageDriver -k Statistics -r -w0 | sed -n "/IOBlockStorageDriver/,/Statistics/p" | grep "Statistics" | tr -cd "01234567890,\n"',function(e,i){e||(i.toString().split("\n").forEach(function(e){""!==(e=e.trim())&&(e=e.split(","),n+=parseInt(e[2]),u+=parseInt(e[9]))}),a=T(n,u));t&&t(a),r(a)})):(a.ms=f.last_ms,a.rx=f.bytes_read,a.wx=f.bytes_write,a.tx=f.bytes_read+f.bytes_write,a.rx_sec=f.rx_sec,a.wx_sec=f.wx_sec,a.tx_sec=f.tx_sec,t&&t(a),r(a))})})}function h(e,t){var r={rIO:0,wIO:0,tIO:0,rIO_sec:null,wIO_sec:null,tIO_sec:null,ms:0};return m&&m.ms?(r.rIO=e,r.wIO=t,r.tIO=e+t,r.ms=Date.now()-m.ms,r.rIO_sec=(r.rIO-m.rIO)/(r.ms/1e3),r.wIO_sec=(r.wIO-m.wIO)/(r.ms/1e3),r.tIO_sec=r.rIO_sec+r.wIO_sec,m.rIO=e,m.wIO=t,m.rIO_sec=r.rIO_sec,m.wIO_sec=r.wIO_sec,m.tIO_sec=r.tIO_sec,m.last_ms=r.ms,m.ms=Date.now()):(r.rIO=e,r.wIO=t,r.tIO=e+t,m.rIO=e,m.wIO=t,m.rIO_sec=null,m.wIO_sec=null,m.tIO_sec=null,m.last_ms=0,m.ms=Date.now()),r}function w(t){return new Promise(function(r){process.nextTick(function(){s&&r(null),p&&r(null);var a={rIO:0,wIO:0,tIO:0,rIO_sec:null,wIO_sec:null,tIO_sec:null,ms:0},n=0,f=0;if(m&&!m.ms||m&&m.ms&&Date.now()-m.ms>=500){if(i||u||o||c){e('for mount in `lsblk 2>/dev/null | grep " disk " | sed "s/[│└─├]//g" | awk \'{$1=$1};1\' | cut -d " " -f 1 | sort -u`; do cat /sys/block/$mount/stat | sed -r "s/ +/;/g" | sed -r "s/^;//"; done',function(e,i){e?(t&&t(a),r(a)):(i.split("\n").forEach(function(e){if(e){var t=e.split(";");n+=parseInt(t[0]),f+=parseInt(t[4])}}),a=h(n,f),t&&t(a),r(a))})}l&&e('ioreg -c IOBlockStorageDriver -k Statistics -r -w0 | sed -n "/IOBlockStorageDriver/,/Statistics/p" | grep "Statistics" | tr -cd "01234567890,\n"',function(e,i){e||(i.toString().split("\n").forEach(function(e){""!==(e=e.trim())&&(e=e.split(","),n+=parseInt(e[10]),f+=parseInt(e[0]))}),a=h(n,f));t&&t(a),r(a)})}else a.rIO=m.rIO,a.wIO=m.wIO,a.tIO=m.rIO+m.wIO,a.ms=m.last_ms,a.rIO_sec=m.rIO_sec,a.wIO_sec=m.wIO_sec,a.tIO_sec=m.tIO_sec,t&&t(a),r(a)})})}function D(a){function n(e){var t="";return e&&(e=e.toUpperCase(),[{pattern:"^WESTERN.+",manufacturer:"Western Digital"},{pattern:"^WDC.+",manufacturer:"Western Digital"},{pattern:"WD.+",manufacturer:"Western Digital"},{pattern:"^TOSHIBA.+",manufacturer:"Toshiba"},{pattern:"^HITACHI.+",manufacturer:"Hitachi"},{pattern:"^IC.+",manufacturer:"Hitachi"},{pattern:"^HTS.+",manufacturer:"Hitachi"},{pattern:"^SANDISK.+",manufacturer:"SanDisk"},{pattern:"^KINGSTON.+",manufacturer:"Kingston Technonogy"},{pattern:"^SONY.+",manufacturer:"Sony"},{pattern:"^TRANSCEND.+",manufacturer:"Transcend"},{pattern:"SAMSUNG.+",manufacturer:"Samsung"},{pattern:"^ST(?!I\\ ).+",manufacturer:"Seagate"},{pattern:"^STI\\ .+",manufacturer:"SimpleTech"},{pattern:"^D...-.+",manufacturer:"IBM"},{pattern:"^IBM.+",manufacturer:"IBM"},{pattern:"^FUJITSU.+",manufacturer:"Fujitsu"},{pattern:"^MP.+",manufacturer:"Fujitsu"},{pattern:"^MK.+",manufacturer:"Toshiba"},{pattern:"^MAXTOR.+",manufacturer:"Maxtor"},{pattern:"^Pioneer.+",manufacturer:"Pioneer"},{pattern:"^PHILIPS.+",manufacturer:"Philips"},{pattern:"^QUANTUM.+",manufacturer:"Quantum Technology"},{pattern:"FIREBALL.+",manufacturer:"Quantum Technology"},{pattern:"^VBOX.+",manufacturer:"VirtualBox"},{pattern:"CORSAIR.+",manufacturer:"Corsair Components"},{pattern:"CRUCIAL.+",manufacturer:"Crucial"},{pattern:"ECM.+",manufacturer:"ECM"},{pattern:"INTEL.+",manufacturer:"INTEL"},{pattern:".+EVO",manufacturer:"Samsung"},{pattern:"APPLE.+",manufacturer:"Apple"}].forEach(function(r){RegExp(r.pattern).test(e)&&(t=r.manufacturer)})),t}return new Promise(function(f){process.nextTick(function(){var m=function(e){for(var t=0;t<e.length;t++)delete e[t].BSDName;a&&a(e),f(e)},d=[],S="";if(i){var g="";e("export LC_ALL=C; lsblk -ablJO 2>/dev/null; unset LC_ALL",function(a,i){if(!a)try{var l=i.toString().trim(),s=[];try{var u=JSON.parse(l);u&&{}.hasOwnProperty.call(u,"blockdevices")&&(s=u.blockdevices.filter(function(e){return"disk"===e.type&&e.size>0&&(null!==e.model||null===e.mountpoint&&null===e.label&&null===e.fsType&&null===e.parttype)}))}catch(o){s=v(O(t("export LC_ALL=C; lsblk -bPo NAME,TYPE,SIZE,FSTYPE,MOUNTPOINT,UUID,ROTA,RO,RM,LABEL,MODEL,OWNER,GROUP 2>/dev/null; unset LC_ALL").toString()).split("\n")).filter(function(e){return"disk"===e.type&&e.size>0&&(null!==e.model&&""!==e.model||""===e.mount&&""===e.label&&""===e.fsType)})}s.forEach(function(e){var a="",i="/dev/"+e.name,l=e.name;try{a=t("cat /sys/block/"+l+"/queue/rotational 2>/dev/null").toString().split("\n")[0]}catch(o){r.noop()}var s=e.tran?e.tran.toUpperCase().trim():"";"NVME"===s&&(a="2",s="PCIe"),d.push({device:i,type:"0"===a?"SSD":"1"===a?"HD":"2"===a?"NVMe":e.model&&e.model.indexOf("SSD")>-1?"SSD":e.model&&e.model.indexOf("NVM")>-1?"NVMe":"HD",name:e.model||"",vendor:n(e.model)||(e.vendor?e.vendor.trim():""),size:e.size||0,bytesPerSector:null,totalCylinders:null,totalHeads:null,totalSectors:null,totalTracks:null,tracksPerCylinder:null,sectorsPerTrack:null,firmwareRevision:e.rev?e.rev.trim():"",serialNum:e.serial?e.serial.trim():"",interfaceType:s,smartStatus:"unknown",temperature:null,BSDName:i}),S+=`printf "\n${i}|"; smartctl -H ${i} | grep overall;`,g+=`${g?'printf ",";':""}smartctl -a -j ${i};`})}catch(o){r.noop()}g?e(g,function(t,r){try{JSON.parse(`[${r}]`).forEach(function(e){for(var t=e.smartctl.argv[e.smartctl.argv.length-1],r=0;r<d.length;r++)d[r].BSDName===t&&(d[r].smartStatus=e.smart_status.passed?"Ok":!1===e.smart_status.passed?"Predicted Failure":"unknown",e.temperature&&e.temperature.current&&(d[r].temperature=e.temperature.current),d[r].smartData=e)}),m(d)}catch(o){S?e(S+='printf "\n"',function(e,t){t.toString().split("\n").forEach(function(e){if(e){var t=e.split("|");if(2===t.length){var r=t[0];t[1]=t[1].trim();var a=t[1].split(":");if(2===a.length){a[1]=a[1].trim();for(var n=a[1].toLowerCase(),i=0;i<d.length;i++)d[i].BSDName===r&&(d[i].smartStatus="passed"===n?"Ok":"failed!"===n?"Predicted Failure":"unknown")}}}}),m(d)}):m(d)}}):m(d)})}if((u||o||c)&&(a&&a(d),f(d)),p&&(a&&a(d),f(d)),l&&e("system_profiler SPSerialATADataType SPNVMeDataType SPUSBDataType",function(t,i){if(!t){var l=i.toString().split("\n"),s=[],u=[],o=[],c="SATA";l.forEach(function(e){"NVMExpress:"===e?c="NVMe":"USB:"===e?c="USB":"SATA/SATA Express:"===e?c="SATA":"SATA"===c?s.push(e):"NVMe"===c?u.push(e):"USB"===c&&o.push(e)});try{var p=s.join("\n").split(" Physical Interconnect: ");p.shift(),p.forEach(function(e){var t=(e="InterfaceType: "+e).split("\n"),a=r.getValue(t,"Medium Type",":",!0).trim(),i=r.getValue(t,"capacity",":",!0).trim(),l=r.getValue(t,"BSD Name",":",!0).trim();if(i){var s=0;if(i.indexOf("(")>=0&&(s=parseInt(i.match(/\(([^)]+)\)/)[1].replace(/\./g,"").replace(/,/g,""))),s||(s=parseInt(i)),s){var u=r.getValue(t,"S.M.A.R.T. status",":",!0).trim().toLowerCase();d.push({device:l,type:a.startsWith("Solid")?"SSD":"HD",name:r.getValue(t,"Model",":",!0).trim(),vendor:n(r.getValue(t,"Model",":",!0).trim())||r.getValue(t,"Manufacturer",":",!0),size:s,bytesPerSector:null,totalCylinders:null,totalHeads:null,totalSectors:null,totalTracks:null,tracksPerCylinder:null,sectorsPerTrack:null,firmwareRevision:r.getValue(t,"Revision",":",!0).trim(),serialNum:r.getValue(t,"Serial Number",":",!0).trim(),interfaceType:r.getValue(t,"InterfaceType",":",!0).trim(),smartStatus:"verified"===u?"OK":u||"unknown",temperature:null,BSDName:l}),S=S+'printf "\n'+l+'|"; diskutil info /dev/'+l+" | grep SMART;"}}})}catch(v){r.noop()}try{var m=u.join("\n").split("\n\n          Capacity:");m.shift(),m.forEach(function(e){var t=(e="!Capacity: "+e).split("\n"),a=r.getValue(t,"link width",":",!0).trim(),i=r.getValue(t,"!capacity",":",!0).trim(),l=r.getValue(t,"BSD Name",":",!0).trim();if(i){var s=0;if(i.indexOf("(")>=0&&(s=parseInt(i.match(/\(([^)]+)\)/)[1].replace(/\./g,"").replace(/,/g,""))),s||(s=parseInt(i)),s){var u=r.getValue(t,"S.M.A.R.T. status",":",!0).trim().toLowerCase();d.push({device:l,type:"NVMe",name:r.getValue(t,"Model",":",!0).trim(),vendor:n(r.getValue(t,"Model",":",!0).trim()),size:s,bytesPerSector:null,totalCylinders:null,totalHeads:null,totalSectors:null,totalTracks:null,tracksPerCylinder:null,sectorsPerTrack:null,firmwareRevision:r.getValue(t,"Revision",":",!0).trim(),serialNum:r.getValue(t,"Serial Number",":",!0).trim(),interfaceType:("PCIe "+a).trim(),smartStatus:"verified"===u?"OK":u||"unknown",temperature:null,BSDName:l}),S=S+'printf "\n'+l+'|"; diskutil info /dev/'+l+" | grep SMART;"}}})}catch(v){r.noop()}try{var g=o.join("\n").replaceAll("Media:\n ","Model:").split("\n\n          Product ID:");g.shift(),g.forEach(function(e){var t=e.split("\n"),a=r.getValue(t,"Capacity",":",!0).trim(),i=r.getValue(t,"BSD Name",":",!0).trim();if(a){var l=0;if(a.indexOf("(")>=0&&(l=parseInt(a.match(/\(([^)]+)\)/)[1].replace(/\./g,"").replace(/,/g,""))),l||(l=parseInt(a)),l){var s=r.getValue(t,"S.M.A.R.T. status",":",!0).trim().toLowerCase();d.push({device:i,type:"USB",name:r.getValue(t,"Model",":",!0).trim().replaceAll(":",""),vendor:n(r.getValue(t,"Model",":",!0).trim()),size:l,bytesPerSector:null,totalCylinders:null,totalHeads:null,totalSectors:null,totalTracks:null,tracksPerCylinder:null,sectorsPerTrack:null,firmwareRevision:r.getValue(t,"Revision",":",!0).trim(),serialNum:r.getValue(t,"Serial Number",":",!0).trim(),interfaceType:"USB",smartStatus:"verified"===s?"OK":s||"unknown",temperature:null,BSDName:i}),S=S+'printf "\n'+i+'|"; diskutil info /dev/'+i+" | grep SMART;"}}})}catch(v){r.noop()}if(S)e(S+='printf "\n"',function(e,t){t.toString().split("\n").forEach(function(e){if(e){var t=e.split("|");if(2===t.length){var r=t[0];t[1]=t[1].trim();var a=t[1].split(":");if(2===a.length){a[1]=a[1].trim();for(var n=a[1].toLowerCase(),i=0;i<d.length;i++)d[i].BSDName===r&&(d[i].smartStatus="not supported"===n?"not supported":"verified"===n?"Ok":"failing"===n?"Predicted Failure":"unknown")}}}});for(var r=0;r<d.length;r++)delete d[r].BSDName;a&&a(d),f(d)});else{for(var I=0;I<d.length;I++)delete d[I].BSDName;a&&a(d),f(d)}}}),s)try{r.wmic("diskdrive get /value").then(function(e){e.toString().split(/\n\s*\n/).forEach(function(e){var t=e.split("\r\n"),a=r.getValue(t,"Size","=").trim(),n=r.getValue(t,"Status","=").trim().toLowerCase();a&&d.push({device:r.getValue(t,"PNPDeviceId","="),type:e.indexOf("SSD")>-1?"SSD":"HD",name:r.getValue(t,"Caption","="),vendor:r.getValue(t,"Manufacturer","="),size:parseInt(a),bytesPerSector:parseInt(r.getValue(t,"BytesPerSector","=")),totalCylinders:parseInt(r.getValue(t,"TotalCylinders","=")),totalHeads:parseInt(r.getValue(t,"TotalHeads","=")),totalSectors:parseInt(r.getValue(t,"TotalSectors","=")),totalTracks:parseInt(r.getValue(t,"TotalTracks","=")),tracksPerCylinder:parseInt(r.getValue(t,"TracksPerCylinder","=")),sectorsPerTrack:parseInt(r.getValue(t,"SectorsPerTrack","=")),firmwareRevision:r.getValue(t,"FirmwareRevision","=").trim(),serialNum:r.getValue(t,"SerialNumber","=").trim(),interfaceType:r.getValue(t,"InterfaceType","=").trim(),smartStatus:"ok"===n?"Ok":"degraded"===n?"Degraded":"pred fail"===n?"Predicted Failure":"Unknown",temperature:null})}),r.powerShell("Get-PhysicalDisk | Format-List").then(function(e){e.split(/\n\s*\n/).forEach(function(e){var t=e.split("\r\n"),a=r.getValue(t,"SerialNumber",":").trim(),n=r.getValue(t,"FriendlyName",":").trim().replace("Msft ","Microsoft"),i=r.getValue(t,"Size",":").trim(),l=r.getValue(t,"Model",":").trim(),s=r.getValue(t,"BusType",":").trim(),u=r.getValue(t,"MediaType",":").trim();if("3"!==u&&"HDD"!==u||(u="HD"),"4"===u&&(u="SSD"),"5"===u&&(u="SCM"),"Unspecified"===u&&(l.toLowerCase().indexOf("virtual")>-1||l.toLowerCase().indexOf("vbox")>-1)&&(u="Virtual"),i){var o=r.findObjectByKey(d,"serialNum",a);-1!==o&&""!==a||(o=r.findObjectByKey(d,"name",n)),-1!=o&&(d[o].type=u,d[o].interfaceType=s)}}),a&&a(d),f(d)}).catch(function(){a&&a(d),f(d)})})}catch(I){a&&a(d),f(d)}})})}exports.fsSize=d,exports.fsOpenFiles=S,exports.blockDevices=y,exports.fsStats=x,exports.disksIO=w,exports.diskLayout=D;
},{"./util":"YOqM"}],"OmA8":[function(require,module,exports) {
"use strict";function e(e,n){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=t(e))||n&&e&&"number"==typeof e.length){r&&(e=r);var s=0,a=function(){};return{s:a,n:function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,c=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){c=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(c)throw i}}}}function t(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var r,s=require("os"),a=require("child_process").exec,i=require("child_process").execSync,o=require("fs"),c=require("./util"),l=process.platform,p="linux"===l,u="darwin"===l,f="win32"===l,d="freebsd"===l,h="openbsd"===l,g="netbsd"===l,v="sunos"===l,m={},x="",_={},y=[],w=[],S={};function I(){var e=s.networkInterfaces(),t="",n="",r=9999,a=function(s){({}).hasOwnProperty.call(e,s)&&e[s].forEach(function(e){e&&!1===e.internal&&(n=n||s,e.scopeid&&e.scopeid<r&&(t=s,r=e.scopeid))})};for(var o in e)a(o);t=t||n||"";try{if(f&&function(){var n="";if(i("netstat -r",c.execOptsWin).toString().split(s.EOL).forEach(function(e){if((e=e.replace(/\s+/g," ").trim()).indexOf("0.0.0.0 0.0.0.0")>-1&&!/[a-zA-Z]/.test(e)){var t=e.split(" ");t.length>=5&&(n=t[t.length-2])}}),n){var r=function(r){({}).hasOwnProperty.call(e,r)&&e[r].forEach(function(e){e&&e.address&&e.address===n&&(t=r)})};for(var a in e)r(a)}}(),p){var l=i("ip route 2> /dev/null | grep default").toString().split("\n")[0].split(/\s+/);"none"===l[0]&&l[5]?t=l[5]:l[4]&&(t=l[4]),t.indexOf(":")>-1&&(t=t.split(":")[1].trim())}if(u||d||h||g||v){var m="";p&&(m="ip route 2> /dev/null | grep default | awk '{print $5}'"),u&&(m="route -n get default 2>/dev/null | grep interface: | awk '{print $2}'"),(d||h||g||v)&&(m="route get 0.0.0.0 | grep interface:");var _=i(m);(t=_.toString().split("\n")[0]).indexOf(":")>-1&&(t=t.split(":")[1].trim())}}catch(y){c.noop()}return t&&(x=t),x}function C(){var e="",t="",n={};if(p||d||h||g){if(void 0===r)try{var s=i("which ip").toString().split("\n");r=s.length&&-1===s[0].indexOf(":")&&0===s[0].indexOf("/")?s[0]:""}catch(m){r=""}try{for(var a=i("export LC_ALL=C; "+(r?r+" link show up":"/sbin/ifconfig")+"; unset LC_ALL").toString().split("\n"),o=0;o<a.length;o++)if(a[o]&&" "!==a[o][0]){if(r){var l=a[o+1].trim().split(" ");"link/ether"===l[0]&&(e=(e=a[o].split(" ")[1]).slice(0,e.length-1),t=l[1])}else e=a[o].split(" ")[0],t=a[o].split("HWaddr ")[1];e&&t&&(n[e]=t.trim(),e="",t="")}}catch(m){c.noop()}}if(u)try{for(var f=i("/sbin/ifconfig").toString().split("\n"),v=0;v<f.length;v++)f[v]&&"\t"!==f[v][0]&&f[v].indexOf(":")>0?e=f[v].split(":")[0]:0===f[v].indexOf("\tether ")&&(t=f[v].split("\tether ")[1],e&&t&&(n[e]=t.trim(),e="",t=""))}catch(m){c.noop()}return n}function E(e){return new Promise(function(t){process.nextTick(function(){var n=I();e&&e(n),t(n)})})}function L(e,t){var n=[];for(var r in e)if({}.hasOwnProperty.call(e,r)&&""!==e[r].trim()){var s=e[r].trim().split("\r\n"),a=t[r].trim().split("\r\n"),i=c.getValue(s,"NetEnabled","="),o="9"===c.getValue(s,"AdapterTypeID","=")?"wireless":"wired",l=c.getValue(s,"Name","=").replace(/\]/g,")").replace(/\[/g,"("),p=c.getValue(s,"NetConnectionID","=").replace(/\]/g,")").replace(/\[/g,"(");if((l.toLowerCase().indexOf("wi-fi")>=0||l.toLowerCase().indexOf("wireless")>=0)&&(o="wireless"),""!==i){var u=parseInt(c.getValue(s,"speed","=").trim(),10)/1e6;n.push({mac:c.getValue(s,"MACAddress","=").toLowerCase(),dhcp:c.getValue(a,"dhcpEnabled","=").toLowerCase(),name:l,iface:p,netEnabled:"TRUE"===i,speed:isNaN(u)?null:u,operstate:"2"===c.getValue(s,"NetConnectionStatus","=")?"up":"down",type:o})}}return n}function N(){var e=c.getWmic()+" nic get MACAddress, name, NetConnectionId, NetEnabled, Speed, NetConnectionStatus, AdapterTypeId /value",t=c.getWmic()+" nicconfig get dhcpEnabled /value";try{return L(i(e,c.execOptsWin).split(/\n\s*\n/),i(t,c.execOptsWin).split(/\n\s*\n/))}catch(n){return[]}}function b(){var e={},t={primaryDNS:"",exitCode:0,ifaces:[]};try{return i("ipconfig /all",c.execOptsWin).split("\r\n\r\n").forEach(function(n,r){if(1==r){var s=n.split("\r\n").filter(function(e){return e.toUpperCase().includes("DNS")}),a=s[0].substring(s[0].lastIndexOf(":")+1);t.primaryDNS=a.trim(),t.primaryDNS||(t.primaryDNS="Not defined")}if(r>1)if(r%2==0){var i=n.substring(n.lastIndexOf(" ")+1).replace(":","");e.name=i}else{var o=n.split("\r\n").filter(function(e){return e.toUpperCase().includes("DNS")}),c=o[0].substring(o[0].lastIndexOf(":")+1);e.dnsSuffix=c.trim(),t.ifaces.push(e),e={}}}),t}catch(n){return{primaryDNS:"",exitCode:0,ifaces:[]}}}function O(e,t){var n="",r=t+".";try{var s=e.filter(function(e){return r.includes(e.name+".")}).map(function(e){return e.dnsSuffix});return s[0]&&(n=s[0]),n||(n=""),n}catch(a){return"Unknown"}}function A(){try{return i("netsh lan show profiles",c.execOptsWin).split("\r\nProfile on interface")}catch(e){return 1===e.status&&e.stdout.includes("AutoConfig")?"Disabled":[]}}function T(e){try{return i(`netsh wlan show  interface name="${e}" | findstr "SSID"`,c.execOptsWin).split("\r\n").shift().split(":").pop()}catch(t){return"Unknown"}}function k(e,t,n){var r={state:"Unknown",protocol:"Unknown"};if("Disabled"===n)return r.state="Disabled",r.protocol="Not defined",r;if("wired"==e&&n.length>0)try{var s=n.find(function(e){return e.includes(t+"\r\n")}).split("\r\n"),a=s.find(function(e){return e.includes("802.1x")});if(a.includes("Disabled"))r.state="Disabled",r.protocol="Not defined";else if(a.includes("Enabled")){var o=s.find(function(e){return e.includes("EAP")});r.protocol=o.split(":").pop(),r.state="Enabled"}}catch(f){return r}else if("wireless"==e){var l="",p="";try{var u=T(t);"Unknown"!==u&&(l=i(`netsh wlan show profiles "${u}" | findstr "802.1X"`,c.execOptsWin),p=i(`netsh wlan show profiles "${u}" | findstr "EAP"`,c.execOptsWin)),l.includes(":")&&p.includes(":")&&(r.state=l.split(":").pop(),r.protocol=p.split(":").pop())}catch(f){return 1===f.status&&f.stdout.includes("AutoConfig")&&(r.state="Disabled",r.protocol="Not defined"),r}}return r}function W(e){var t=[],n=[];return e.forEach(function(e){e.startsWith("\t")||e.startsWith(" ")||n.length&&(t.push(n),n=[]),n.push(e)}),n.length&&t.push(n),t}function P(e){var t=[];return e.forEach(function(e){var n={iface:"",mtu:null,mac:"",ip6:"",ip4:"",speed:null,type:"",operstate:"",duplex:"",internal:!1},r=e[0];n.iface=r.split(":")[0].trim();var s=r.split("> mtu");n.mtu=s.length>1?parseInt(s[1],10):null,isNaN(n.mtu)&&(n.mtu=null),n.internal=s[0].toLowerCase().indexOf("loopback")>-1,e.forEach(function(e){e.trim().startsWith("ether ")&&(n.mac=e.split("ether ")[1].toLowerCase().trim()),e.trim().startsWith("inet6 ")&&!n.ip6&&(n.ip6=e.split("inet6 ")[1].toLowerCase().split("%")[0].split(" ")[0]),e.trim().startsWith("inet ")&&!n.ip4&&(n.ip4=e.split("inet ")[1].toLowerCase().split(" ")[0])});var a=c.getValue(e,"link rate");n.speed=a?parseFloat(a):null,null===n.speed?(a=c.getValue(e,"uplink rate"),n.speed=a?parseFloat(a):null,null!==n.speed&&a.toLowerCase().indexOf("gbps")>=0&&(n.speed=1e3*n.speed)):a.toLowerCase().indexOf("gbps")>=0&&(n.speed=1e3*n.speed),n.type=c.getValue(e,"type").toLowerCase().indexOf("wi-fi")>-1?"wireless":"wired",n.operstate=c.getValue(e,"status").toLowerCase().indexOf("active")>-1?"up":"down",n.duplex=c.getValue(e,"media").toLowerCase().indexOf("half-duplex")>-1?"half":"full",(n.ip6||n.ip4||n.mac)&&t.push(n)}),t}function D(){try{return P(W(i("/sbin/ifconfig -v",{maxBuffer:2048e4}).toString().split("\n")))}catch(e){return[]}}function $(e){var t=`nmcli device status 2>/dev/null | grep ${e}`;try{var n=i(t).toString().replace(/\s+/g," ").trim().split(" ").slice(3).join(" ");return"--"!=n?n:""}catch(r){return""}}function V(e){var t=[];try{i(`cat ${e} 2> /dev/null | grep 'iface\\|source'`,{maxBuffer:2048e4}).toString().split("\n").forEach(function(e){var n=e.replace(/\s+/g," ").trim().split(" ");if(n.length>=4&&e.toLowerCase().indexOf(" inet ")>=0&&e.toLowerCase().indexOf("dhcp")>=0&&t.push(n[1]),e.toLowerCase().includes("source")){var r=e.split(" ")[1];t=t.concat(V(r))}})}catch(n){c.noop()}return t}function B(){var e=[];try{e=F(W(i("ip a 2> /dev/null",{maxBuffer:2048e4}).toString().split("\n")))}catch(t){c.noop()}try{e=V("/etc/network/interfaces")}catch(t){c.noop()}return e}function F(t){var n=[];return t&&t.length&&t.forEach(function(t){if(t&&t.length&&t[0].split(":").length>2){var r,s=e(t);try{for(s.s();!(r=s.n()).done;){var a=r.value;if(a.indexOf(" inet ")>=0&&a.indexOf(" dynamic ")>=0){var i=a.split(" "),o=i[i.length-1].trim();n.push(o);break}}}catch(c){s.e(c)}finally{s.f()}}}),n}function R(e,t,n){var r=!1;if(!t)return n.indexOf(e)>=0;var s=`nmcli connection show "${t}" 2>/dev/null | grep ipv4.method;`;try{switch(i(s).toString().replace(/\s+/g," ").trim().split(" ").slice(1).toString()){case"auto":r=!0;break;default:r=!1}return r}catch(a){return n.indexOf(e)>=0}}function j(e){var t=!1,n=`ipconfig getpacket "${e}" 2>/dev/null | grep lease_time;`;try{var r=i(n).toString().split("\n");r.length&&r[0].startsWith("lease_time")&&(t=!0)}catch(s){c.noop()}return t}function U(e){if(!e)return"Unknown";var t=`nmcli connection show "${e}" 2>/dev/null | grep ipv4.dns-search;`;try{var n=i(t).toString().replace(/\s+/g," ").trim().split(" ").slice(1).toString();return"--"==n?"Not defined":n}catch(r){return"Unknown"}}function M(e){if(!e)return"Not defined";var t=`nmcli connection show "${e}" 2>/dev/null | grep 802-1x.eap;`;try{var n=i(t).toString().replace(/\s+/g," ").trim().split(" ").slice(1).toString();return"--"==n?"":n}catch(r){return"Not defined"}}function Y(e){return e?"Not defined"==e?"Disabled":"Enabled":"Unknown"}function G(e,t,n){return!!n&&(["00:00:00:00:00:00","00:03:FF","00:05:69","00:0C:29","00:0F:4B","00:0F:4B","00:13:07","00:13:BE","00:15:5d","00:16:3E","00:1C:42","00:21:F6","00:21:F6","00:24:0B","00:24:0B","00:50:56","00:A0:B1","00:E0:C8","08:00:27","0A:00:27","18:92:2C","16:DF:49","3C:F3:92","54:52:00","FC:15:97"].filter(function(e){return n.toUpperCase().toUpperCase().startsWith(e.substr(0,n.length))}).length>0||e.toLowerCase().indexOf(" virtual ")>-1||t.toLowerCase().indexOf(" virtual ")>-1||e.toLowerCase().indexOf("vethernet ")>-1||t.toLowerCase().indexOf("vethernet ")>-1||e.toLowerCase().startsWith("veth")||t.toLowerCase().startsWith("veth")||e.toLowerCase().startsWith("vboxnet")||t.toLowerCase().startsWith("vboxnet"))}function H(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return"boolean"==typeof e&&(t=e,e=null),new Promise(function(n){process.nextTick(function(){var r=s.networkInterfaces(),a=[],o=[],l=[],v=[];if(u||d||h||g)(o=D()).forEach(function(e){({}).hasOwnProperty.call(r,e.iface)&&r[e.iface].forEach(function(t){"IPv4"===t.family&&(e.ip4subnet=t.netmask),"IPv6"===t.family&&(e.ip6subnet=t.netmask)}),a.push({iface:e.iface,ifaceName:e.iface,ip4:e.ip4,ip4subnet:e.ip4subnet||"",ip6:e.ip6,ip6subnet:e.ip6subnet||"",mac:e.mac,internal:e.internal,virtual:!e.internal&&G(e.iface,e.iface,e.mac),operstate:e.operstate,type:e.type,duplex:e.duplex,mtu:e.mtu,speed:e.speed,dhcp:j(e.iface),dnsSuffix:"",ieee8021xAuth:"",ieee8021xState:"",carrierChanges:0})}),w=a,e&&e(a),n(a);else if(JSON.stringify(r)!==JSON.stringify(_)||t){_=Object.assign({},r),f&&((o=N()).forEach(function(e){var t=!1;Object.keys(r).forEach(function(n){t||r[n].forEach(function(n){Object.keys(n).indexOf("mac")>=0&&(t=n.mac===e.mac)})}),t||(r[e.name]=[{mac:e.mac}])}),v=A(),l=b()),p&&(y=B());var m=function(e){var t=e,n="",s="",d="",h="",g="",m="",x="",_=null,w=0,I="down",E=!1,L="",N="",b="",A="";if({}.hasOwnProperty.call(r,e)){var T=e;if(r[e].forEach(function(t){"IPv4"===t.family&&(n=t.address,s=t.netmask),"IPv6"===t.family&&(d&&!d.match(/^fe80::/i)||(d=t.address,h=t.netmask)),g=t.mac;var r=parseInt(process.versions.node.split("."),10);g.indexOf("00:00:0")>-1&&(p||u)&&!t.internal&&r>=8&&r<=11&&(0===Object.keys(S).length&&(S=C()),g=S[e]||"")}),p){var W=e.split(":")[0].trim().toLowerCase(),P=`echo -n "addr_assign_type: "; cat /sys/class/net/${W}/addr_assign_type 2>/dev/null; echo;\n            echo -n "address: "; cat /sys/class/net/${W}/address 2>/dev/null; echo;\n            echo -n "addr_len: "; cat /sys/class/net/${W}/addr_len 2>/dev/null; echo;\n            echo -n "broadcast: "; cat /sys/class/net/${W}/broadcast 2>/dev/null; echo;\n            echo -n "carrier: "; cat /sys/class/net/${W}/carrier 2>/dev/null; echo;\n            echo -n "carrier_changes: "; cat /sys/class/net/${W}/carrier_changes 2>/dev/null; echo;\n            echo -n "dev_id: "; cat /sys/class/net/${W}/dev_id 2>/dev/null; echo;\n            echo -n "dev_port: "; cat /sys/class/net/${W}/dev_port 2>/dev/null; echo;\n            echo -n "dormant: "; cat /sys/class/net/${W}/dormant 2>/dev/null; echo;\n            echo -n "duplex: "; cat /sys/class/net/${W}/duplex 2>/dev/null; echo;\n            echo -n "flags: "; cat /sys/class/net/${W}/flags 2>/dev/null; echo;\n            echo -n "gro_flush_timeout: "; cat /sys/class/net/${W}/gro_flush_timeout 2>/dev/null; echo;\n            echo -n "ifalias: "; cat /sys/class/net/${W}/ifalias 2>/dev/null; echo;\n            echo -n "ifindex: "; cat /sys/class/net/${W}/ifindex 2>/dev/null; echo;\n            echo -n "iflink: "; cat /sys/class/net/${W}/iflink 2>/dev/null; echo;\n            echo -n "link_mode: "; cat /sys/class/net/${W}/link_mode 2>/dev/null; echo;\n            echo -n "mtu: "; cat /sys/class/net/${W}/mtu 2>/dev/null; echo;\n            echo -n "netdev_group: "; cat /sys/class/net/${W}/netdev_group 2>/dev/null; echo;\n            echo -n "operstate: "; cat /sys/class/net/${W}/operstate 2>/dev/null; echo;\n            echo -n "proto_down: "; cat /sys/class/net/${W}/proto_down 2>/dev/null; echo;\n            echo -n "speed: "; cat /sys/class/net/${W}/speed 2>/dev/null; echo;\n            echo -n "tx_queue_len: "; cat /sys/class/net/${W}/tx_queue_len 2>/dev/null; echo;\n            echo -n "type: "; cat /sys/class/net/${W}/type 2>/dev/null; echo;\n            echo -n "wireless: "; cat /proc/net/wireless 2>/dev/null | grep ${W}; echo;\n            echo -n "wirelessspeed: "; iw dev ${W} link 2>&1 | grep bitrate; echo;`,D=[];try{D=i(P).toString().split("\n");var V=$(W);E=R(W,V,y),L=U(V),b=Y(N=M(V))}catch(K){c.noop()}m=(m=c.getValue(D,"duplex")).startsWith("cat")?"":m,x=parseInt(c.getValue(D,"mtu"),10);var B=parseInt(c.getValue(D,"speed"),10);_=isNaN(B)?null:B;var F=c.getValue(D,"wirelessspeed").split("tx bitrate: ");null===_&&2===F.length&&(B=parseFloat(F[1]),_=isNaN(B)?null:B),w=parseInt(c.getValue(D,"carrier_changes"),10),I=c.getValue(D,"operstate"),A="up"===I?c.getValue(D,"wireless").trim()?"wireless":"wired":"unknown",("lo"===W||W.startsWith("bond"))&&(A="virtual")}if(f){L=O(l.ifaces,e),o.forEach(function(e){e.mac===g&&(t=e.iface||t,T=e.name,E=e.dhcp,I=e.operstate,_=e.speed,A=e.type)}),(e.toLowerCase().indexOf("wlan")>=0||T.toLowerCase().indexOf("wlan")>=0||T.toLowerCase().indexOf("802.11n")>=0||T.toLowerCase().indexOf("wireless")>=0||T.toLowerCase().indexOf("wi-fi")>=0||T.toLowerCase().indexOf("wifi")>=0)&&(A="wireless");var j=k(A,e,v);N=j.protocol,b=j.state}var H=!(!r[e]||!r[e][0])&&r[e][0].internal;(e.toLowerCase().indexOf("loopback")>-1||T.toLowerCase().indexOf("loopback")>-1)&&(H=!0);var q=!H&&G(e,T,g);a.push({iface:t,ifaceName:T,ip4:n,ip4subnet:s,ip6:d,ip6subnet:h,mac:g,internal:H,virtual:q,operstate:I,type:A,duplex:m,mtu:x,speed:_,dhcp:E,dnsSuffix:L,ieee8021xAuth:N,ieee8021xState:b,carrierChanges:w})}};for(var x in r)m(x);w=a,e&&e(a),n(a)}else a=w,e&&e(a),n(a)})})}function q(e,t,n,r,s,a,i,o){var c={iface:e,operstate:r,rx_bytes:t,rx_dropped:s,rx_errors:a,tx_bytes:n,tx_dropped:i,tx_errors:o,rx_sec:null,tx_sec:null,ms:0};return m[e]&&m[e].ms?(c.ms=Date.now()-m[e].ms,c.rx_sec=t-m[e].rx_bytes>=0?(t-m[e].rx_bytes)/(c.ms/1e3):0,c.tx_sec=n-m[e].tx_bytes>=0?(n-m[e].tx_bytes)/(c.ms/1e3):0,m[e].rx_bytes=t,m[e].tx_bytes=n,m[e].rx_sec=c.rx_sec,m[e].tx_sec=c.tx_sec,m[e].ms=Date.now(),m[e].last_ms=c.ms,m[e].operstate=r):(m[e]||(m[e]={}),m[e].rx_bytes=t,m[e].tx_bytes=n,m[e].rx_sec=null,m[e].tx_sec=null,m[e].ms=Date.now(),m[e].last_ms=0,m[e].operstate=r),c}function K(t,n){var r=[];return new Promise(function(s){process.nextTick(function(){if(c.isFunction(t)&&!n)n=t,r=[I()];else{if("string"!=typeof t&&void 0!==t)return n&&n([]),s([]);(t=t||I()).__proto__.toLowerCase=c.stringToLower,t.__proto__.replace=c.stringReplace,t.__proto__.trim=c.stringTrim,t=t.trim().toLowerCase().replace(/,+/g,"|"),r=t.split("|")}var a=[],i=[];if(r.length&&"*"===r[0].trim())r=[],H(!1).then(function(t){var a,i=e(t);try{for(i.s();!(a=i.n()).done;){var o=a.value;r.push(o.iface)}}catch(c){i.e(c)}finally{i.f()}K(r.join(",")).then(function(e){n&&n(e),s(e)})});else{var o,l=e(r);try{for(l.s();!(o=l.n()).done;){var p=o.value;i.push(z(p.trim()))}}catch(u){l.e(u)}finally{l.f()}i.length?Promise.all(i).then(function(e){n&&n(e),s(e)}):(n&&n(a),s(a))}})})}function z(e){return new Promise(function(t){process.nextTick(function(){for(var n="",r=c.isPrototypePolluted()?"---":c.sanitizeShellString(e),s=0;s<=c.mathMin(r.length,2e3);s++)void 0!==r[s]&&(n+=r[s]);var i,l,v={iface:n,operstate:"unknown",rx_bytes:0,rx_dropped:0,rx_errors:0,tx_bytes:0,tx_dropped:0,tx_errors:0,rx_sec:null,tx_sec:null,ms:0},x="unknown",_=0,y=0,w=0,S=0,I=0,C=0;if(!m[n]||m[n]&&!m[n].ms||m[n]&&m[n].ms&&Date.now()-m[n].ms>=500){if(p&&(o.existsSync("/sys/class/net/"+n)?a("cat /sys/class/net/"+n+"/operstate; cat /sys/class/net/"+n+"/statistics/rx_bytes; cat /sys/class/net/"+n+"/statistics/tx_bytes; cat /sys/class/net/"+n+"/statistics/rx_dropped; cat /sys/class/net/"+n+"/statistics/rx_errors; cat /sys/class/net/"+n+"/statistics/tx_dropped; cat /sys/class/net/"+n+"/statistics/tx_errors; ",function(e,r){e||(i=r.toString().split("\n"),x=i[0].trim(),_=parseInt(i[1],10),y=parseInt(i[2],10),w=parseInt(i[3],10),S=parseInt(i[4],10),I=parseInt(i[5],10),C=parseInt(i[6],10),v=q(n,_,y,x,w,S,I,C)),t(v)}):t(v)),(d||h||g)&&a("netstat -ibndI "+n,function(e,r){if(!e){i=r.toString().split("\n");for(var s=1;s<i.length;s++){var a=i[s].replace(/ +/g," ").split(" ");a&&a[0]&&a[7]&&a[10]&&(_+=parseInt(a[7]),"-"!==a[6].trim()&&(w+=parseInt(a[6])),"-"!==a[5].trim()&&(S+=parseInt(a[5])),y+=parseInt(a[10]),"-"!==a[12].trim()&&(I+=parseInt(a[12])),"-"!==a[9].trim()&&(C+=parseInt(a[9])),x="up")}v=q(n,_,y,x,w,S,I,C)}t(v)}),u&&a("ifconfig "+n+' | grep "status"',function(e,r){v.operstate=(r.toString().split(":")[1]||"").trim(),v.operstate=(v.operstate||"").toLowerCase(),v.operstate="active"===v.operstate?"up":"inactive"===v.operstate?"down":"unknown",a("netstat -bdI "+n,function(e,r){if(!e&&(i=r.toString().split("\n")).length>1&&""!==i[1].trim()){var s=(l=i[1].replace(/ +/g," ").split(" ")).length>11?1:0;_=parseInt(l[s+5]),w=parseInt(l[s+10]),S=parseInt(l[s+4]),y=parseInt(l[s+8]),I=parseInt(l[s+10]),C=parseInt(l[s+7]),v=q(n,_,y,v.operstate,w,S,I,C)}t(v)})}),f){var E=[],L=n;c.wmic("path Win32_PerfRawData_Tcpip_NetworkInterface Get name,BytesReceivedPersec,BytesSentPersec,BytesTotalPersec,PacketsOutboundDiscarded,PacketsOutboundErrors,PacketsReceivedDiscarded,PacketsReceivedErrors /value").then(function(e,r){if(!r){var s=e.toString().split(/\n\s*\n/);E=function(e){var t=[];for(var n in e)if({}.hasOwnProperty.call(e,n)&&""!==e[n].trim()){var r=e[n].trim().split("\r\n");t.push({name:c.getValue(r,"Name","=").replace(/[()[\] ]+/g,"").replace("#","_").toLowerCase(),rx_bytes:parseInt(c.getValue(r,"BytesReceivedPersec","="),10),rx_errors:parseInt(c.getValue(r,"PacketsReceivedErrors","="),10),rx_dropped:parseInt(c.getValue(r,"PacketsReceivedDiscarded","="),10),tx_bytes:parseInt(c.getValue(r,"BytesSentPersec","="),10),tx_errors:parseInt(c.getValue(r,"PacketsOutboundErrors","="),10),tx_dropped:parseInt(c.getValue(r,"PacketsOutboundDiscarded","="),10)})}return t}(s)}H(!1).then(function(e){_=0,y=0,E.forEach(function(t){e.forEach(function(e){e.iface.toLowerCase()!==n.toLowerCase()&&e.mac.toLowerCase()!==n.toLowerCase()&&e.ip4.toLowerCase()!==n.toLowerCase()&&e.ip6.toLowerCase()!==n.toLowerCase()&&e.ifaceName.replace(/[()[\] ]+/g,"").replace("#","_").toLowerCase()!==n.replace(/[()[\] ]+/g,"").replace("#","_").toLowerCase()||e.ifaceName.replace(/[()[\] ]+/g,"").replace("#","_").toLowerCase()!==t.name||(L=e.iface,_=t.rx_bytes,w=t.rx_dropped,S=t.rx_errors,y=t.tx_bytes,I=t.tx_dropped,C=t.tx_errors,x=e.operstate)})}),_&&y&&(v=q(L,parseInt(_),parseInt(y),x,w,S,I,C)),t(v)})})}}else v.rx_bytes=m[n].rx_bytes,v.tx_bytes=m[n].tx_bytes,v.rx_sec=m[n].rx_sec,v.tx_sec=m[n].tx_sec,v.ms=m[n].last_ms,v.operstate=m[n].operstate,t(v)})})}function J(e){return new Promise(function(t){process.nextTick(function(){var n=[];if(p||d||h||g){var r='export LC_ALL=C; netstat -tunap | grep "ESTABLISHED\\|SYN_SENT\\|SYN_RECV\\|FIN_WAIT1\\|FIN_WAIT2\\|TIME_WAIT\\|CLOSE\\|CLOSE_WAIT\\|LAST_ACK\\|LISTEN\\|CLOSING\\|UNKNOWN"; unset LC_ALL';(d||h||g)&&(r='export LC_ALL=C; netstat -na | grep "ESTABLISHED\\|SYN_SENT\\|SYN_RECV\\|FIN_WAIT1\\|FIN_WAIT2\\|TIME_WAIT\\|CLOSE\\|CLOSE_WAIT\\|LAST_ACK\\|LISTEN\\|CLOSING\\|UNKNOWN"; unset LC_ALL'),a(r,{maxBuffer:2048e4},function(s,i){var o=i.toString().split("\n");!s&&(o.length>1||""!=o[0])?(o.forEach(function(e){if((e=e.replace(/ +/g," ").split(" ")).length>=7){var t=e[3],r="",s=e[3].split(":");s.length>1&&(r=s[s.length-1],s.pop(),t=s.join(":"));var a=e[4],i="",o=e[4].split(":");o.length>1&&(i=o[o.length-1],o.pop(),a=o.join(":"));var c=e[5],l=e[6].split("/");c&&n.push({protocol:e[0],localAddress:t,localPort:r,peerAddress:a,peerPort:i,state:c,pid:l[0]&&"-"!==l[0]?parseInt(l[0],10):null,process:l[1]?l[1].split(" ")[0]:""})}}),e&&e(n),t(n)):a(r='ss -tunap | grep "ESTAB\\|SYN-SENT\\|SYN-RECV\\|FIN-WAIT1\\|FIN-WAIT2\\|TIME-WAIT\\|CLOSE\\|CLOSE-WAIT\\|LAST-ACK\\|LISTEN\\|CLOSING"',{maxBuffer:2048e4},function(r,s){r||s.toString().split("\n").forEach(function(e){if((e=e.replace(/ +/g," ").split(" ")).length>=6){var t=e[4],r="",s=e[4].split(":");s.length>1&&(r=s[s.length-1],s.pop(),t=s.join(":"));var a=e[5],i="",o=e[5].split(":");o.length>1&&(i=o[o.length-1],o.pop(),a=o.join(":"));var c=e[1];"ESTAB"===c&&(c="ESTABLISHED"),"TIME-WAIT"===c&&(c="TIME_WAIT");var l=null,p="";if(e.length>=7&&e[6].indexOf("users:")>-1){var u=e[6].replace('users:(("',"").replace(/"/g,"").split(",");u.length>2&&(p=u[0].split(" ")[0],l=parseInt(u[1],10))}c&&n.push({protocol:e[0],localAddress:t,localPort:r,peerAddress:a,peerPort:i,state:c,pid:l,process:p})}});e&&e(n),t(n)})})}if(u){a('netstat -natv | grep "ESTABLISHED\\|SYN_SENT\\|SYN_RECV\\|FIN_WAIT1\\|FIN_WAIT2\\|TIME_WAIT\\|CLOSE\\|CLOSE_WAIT\\|LAST_ACK\\|LISTEN\\|CLOSING\\|UNKNOWN"',{maxBuffer:2048e4},function(r,s){r||(s.toString().split("\n").forEach(function(e){if((e=e.replace(/ +/g," ").split(" ")).length>=8){var t=e[3],r="",s=e[3].split(".");s.length>1&&(r=s[s.length-1],s.pop(),t=s.join("."));var a=e[4],i="",o=e[4].split(".");o.length>1&&(i=o[o.length-1],o.pop(),a=o.join("."));var c=e[5],l=parseInt(e[8],10);c&&n.push({protocol:e[0],localAddress:t,localPort:r,peerAddress:a,peerPort:i,state:c,pid:l,process:""})}}),e&&e(n),t(n))})}if(f){try{a("netstat -nao",c.execOptsWin,function(r,s){r||(s.toString().split("\r\n").forEach(function(e){if((e=e.trim().replace(/ +/g," ").split(" ")).length>=4){var t=e[1],r="",s=e[1].split(":");s.length>1&&(r=s[s.length-1],s.pop(),t=s.join(":"));var a=e[2],i="",o=e[2].split(":");o.length>1&&(i=o[o.length-1],o.pop(),a=o.join(":"));var c=e[4],l=e[3];"HERGESTELLT"===l&&(l="ESTABLISHED"),l.startsWith("ABH")&&(l="LISTEN"),"SCHLIESSEN_WARTEN"===l&&(l="CLOSE_WAIT"),"WARTEND"===l&&(l="TIME_WAIT"),"SYN_GESENDET"===l&&(l="SYN_SENT"),"LISTENING"===l&&(l="LISTEN"),"SYN_RECEIVED"===l&&(l="SYN_RECV"),"FIN_WAIT_1"===l&&(l="FIN_WAIT1"),"FIN_WAIT_2"===l&&(l="FIN_WAIT2"),l&&n.push({protocol:e[0].toLowerCase(),localAddress:t,localPort:r,peerAddress:a,peerPort:i,state:l,pid:c,process:""})}}),e&&e(n),t(n))})}catch(s){e&&e(n),t(n)}}})})}function Z(e){return new Promise(function(t){process.nextTick(function(){var n="";if(p||d||h||g){try{a("ip route get 1",{maxBuffer:2048e4},function(r,s){if(r)e&&e(n),t(n);else{var a=s.toString().split("\n"),i=(a&&a[0]?a[0]:"").split(" via ");i&&i[1]&&(i=i[1].split(" "),n=i[0]),e&&e(n),t(n)}})}catch(r){e&&e(n),t(n)}}if(u){try{a("route -n get default",{maxBuffer:2048e4},function(r,s){if(r)e&&e(n),t(n);else{var a=s.toString().split("\n").map(function(e){return e.trim()});n=c.getValue(a,"gateway"),e&&e(n),t(n)}})}catch(r){e&&e(n),t(n)}}if(f)try{a("netstat -r",c.execOptsWin,function(r,a){a.toString().split(s.EOL).forEach(function(e){if((e=e.replace(/\s+/g," ").trim()).indexOf("0.0.0.0 0.0.0.0")>-1&&!/[a-zA-Z]/.test(e)){var t=e.split(" ");t.length>=5&&t[t.length-3].indexOf(".")>-1&&(n=t[t.length-3])}}),n?(e&&e(n),t(n)):c.powerShell("Get-CimInstance -ClassName Win32_IP4RouteTable | Where-Object { $_.Destination -eq '0.0.0.0' -and $_.Mask -eq '0.0.0.0' }").then(function(r){var s=r.toString().split("\r\n");s.length>1&&!n&&(n=c.getValue(s,"NextHop"),e&&e(n),t(n))})})}catch(r){e&&e(n),t(n)}})})}exports.getDefaultNetworkInterface=I,exports.networkInterfaceDefault=E,exports.networkInterfaces=H,exports.networkStats=K,exports.networkConnections=J,exports.networkGatewayDefault=Z;
},{"./util":"YOqM"}],"DPee":[function(require,module,exports) {
"use strict";var e=require("os"),t=require("child_process").exec,i=require("child_process").execSync,n=require("./util"),r=process.platform,s="linux"===r,l="darwin"===r,a="win32"===r;function u(e){return parseFloat(e)/2-100}function o(e){var t=2*(parseFloat(e)+100);return t<=100?t:100}var c={1:2412,2:2417,3:2422,4:2427,5:2432,6:2437,7:2442,8:2447,9:2452,10:2457,11:2462,12:2467,13:2472,14:2484,32:5160,34:5170,36:5180,38:5190,40:5200,42:5210,44:5220,46:5230,48:5240,50:5250,52:5260,54:5270,56:5280,58:5290,60:5300,62:5310,64:5320,68:5340,96:5480,100:5500,102:5510,104:5520,106:5530,108:5540,110:5550,112:5560,114:5570,116:5580,118:5590,120:5600,122:5610,124:5620,126:5630,128:5640,132:5660,134:5670,136:5680,138:5690,140:5700,142:5710,144:5720,149:5745,151:5755,153:5765,155:5775,157:5785,159:5795,161:5805,165:5825,169:5845,173:5865,183:4915,184:4920,185:4925,187:4935,188:4940,189:4945,192:4960,196:4980};function f(e){return{}.hasOwnProperty.call(c,e)?c[e]:null}function p(e){var t=0;for(var i in c)({}).hasOwnProperty.call(c,i)&&c[i]===e&&(t=n.toInt(i));return t}function d(){var e=[];try{var t=i("iw dev").toString().split("\n").map(function(e){return e.trim()}).join("\n").split("\nInterface ");return t.shift(),t.forEach(function(t){var i=t.split("\n"),r=i[0],s=n.toInt(n.getValue(i,"ifindex"," ")),l=n.getValue(i,"addr"," "),a=n.toInt(n.getValue(i,"channel"," "));e.push({id:s,iface:r,mac:l,channel:a})}),e}catch(r){return[]}}function g(e){var t=`nmcli -t -f general,wifi-properties,capabilities,ip4,ip6 device show ${e} 2>/dev/null`;try{var r=i(t).toString().split("\n"),s=n.getValue(r,"GENERAL.CONNECTION");return{iface:e,type:n.getValue(r,"GENERAL.TYPE"),vendor:n.getValue(r,"GENERAL.VENDOR"),product:n.getValue(r,"GENERAL.PRODUCT"),mac:n.getValue(r,"GENERAL.HWADDR").toLowerCase(),ssid:"--"!==s?s:null}}catch(l){return{}}}function h(e){var t=`nmcli -t --show-secrets connection show ${e} 2>/dev/null`;try{var r=i(t).toString().split("\n"),s=n.getValue(r,"802-11-wireless.seen-bssids").toLowerCase();return{ssid:"--"!==e?e:null,uuid:n.getValue(r,"connection.uuid"),type:n.getValue(r,"connection.type"),autoconnect:"yes"===n.getValue(r,"connection.autoconnect"),security:n.getValue(r,"802-11-wireless-security.key-mgmt"),bssid:"--"!==s?s:null}}catch(l){return{}}}function m(e){var t=`wpa_cli -i ${e} status 2>&1`;try{var r=i(t).toString().split("\n"),s=n.toInt(n.getValue(r,"freq","="));return{ssid:n.getValue(r,"ssid","="),uuid:n.getValue(r,"uuid","="),security:n.getValue(r,"key_mgmt","="),freq:s,channel:p(s),bssid:n.getValue(r,"bssid","=").toLowerCase()}}catch(l){return{}}}function v(){var t=[];try{var r=i("nmcli -t -m multiline --fields active,ssid,bssid,mode,chan,freq,signal,security,wpa-flags,rsn-flags device wifi list 2>/dev/null",{maxBuffer:2048e4}).toString().split("ACTIVE:");return r.shift(),r.forEach(function(i){var r=(i="ACTIVE:"+i).split(e.EOL),s=n.getValue(r,"CHAN"),l=n.getValue(r,"FREQ").toLowerCase().replace("mhz","").trim(),a=n.getValue(r,"SECURITY").replace("(","").replace(")",""),o=n.getValue(r,"WPA-FLAGS").replace("(","").replace(")",""),c=n.getValue(r,"RSN-FLAGS").replace("(","").replace(")","");t.push({ssid:n.getValue(r,"SSID"),bssid:n.getValue(r,"BSSID").toLowerCase(),mode:n.getValue(r,"MODE"),channel:s?parseInt(s,10):null,frequency:l?parseInt(l,10):null,signalLevel:u(n.getValue(r,"SIGNAL")),quality:parseFloat(n.getValue(r,"SIGNAL")),security:a&&"none"!==a?a.split(" "):[],wpaFlags:o&&"none"!==o?o.split(" "):[],rsnFlags:c&&"none"!==c?c.split(" "):[]})}),t}catch(s){return[]}}function y(e){var t=[];try{var r=i(`export LC_ALL=C; iwlist ${e} scan 2>&1; unset LC_ALL`).toString().split("        Cell ");if(r[0].indexOf("resource busy")>=0)return-1;if(r.length>1){r.shift();for(var s=function(e){var i=r[e].split("\n"),s=n.getValue(i,"channel",":",!0),l=i&&i.length&&i[0].indexOf("Address:")>=0?i[0].split("Address:")[1].trim().toLowerCase():"",a=n.getValue(i,"mode",":",!0),u=n.getValue(i,"frequency",":",!0),c=n.getValue(i,"Quality","=",!0).toLowerCase().split("signal level="),f=c.length>1?n.toInt(c[1]):0,p=f?o(f):0,d=n.getValue(i,"essid",":",!0),g=r[e].indexOf(" WPA ")>=0,h=r[e].indexOf("WPA2 ")>=0,m=[];g&&m.push("WPA"),h&&m.push("WPA2");var v=[],y="";i.forEach(function(e){var t=e.trim().toLowerCase();if(t.indexOf("group cipher")>=0){y&&v.push(y);var i=t.split(":");i.length>1&&(y=i[1].trim().toUpperCase())}if(t.indexOf("pairwise cipher")>=0){var n=t.split(":");n.length>1&&(n[1].indexOf("tkip")?y=y?"TKIP/"+y:"TKIP":n[1].indexOf("ccmp")?y=y?"CCMP/"+y:"CCMP":n[1].indexOf("proprietary")&&(y=y?"PROP/"+y:"PROP"))}if(t.indexOf("authentication suites")>=0){var r=t.split(":");r.length>1&&(r[1].indexOf("802.1x")?y=y?"802.1x/"+y:"802.1x":r[1].indexOf("psk")&&(y=y?"PSK/"+y:"PSK"))}}),y&&v.push(y),t.push({ssid:d,bssid:l,mode:a,channel:s?n.toInt(s):null,frequency:u?n.toInt(u.replace(".","")):null,signalLevel:f,quality:p,security:m,wpaFlags:v,rsnFlags:[]})},l=0;l<r.length;l++)s(l)}return t}catch(a){return-1}}function V(r){return new Promise(function(c){process.nextTick(function(){var p=[];if(s)if(0===(p=v()).length)try{for(var d=i("export LC_ALL=C; iwconfig 2>/dev/null; unset LC_ALL").toString().split("\n\n"),g="",h=0;h<d.length;h++)-1===d[h].indexOf("no wireless")&&""!==d[h].trim()&&(g=d[h].split(" ")[0]);if(g){var m=y(g);-1===m?setTimeout(function(e){var t=y(e);-1!=t&&(p=t),r&&r(p),c(p)},4e3):(p=m,r&&r(p),c(p))}else r&&r(p),c(p)}catch(V){r&&r(p),c(p)}else r&&r(p),c(p);else if(l){t("/System/Library/PrivateFrameworks/Apple80211.framework/Versions/Current/Resources/airport -s",{maxBuffer:2048e4},function(t,i){var s=i.toString().split(e.EOL);if(s&&s.length>1){var l=n.parseHead(s[0],1);l.length>=7&&(s.shift(),s.forEach(function(e){if(e.trim()){var t=e.substring(l[3].from,l[3].to).trim(),i=t?parseInt(t,10):null,n=e.substring(l[2].from,l[2].to).trim(),r=e.substring(l[6].from,1e3).trim().split(" "),s=[],a=[];r.forEach(function(e){if(e.indexOf("(")>0){var t=e.split("(");s.push(t[0]),a=a.concat(t[1].replace(")","").split(","))}}),a=Array.from(new Set(a)),p.push({ssid:e.substring(l[0].from,l[0].to).trim(),bssid:e.substring(l[1].from,l[1].to).trim().toLowerCase(),mode:"",channel:i,frequency:f(i),signalLevel:n?parseInt(n,10):null,quality:o(n),security:s,wpaFlags:a,rsnFlags:[]})}}))}r&&r(p),c(p)})}else if(a){t("chcp 65001 && netsh wlan show networks mode=Bssid",n.execOptsWin,function(t,i){var n=i.toString("utf8").split(e.EOL+e.EOL+"SSID ");n.shift(),n.forEach(function(t){var i=t.split(e.EOL);if(i&&i.length>=8&&i[0].indexOf(":")>=0){var n=i[4].split(":");n.shift(),n=n.join(":").trim().toLowerCase();var r=i[7].split(":").pop().trim(),s=i[5].split(":").pop().trim();p.push({ssid:i[0].split(":").pop().trim(),bssid:n,mode:"",channel:r?parseInt(r,10):null,frequency:f(r),signalLevel:u(s),quality:s?parseInt(s,10):null,security:[i[2].split(":").pop().trim()],wpaFlags:[i[3].split(":").pop().trim()],rsnFlags:[]})}}),r&&r(p),c(p)})}else r&&r(p),c(p)})})}function x(e){var t="";return(e=e.toLowerCase()).indexOf("intel")>=0?t="Intel":e.indexOf("realtek")>=0?t="Realtek":e.indexOf("qualcom")>=0?t="Qualcom":e.indexOf("broadcom")>=0?t="Broadcom":e.indexOf("cavium")>=0?t="Cavium":e.indexOf("cisco")>=0?t="Cisco":e.indexOf("marvel")>=0?t="Marvel":e.indexOf("zyxel")>=0?t="Zyxel":e.indexOf("melanox")>=0?t="Melanox":e.indexOf("d-link")>=0?t="D-Link":e.indexOf("tp-link")>=0?t="TP-Link":e.indexOf("asus")>=0?t="Asus":e.indexOf("linksys")>=0&&(t="Linksys"),t}function w(e){return new Promise(function(i){process.nextTick(function(){var r=[];if(s){var u=d(),o=v();u.forEach(function(e){var t=g(e.iface),i=m(e.iface),n=t.ssid||i.ssid,s=o.filter(function(e){return e.ssid===n}),l=h(n),a=s&&s.length&&s[0].channel?s[0].channel:i.channel?i.channel:null,u=s&&s.length&&s[0].bssid?s[0].bssid:i.bssid?i.bssid:null;n&&u&&r.push({id:e.id,iface:e.iface,model:t.product,ssid:n,bssid:s&&s.length&&s[0].bssid?s[0].bssid:i.bssid?i.bssid:null,channel:a,frequency:a?f(a):null,type:l.type?l.type:"802.11",security:l.security?l.security:i.security?i.security:null,signalLevel:s&&s.length&&s[0].signalLevel?s[0].signalLevel:null,txRate:null})}),e&&e(r),i(r)}else if(l){var c="system_profiler SPNetworkDataType";t(c,function(s,l){var a=l.toString().split("\n\n    Wi-Fi:\n\n");if(a.length>1){var u=a[1].split("\n\n")[0].split("\n"),o=n.getValue(u,"BSD Device Name",":",!0),p=n.getValue(u,"hardware",":",!0);t(c="/System/Library/PrivateFrameworks/Apple80211.framework/Versions/Current/Resources/airport -I",function(t,s){var l=s.toString().split("\n");if(u.length>10){var a=n.getValue(l,"ssid",":",!0),c=n.getValue(l,"bssid",":",!0),d=n.getValue(l,"link auth",":",!0),g=n.getValue(l,"lastTxRate",":",!0),h=n.getValue(l,"channel",":",!0).split(",")[0],m=n.toInt(n.getValue(l,"agrCtlRSSI",":",!0))-n.toInt(n.getValue(l,"agrCtlNoise",":",!0));a&&c&&r.push({id:"Wi-Fi",iface:o,model:p,ssid:a,bssid:c,channel:n.toInt(h),frequency:h?f(h):null,type:"802.11",security:d,signalLevel:m,txRate:g})}e&&e(r),i(r)})}})}else if(a){t("netsh wlan show interfaces",n.execOptsWin,function(t,s){var l=s.toString().split(":\r\n\r\n");l.shift(),l.forEach(function(e){var t=e.split("\r\n");if(t.length>=5){var i=t[0].indexOf(":")>=0?t[0].split(":")[1].trim():"",s=t[1].indexOf(":")>=0?t[1].split(":")[1].trim():"",l=t[2].indexOf(":")>=0?t[2].split(":")[1].trim():"",a=n.getValue(t,"SSID",":",!0),u=n.getValue(t,"BSSID",":",!0),o=n.getValue(t,"Signal",":",!0),c=n.getValue(t,"Radio type",":",!0)||n.getValue(t,"Type de radio",":",!0)||n.getValue(t,"Funktyp",":",!0)||null,p=n.getValue(t,"authentication",":",!0)||n.getValue(t,"Authentification",":",!0)||n.getValue(t,"Authentifizierung",":",!0)||null,d=n.getValue(t,"Channel",":",!0)||n.getValue(t,"Canal",":",!0)||n.getValue(t,"Kanal",":",!0)||null,g=n.getValue(t,"Transmit rate (mbps)",":",!0)||n.getValue(t,"Transmission (mbit/s)",":",!0)||n.getValue(t,"Empfangsrate (MBit/s)",":",!0)||null;s&&l&&a&&u&&r.push({id:l,iface:i,model:s,ssid:a,bssid:u,channel:n.toInt(d),frequency:d?f(d):null,type:c,security:p,signalLevel:o,txRate:n.toInt(g)||null})}}),e&&e(r),i(r)})}else e&&e(r),i(r)})})}function O(e){return new Promise(function(i){process.nextTick(function(){var r=[];if(s)d().forEach(function(e){var t=g(e.iface);r.push({id:e.id,iface:e.iface,model:t.product?t.product:null,vendor:t.vendor?t.vendor:null,mac:e.mac})}),e&&e(r),i(r);else if(l){t("system_profiler SPNetworkDataType",function(t,s){var l=s.toString().split("\n\n    Wi-Fi:\n\n");if(l.length>1){var a=l[1].split("\n\n")[0].split("\n"),u=n.getValue(a,"BSD Device Name",":",!0),o=n.getValue(a,"MAC Address",":",!0),c=n.getValue(a,"hardware",":",!0);r.push({id:"Wi-Fi",iface:u,model:c,vendor:"",mac:o})}e&&e(r),i(r)})}else if(a){t("netsh wlan show interfaces",n.execOptsWin,function(t,n){var s=n.toString().split(":\r\n\r\n");s.shift(),s.forEach(function(e){var t=e.split("\r\n");if(t.length>=5){var i=t[0].indexOf(":")>=0?t[0].split(":")[1].trim():"",n=t[1].indexOf(":")>=0?t[1].split(":")[1].trim():"",s=t[2].indexOf(":")>=0?t[2].split(":")[1].trim():"",l=t[3].indexOf(":")>=0?t[3].split(":"):[];l.shift();var a=l.join(":").trim(),u=x(n);i&&n&&s&&a&&r.push({id:s,iface:i,model:n,vendor:u,mac:a})}}),e&&e(r),i(r)})}else e&&e(r),i(r)})})}exports.wifiNetworks=V,exports.wifiConnections=w,exports.wifiInterfaces=O;
},{"./util":"YOqM"}],"dhpP":[function(require,module,exports) {
"use strict";function t(t,r){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=e(t))||r&&t&&"number"==typeof t.length){n&&(t=n);var i=0,s=function(){};return{s:s,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var u,a=!0,p=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){p=!0,u=t},f:function(){try{a||null==n.return||n.return()}finally{if(p)throw u}}}}function e(t,e){if(t){if("string"==typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}}function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var n=require("os"),i=require("fs"),s=require("path"),u=require("child_process").exec,a=require("child_process").execSync,p=require("./util"),o=process.platform,c="linux"===o,l="darwin"===o,m="win32"===o,f="freebsd"===o,g="openbsd"===o,d="netbsd"===o,h="sunos"===o,v={all:0,list:{},ms:0,result:{}},b={all:0,list:{},ms:0,result:{}},x={all:0,list:{},ms:0,result:{}},I={0:"unknown",1:"other",2:"ready",3:"running",4:"blocked",5:"suspended blocked",6:"suspended ready",7:"terminated",8:"stopped",9:"growing"};function w(t){return(t=t||"")?t.substr(0,4)+"-"+t.substr(4,2)+"-"+t.substr(6,2)+" "+t.substr(8,2)+":"+t.substr(10,2)+":"+t.substr(12,2):""}function y(t){var e=t,r=t.replace(/ +/g," ").split(" ");return 5===r.length&&(e=r[4]+"-"+("0"+("JANFEBMARAPRMAYJUNJULAUGSEPOCTNOVDEC".indexOf(r[1].toUpperCase())/3+1)).slice(-2)+"-"+("0"+r[2]).slice(-2)+" "+r[3]),e}function S(e,r){return p.isFunction(e)&&!r&&(r=e,e=""),new Promise(function(n){process.nextTick(function(){if("string"!=typeof e)return r&&r([]),n([]);if(e){var i="";i.__proto__.toLowerCase=p.stringToLower,i.__proto__.replace=p.stringReplace,i.__proto__.trim=p.stringTrim;for(var s=p.sanitizeShellString(e),o=0;o<=p.mathMin(s.length,2e3);o++)void 0!==s[o]&&(i+=s[o]);""===(i=i.trim().toLowerCase().replace(/, /g,"|").replace(/,+/g,"|"))&&(i="*"),p.isPrototypePolluted()&&"*"!==i&&(i="------");var h=i.split("|"),v=[],x=[];if(c||f||g||d||l){if((c||f||g||d)&&"*"===i)try{i="";var I,w=t(a("service --status-all 2> /dev/null").toString().split("\n"));try{for(w.s();!(I=w.n()).done;){var y=I.value.split("]");2===y.length&&(i+=(""!==i?"|":"")+y[1].trim())}}catch(k){w.e(k)}finally{w.f()}h=i.split("|")}catch(P){try{var S=a("ls /etc/init.d/ -m 2> /dev/null").toString().split("\n").join("");if(i="",S){var O,_=t(S.split(","));try{for(_.s();!(O=_.n()).done;){var V=O.value.trim();V&&(i+=(""!==i?"|":"")+V)}}catch(k){_.e(k)}finally{_.f()}h=i.split("|")}}catch(A){i="",h=[]}}l&&"*"===i&&(r&&r(v),n(v));var E=l?["-caxo","pcpu,pmem,pid,command"]:["-axo","pcpu,pmem,pid,command"];""!==i&&h.length>0?p.execSafe("ps",E).then(function(e){if(e){var i=e.replace(/ +/g," ").replace(/,+/g,".").split("\n");if(h.forEach(function(e){var r,n,s=[],u=t(r=l?i.filter(function(t){return-1!==t.toLowerCase().indexOf(e)}):i.filter(function(t){return-1!==t.toLowerCase().indexOf(" "+e+":")||-1!==t.toLowerCase().indexOf("/"+e)}));try{for(u.s();!(n=u.n()).done;){var a=n.value.trim().split(" ")[2];a&&s.push(parseInt(a,10))}}catch(k){u.e(k)}finally{u.f()}v.push({name:e,running:r.length>0,startmode:"",pids:s,cpu:parseFloat(r.reduce(function(t,e){return t+parseFloat(e.trim().split(" ")[0])},0).toFixed(2)),mem:parseFloat(r.reduce(function(t,e){return t+parseFloat(e.trim().split(" ")[1])},0).toFixed(2))})}),c){var s='cat /proc/stat | grep "cpu "';for(var a in v)for(var o in v[a].pids)s+=";cat /proc/"+v[a].pids[o]+"/stat";u(s,{maxBuffer:2048e4},function(t,e){for(var i=e.toString().split("\n"),s=L(i.shift()),u={},a={},p=0;p<i.length;p++)if((a=C(i[p],s,b)).pid){var o=-1;for(var c in v)for(var l in v[c].pids)parseInt(v[c].pids[l])===parseInt(a.pid)&&(o=c);o>=0&&(v[o].cpu+=a.cpuu+a.cpus),u[a.pid]={cpuu:a.cpuu,cpus:a.cpus,utime:a.utime,stime:a.stime,cutime:a.cutime,cstime:a.cstime}}b.all=s,b.list=Object.assign({},u),b.ms=Date.now()-b.ms,b.result=Object.assign({},v),r&&r(v),n(v)})}else r&&r(v),n(v)}else E=["-o","comm"],p.execSafe("ps",E).then(function(t){if(t){var e=t.replace(/ +/g," ").replace(/,+/g,".").split("\n");h.forEach(function(t){var r=e.filter(function(e){return-1!==e.indexOf(t)});v.push({name:t,running:r.length>0,startmode:"",cpu:0,mem:0})}),r&&r(v),n(v)}else h.forEach(function(t){v.push({name:t,running:!1,startmode:"",cpu:0,mem:0})}),r&&r(v),n(v)})}):(r&&r(v),n(v))}if(m)try{p.wmic("service get /value").then(function(t,e){if(e)h.forEach(function(t){v.push({name:t,running:!1,startmode:"",cpu:0,mem:0})}),r&&r(v),n(v);else{for(var s=t.split(/\n\s*\n/),u=0;u<s.length;u++)if(""!==s[u].trim()){var a=s[u].trim().split("\r\n"),o=p.getValue(a,"Name","=",!0).toLowerCase(),c=p.getValue(a,"Caption","=",!0).toLowerCase(),l=p.getValue(a,"Started","=",!0),m=p.getValue(a,"StartMode","=",!0),f=p.getValue(a,"ProcessId","=",!0);("*"===i||h.indexOf(o)>=0||h.indexOf(c)>=0)&&(v.push({name:o,running:"TRUE"===l,startmode:m,pids:[f],cpu:0,mem:0}),x.push(o),x.push(c))}if("*"!==i)h.filter(function(t){return-1===x.indexOf(t)}).forEach(function(t){v.push({name:t,running:!1,startmode:"",pids:[],cpu:0,mem:0})});r&&r(v),n(v)}})}catch(P){r&&r(v),n(v)}}else r&&r([]),n([])})})}function L(t){var e=t.replace(/ +/g," ").split(" ");return(e.length>=2?parseInt(e[1]):0)+(e.length>=3?parseInt(e[2]):0)+(e.length>=4?parseInt(e[3]):0)+(e.length>=5?parseInt(e[4]):0)+(e.length>=6?parseInt(e[5]):0)+(e.length>=7?parseInt(e[6]):0)+(e.length>=8?parseInt(e[7]):0)+(e.length>=9?parseInt(e[8]):0)+(e.length>=10?parseInt(e[9]):0)+(e.length>=11?parseInt(e[10]):0)}function C(t,e,r){var n=t.replace(/ +/g," ").split(")");if(n.length>=2){var i=n[1].split(" ");if(i.length>=16){var s=parseInt(n[0].split(" ")[0]),u=parseInt(i[12]),a=parseInt(i[13]),p=parseInt(i[14]),o=parseInt(i[15]),c=0,l=0;return r.all>0&&r.list[s]?(c=(u+p-r.list[s].utime-r.list[s].cutime)/(e-r.all)*100,l=(a+o-r.list[s].stime-r.list[s].cstime)/(e-r.all)*100):(c=(u+p)/e*100,l=(a+o)/e*100),{pid:s,utime:u,stime:a,cutime:p,cstime:o,cpuu:c,cpus:l}}return{pid:0,utime:0,stime:0,cutime:0,cstime:0,cpuu:0,cpus:0}}return{pid:0,utime:0,stime:0,cutime:0,cstime:0,cpuu:0,cpus:0}}function O(t,e,r){var n=0,i=0;return r.all>0&&r.list[t.pid]?(n=(t.utime-r.list[t.pid].utime)/(e-r.all)*100,i=(t.stime-r.list[t.pid].stime)/(e-r.all)*100):(n=t.utime/e*100,i=t.stime/e*100),{pid:t.pid,utime:t.utime,stime:t.stime,cpuu:n,cpus:i}}function _(t){var e=[];function r(t){var e=(t=t||"").split(" ")[0];if(":"===e.substr(-1)&&(e=e.substr(0,e.length-1)),"["!==e.substr(0,1)){var r=e.split("/");e=isNaN(parseInt(r[r.length-1]))?r[r.length-1]:r[0]}return e}function a(t){var n=[];if(t.length>1){var u=t[0];e=p.parseHead(u,8),t.shift(),t.forEach(function(t){""!==t.trim()&&n.push(function(t){var n=0,u=0;function a(r){n=u,u=e[r]?t.substring(e[r].to+n,1e4).indexOf(" "):1e4}a(0);var p=parseInt(t.substring(e[0].from+n,e[0].to+u));a(1);var o=parseInt(t.substring(e[1].from+n,e[1].to+u));a(2);var l=parseFloat(t.substring(e[2].from+n,e[2].to+u).replace(/,/g,"."));a(3);var m=parseFloat(t.substring(e[3].from+n,e[3].to+u).replace(/,/g,"."));a(4);var f=parseInt(t.substring(e[4].from+n,e[4].to+u));a(5);var g=parseInt(t.substring(e[5].from+n,e[5].to+u));a(6);var d=parseInt(t.substring(e[6].from+n,e[6].to+u));a(7);var h=parseInt(t.substring(e[7].from+n,e[7].to+u))||0;a(8);var v=y(t.substring(e[8].from+n,e[8].to+u).trim());a(9);var b=t.substring(e[9].from+n,e[9].to+u).trim();b="R"===b[0]?"running":"S"===b[0]?"sleeping":"T"===b[0]?"stopped":"W"===b[0]?"paging":"X"===b[0]?"dead":"Z"===b[0]?"zombie":"D"===b[0]||"U"===b[0]?"blocked":"unknown",a(10);var x=t.substring(e[10].from+n,e[10].to+u).trim();"?"!==x&&"??"!==x||(x=""),a(11);var I=t.substring(e[11].from+n,e[11].to+u).trim();a(12);var w="",S="",L="",C=t.substring(e[12].from+n,e[12].to+u).trim();if("]"===C.substr(C.length-1)&&(C=C.slice(0,-1)),"["===C.substr(0,1))S=C.substring(1);else{var O=C.indexOf(" -"),_=C.indexOf(" /");O=O>=0?O:1e4,_=_>=0?_:1e4;var V=Math.min(O,_),E=C.substr(0,V),k=C.substr(V),P=E.lastIndexOf("/");if(P>=0&&(w=E.substr(0,P),E=E.substr(P+1)),1e4===V&&E.indexOf(" ")>-1){var A=E.split(" ");i.existsSync(s.join(w,A[0]))?(S=A.shift(),L=(A.join(" ")+" "+k).trim()):(S=E.trim(),L=k.trim())}else S=E.trim(),L=k.trim()}return{pid:p,parentPid:o,name:c?r(S):S,cpu:l,cpuu:0,cpus:0,mem:m,priority:f,memVsz:g,memRss:d,nice:h,started:v,state:b,tty:x,user:I,command:S,params:L,path:w}}(t))})}return n}return new Promise(function(e){process.nextTick(function(){var i={all:0,running:0,blocked:0,sleeping:0,unknown:0,list:[]},s="";if(v.ms&&Date.now()-v.ms>=500||0===v.ms)if(c||f||g||d||l||h)c&&(s="export LC_ALL=C; ps -axo pid:11,ppid:11,pcpu:6,pmem:6,pri:5,vsz:11,rss:11,ni:5,lstart:30,state:5,tty:15,user:20,command; unset LC_ALL"),(f||g||d)&&(s="export LC_ALL=C; ps -axo pid,ppid,pcpu,pmem,pri,vsz,rss,ni,lstart,state,tty,user,command; unset LC_ALL"),l&&(s="export LC_ALL=C; ps -axo pid,ppid,pcpu,pmem,pri,vsz,rss,nice,lstart,state,tty,user,command -r; unset LC_ALL"),h&&(s="ps -Ao pid,ppid,pcpu,pmem,pri,vsz,rss,nice,stime,s,tty,user,comm"),u(s,{maxBuffer:2048e4},function(p,o){if(p)s="ps -o pid,ppid,vsz,rss,nice,etime,stat,tty,user,comm",h&&(s="ps -o pid,ppid,vsz,rss,nice,etime,s,tty,user,comm"),u(s,{maxBuffer:2048e4},function(s,u){if(s)t&&t(i),e(i);else{var a=u.toString().split("\n");a.shift(),i.list=function(t){var e=[];return t.forEach(function(t){if(""!==t.trim()){var i=(t=t.trim().replace(/ +/g," ").replace(/,+/g,".")).split(" "),s=i.slice(9).join(" "),u=parseFloat((1*parseInt(i[3])*1024/n.totalmem()).toFixed(1)),a=i[5].split(":"),p=(o=new Date(Date.now()-(a.length>1?1e3*(60*a[0]+a[1]):1e3*a[0])),c=("0"+(o.getMonth()+1).toString()).substr(-2),o.getFullYear().toString()+"-"+c+"-"+("0"+o.getDay().toString()).substr(-2)+" "+o.getHours().toString()+":"+o.getMinutes().toString()+":"+("0"+o.getSeconds().toString()).substr(-2));e.push({pid:parseInt(i[0]),parentPid:parseInt(i[1]),name:r(s),cpu:0,cpuu:0,cpus:0,mem:u,priority:0,memVsz:parseInt(i[2]),memRss:parseInt(i[3]),nice:parseInt(i[4]),started:p,state:"R"===i[6]?"running":"S"===i[6]?"sleeping":"T"===i[6]?"stopped":"W"===i[6]?"paging":"X"===i[6]?"dead":"Z"===i[6]?"zombie":"D"===i[6]||"U"===i[6]?"blocked":"unknown",tty:i[7],user:i[8],command:s})}var o,c}),e}(a).slice(),i.all=i.list.length,i.running=i.list.filter(function(t){return"running"===t.state}).length,i.blocked=i.list.filter(function(t){return"blocked"===t.state}).length,i.sleeping=i.list.filter(function(t){return"sleeping"===t.state}).length,t&&t(i),e(i)}});else if(i.list=a(o.toString().split("\n")).slice(),i.all=i.list.length,i.running=i.list.filter(function(t){return"running"===t.state}).length,i.blocked=i.list.filter(function(t){return"blocked"===t.state}).length,i.sleeping=i.list.filter(function(t){return"sleeping"===t.state}).length,c){s='cat /proc/stat | grep "cpu "';for(var l=0;l<i.list.length;l++)s+=";cat /proc/"+i.list[l].pid+"/stat";u(s,{maxBuffer:2048e4},function(r,n){for(var s=n.toString().split("\n"),u=L(s.shift()),a={},p={},o=0;o<s.length;o++)if((p=C(s[o],u,v)).pid){var c=i.list.map(function(t){return t.pid}).indexOf(p.pid);c>=0&&(i.list[c].cpu=p.cpuu+p.cpus,i.list[c].cpuu=p.cpuu,i.list[c].cpus=p.cpus),a[p.pid]={cpuu:p.cpuu,cpus:p.cpus,utime:p.utime,stime:p.stime,cutime:p.cutime,cstime:p.cstime}}v.all=u,v.list=Object.assign({},a),v.ms=Date.now()-v.ms,v.result=Object.assign({},i),t&&t(i),e(i)})}else t&&t(i),e(i)});else if(m)try{p.wmic("process get /value").then(function(r,s){if(!s){for(var u=r.split(/\n\s*\n/),a=[],o=[],c={},l=0,m=0,f=0;f<u.length;f++)if(""!==u[f].trim()){var g=u[f].trim().split("\r\n"),d=parseInt(p.getValue(g,"ProcessId","=",!0),10),h=parseInt(p.getValue(g,"ParentProcessId","=",!0),10),b=p.getValue(g,"ExecutionState","="),x=p.getValue(g,"Caption","=",!0),y=p.getValue(g,"CommandLine","=",!0),S=p.getValue(g,"ExecutablePath","=",!0),L=parseInt(p.getValue(g,"UserModeTime","=",!0),10),C=parseInt(p.getValue(g,"KernelModeTime","=",!0),10),_=parseInt(p.getValue(g,"WorkingSetSize","=",!0),10);l+=L,m+=C,i.all++,b||i.unknown++,"3"===b&&i.running++,"4"!==b&&"5"!==b||i.blocked++,o.push({pid:d,utime:L,stime:C,cpu:0,cpuu:0,cpus:0}),a.push({pid:d,parentPid:h,name:x,cpu:0,cpuu:0,cpus:0,pmem:_/n.totalmem()*100,priority:parseInt(p.getValue(g,"Priority","=",!0),10),memVsz:parseInt(p.getValue(g,"PageFileUsage","=",!0),10),memRss:Math.floor(parseInt(p.getValue(g,"WorkingSetSize","=",!0),10)/1024),nice:0,started:w(p.getValue(g,"CreationDate","=",!0)),state:b?I[b]:I[0],tty:"",user:"",command:y||x,path:S,params:""})}i.sleeping=i.all-i.running-i.blocked-i.unknown,i.list=a;for(var V=0;V<o.length;V++){var E=O(o[V],l+m,v),k=i.list.map(function(t){return t.pid}).indexOf(E.pid);k>=0&&(i.list[k].cpu=E.cpuu+E.cpus,i.list[k].cpuu=E.cpuu,i.list[k].cpus=E.cpus),c[E.pid]={cpuu:E.cpuu,cpus:E.cpus,utime:E.utime,stime:E.stime}}v.all=l+m,v.list=Object.assign({},c),v.ms=Date.now()-v.ms,v.result=Object.assign({},i)}t&&t(i),e(i)})}catch(o){t&&t(i),e(i)}else t&&t(i),e(i);else t&&t(v.result),e(v.result)})})}function V(t,e){return p.isFunction(t)&&!e&&(e=t,t=""),new Promise(function(r){process.nextTick(function(){if("string"!=typeof(t=t||""))return e&&e([]),r([]);var i="";i.__proto__.toLowerCase=p.stringToLower,i.__proto__.replace=p.stringReplace,i.__proto__.trim=p.stringTrim;for(var s=p.sanitizeShellString(t),a=0;a<=p.mathMin(s.length,2e3);a++)void 0!==s[a]&&(i+=s[a]);""===(i=i.trim().toLowerCase().replace(/, /g,"|").replace(/,+/g,"|"))&&(i="*"),p.isPrototypePolluted()&&"*"!==i&&(i="------");var o=i.split("|"),h=[];if((p.isPrototypePolluted()?"":p.sanitizeShellString(t))&&o.length&&"------"!==o[0]){if(m)try{p.wmic("process get /value").then(function(t,s){if(!s){for(var u=t.split(/\n\s*\n/),a=[],c={},l=0,m=0,f=0;f<u.length;f++)""!==u[f].trim()&&function(){var t=u[f].trim().split("\r\n"),e=parseInt(p.getValue(t,"ProcessId","=",!0),10),r=p.getValue(t,"Caption","=",!0),s=parseInt(p.getValue(t,"UserModeTime","=",!0),10),c=parseInt(p.getValue(t,"KernelModeTime","=",!0),10),g=parseInt(p.getValue(t,"WorkingSetSize","=",!0),10);l+=s,m+=c,a.push({pid:e,name:r,utime:s,stime:c,cpu:0,cpuu:0,cpus:0,mem:g});var d="",v=!1;if(o.forEach(function(t){r.toLowerCase().indexOf(t.toLowerCase())>=0&&!v&&(v=!0,d=t)}),"*"===i||v){var b=!1;h.forEach(function(t){t.proc.toLowerCase()===d.toLowerCase()&&(t.pids.push(e),t.mem+=g/n.totalmem()*100,b=!0)}),b||h.push({proc:d,pid:e,pids:[e],cpu:0,mem:g/n.totalmem()*100})}}();if("*"!==i)o.filter(function(t){return 0===a.filter(function(e){return e.name.toLowerCase().indexOf(t)>=0}).length}).forEach(function(t){h.push({proc:t,pid:null,pids:[],cpu:0,mem:0})});for(var g=0;g<a.length;g++){for(var d=O(a[g],l+m,x),v=-1,b=0;b<h.length;b++)(h[b].pid===d.pid||h[b].pids.indexOf(d.pid)>=0)&&(v=b);v>=0&&(h[v].cpu+=d.cpuu+d.cpus),c[d.pid]={cpuu:d.cpuu,cpus:d.cpus,utime:d.utime,stime:d.stime}}x.all=l+m,x.list=Object.assign({},c),x.ms=Date.now()-x.ms,x.result=JSON.parse(JSON.stringify(h)),e&&e(h),r(h)}})}catch(v){e&&e(h),r(h)}if(l||c||f||g||d){p.execSafe("ps",["-axo","pid,pcpu,pmem,comm"]).then(function(t){if(t){var n=[];if(t.toString().split("\n").filter(function(t){if("*"===i)return!0;if(-1!==t.toLowerCase().indexOf("grep"))return!1;var e=!1;return o.forEach(function(r){e=e||t.toLowerCase().indexOf(r.toLowerCase())>=0}),e}).forEach(function(t){var e=t.trim().replace(/ +/g," ").split(" ");e.length>3&&n.push({name:e[3].substring(e[3].lastIndexOf("/")+1),pid:parseInt(e[0])||0,cpu:parseFloat(e[1].replace(",",".")),mem:parseFloat(e[2].replace(",","."))})}),n.forEach(function(t){for(var e=-1,r=!1,n="",s=0;s<h.length;s++)t.name.toLowerCase().indexOf(h[s].proc.toLowerCase())>=0&&(e=s);o.forEach(function(e){t.name.toLowerCase().indexOf(e.toLowerCase())>=0&&!r&&(r=!0,n=e)}),("*"===i||r)&&(e<0?h.push({proc:n,pid:t.pid,pids:[t.pid],cpu:t.cpu,mem:t.mem}):(h[e].pids.push(t.pid),h[e].cpu+=t.cpu,h[e].mem+=t.mem))}),"*"!==i)o.filter(function(t){return 0===n.filter(function(e){return e.name.toLowerCase().indexOf(t)>=0}).length}).forEach(function(t){h.push({proc:t,pid:null,pids:[],cpu:0,mem:0})});if(c){h.forEach(function(t){t.cpu=0});var s='cat /proc/stat | grep "cpu "';for(var a in h)for(var p in h[a].pids)s+=";cat /proc/"+h[a].pids[p]+"/stat";u(s,{maxBuffer:2048e4},function(t,n){for(var i=n.toString().split("\n"),s=L(i.shift()),u={},a={},p=0;p<i.length;p++)if((a=C(i[p],s,x)).pid){var o=-1;for(var c in h)h[c].pids.indexOf(a.pid)>=0&&(o=c);o>=0&&(h[o].cpu+=a.cpuu+a.cpus),u[a.pid]={cpuu:a.cpuu,cpus:a.cpus,utime:a.utime,stime:a.stime,cutime:a.cutime,cstime:a.cstime}}h.forEach(function(t){t.cpu=Math.round(100*t.cpu)/100}),x.all=s,x.list=Object.assign({},u),x.ms=Date.now()-x.ms,x.result=Object.assign({},h),e&&e(h),r(h)})}else e&&e(h),r(h)}else e&&e(h),r(h)})}}})})}exports.services=S,exports.processes=_,exports.processLoad=V;
},{"./util":"YOqM"}],"EKrS":[function(require,module,exports) {
"use strict";var t=require("child_process").exec,e=require("./util"),r=process.platform,i="linux"===r,n="darwin"===r,a="win32"===r,s="freebsd"===r,o="openbsd"===r,u="netbsd"===r,c="sunos"===r,m={dateFormat:"",dateSeperator:"",timeFormat:"",timeSeperator:"",amDesignator:"",pmDesignator:""};function p(){return new Promise(function(t){process.nextTick(function(){m.dateFormat?t(m):e.powerShell("(get-culture).DateTimeFormat").then(function(r){var i=r.toString().split("\r\n");m.dateFormat=e.getValue(i,"ShortDatePattern",":"),m.dateSeperator=e.getValue(i,"DateSeparator",":"),m.timeFormat=e.getValue(i,"ShortTimePattern",":"),m.timeSeperator=e.getValue(i,"TimeSeparator",":"),m.amDesignator=e.getValue(i,"AMDesignator",":"),m.pmDesignator=e.getValue(i,"PMDesignator",":"),t(m)}).catch(function(){t(m)})})})}function l(t,e){var r=[],i=[],n={},a=!0,s=[],o={},u=!0;return t.forEach(function(t){if("---"===t)u=!1;else{var e=t.replace(/ +/g," ").split(" ");u?i.push({user:e[0],tty:e[1],date:e[2],time:e[3],ip:e&&e.length>4?e[4].replace(/\(/g,"").replace(/\)/g,""):""}):a?(e.forEach(function(e){s.push(t.indexOf(e))}),a=!1):(n.user=t.substring(s[0],s[1]-1).trim(),n.tty=t.substring(s[1],s[2]-1).trim(),n.ip=t.substring(s[2],s[3]-1).replace(/\(/g,"").replace(/\)/g,"").trim(),n.command=t.substring(s[7],1e3).trim(),1===(o=i.filter(function(t){return t.user.substring(0,8).trim()===n.user&&t.tty===n.tty})).length&&r.push({user:o[0].user,tty:o[0].tty,date:o[0].date,time:o[0].time,ip:o[0].ip,command:n.command}))}}),0===r.length&&2===e?i:r}function f(t){var e=[],r=[],i={},n={},a=!0;return t.forEach(function(t){if("---"===t)a=!1;else{var s=t.replace(/ +/g," ").split(" ");a?r.push({user:s[0],tty:s[1],date:(new Date).getFullYear()+"-"+("0"+("JANFEBMARAPRMAYJUNJULAUGSEPOCTNOVDEC".indexOf(s[2].toUpperCase())/3+1)).slice(-2)+"-"+("0"+s[3]).slice(-2),time:s[4]}):(i.user=s[0],i.tty=s[1],i.ip="-"!==s[2]?s[2]:"",i.command=s.slice(5,1e3).join(" "),1===(n=r.filter(function(t){return t.user===i.user&&(t.tty.substring(3,1e3)===i.tty||t.tty===i.tty)})).length&&e.push({user:n[0].user,tty:n[0].tty,date:n[0].date,time:n[0].time,ip:i.ip,command:i.command}))}}),e}function g(t,r){var i=[],n=t[0],a=[];if(n){var s=" "===n[0]?1:0;a.push(s-1);for(var o=0,u=s+1;u<n.length;u++)" "!==n[u]||" "!==n[u-1]&&"."!==n[u-1]?o&&(a.push(o),o=0):o=u;for(var c=1;c<t.length;c++)if(t[c].trim()){var m=t[c].substring(a[0]+1,a[1]).trim()||"",p=t[c].substring(a[1]+1,a[2]-2).trim()||"",l=e.parseDateTime(t[c].substring(a[5]+1,2e3).trim(),r)||"";i.push({user:m,tty:p,date:l.date,time:l.time,ip:"",command:""})}}return i}function h(r){return new Promise(function(m){process.nextTick(function(){var h=[];if(i&&t('who --ips; echo "---"; w | tail -n +2',function(e,i){if(e)r&&r(h),m(h);else{var n=i.toString().split("\n");0===(h=l(n,1)).length?t('who; echo "---"; w | tail -n +2',function(t,e){t||(n=e.toString().split("\n"),h=l(n,2)),r&&r(h),m(h)}):(r&&r(h),m(h))}}),(s||o||u)&&t('who; echo "---"; w -ih',function(t,e){if(!t){var i=e.toString().split("\n");h=f(i)}r&&r(h),m(h)}),c&&t('who; echo "---"; w -h',function(t,e){if(!t){var i=e.toString().split("\n");h=f(i)}r&&r(h),m(h)}),n&&t('who; echo "---"; w -ih',function(t,e){if(!t){var i=e.toString().split("\n");h=f(i)}r&&r(h),m(h)}),a)try{t("query user",e.execOptsWin,function(t,e){if(e){var i=e.toString().split("\r\n");p().then(function(t){h=g(i,t),r&&r(h),m(h)})}else r&&r(h),m(h)})}catch(d){r&&r(h),m(h)}})})}exports.users=h;
},{"./util":"YOqM"}],"akg7":[function(require,module,exports) {
"use strict";var t=require("./util"),n=process.platform,e="linux"===n,r="darwin"===n,i="win32"===n,s="freebsd"===n,o="openbsd"===n,a="netbsd"===n,l="sunos"===n;function u(n,u){return new Promise(function(f){process.nextTick(function(){var h={url:n,ok:!1,status:404,ms:null};if("string"!=typeof n)return u&&u(h),f(h);for(var c="",p=t.sanitizeShellString(n,!0),g=0;g<=t.mathMin(p.length,2e3);g++)if(void 0!==p[g]){p[g].__proto__.toLowerCase=t.stringToLower;var v=p[g].toLowerCase();v&&v[0]&&!v[1]&&1===v[0].length&&(c+=v[0])}h.url=c;try{if(c&&!t.isPrototypePolluted()){if(c.__proto__.startsWith=t.stringStartWith,c.startsWith("file:")||c.startsWith("gopher:")||c.startsWith("telnet:")||c.startsWith("mailto:")||c.startsWith("news:")||c.startsWith("nntp:"))return u&&u(h),f(h);var m=Date.now();if(e||s||o||a||r||l){var w=["-I","--connect-timeout","5","-m","5"];w.push(c);t.execSafe("curl",w).then(function(t){var n=t.split("\n"),e=n[0]&&n[0].indexOf(" ")>=0?parseInt(n[0].split(" ")[1],10):404;h.status=e||404,h.ok=200===e||301===e||302===e||304===e,h.ms=h.ok?Date.now()-m:null,u&&u(h),f(h)})}if(i){var W=c.startsWith("https:")?require("https"):require("http");try{W.get(c,function(t){var n=t.statusCode;h.status=n||404,h.ok=200===n||301===n||302===n||304===n,200!==n?(t.resume(),h.ms=h.ok?Date.now()-m:null,u&&u(h),f(h)):(t.on("data",function(){}),t.on("end",function(){h.ms=h.ok?Date.now()-m:null,u&&u(h),f(h)}))}).on("error",function(){u&&u(h),f(h)})}catch(_){u&&u(h),f(h)}}}else u&&u(h),f(h)}catch(_){u&&u(h),f(h)}})})}function f(n,u){return t.isFunction(n)&&!u&&(u=n,n=""),n=n||"8.8.8.8",new Promise(function(f){process.nextTick(function(){if("string"!=typeof n)return u&&u(null),f(null);for(var h,c,p="",g=(t.isPrototypePolluted()?"8.8.8.8":t.sanitizeShellString(n,!0)).trim(),v=0;v<=t.mathMin(g.length,2e3);v++)if(void 0!==g[v]){g[v].__proto__.toLowerCase=t.stringToLower;var m=g[v].toLowerCase();m&&m[0]&&!m[1]&&(p+=m[0])}if(p.__proto__.startsWith=t.stringStartWith,p.startsWith("file:")||p.startsWith("gopher:")||p.startsWith("telnet:")||p.startsWith("mailto:")||p.startsWith("news:")||p.startsWith("nntp:"))return u&&u(null),f(null);if((e||s||o||a||r)&&(e&&(h=["-c","2","-w","3",p],c="rtt"),(s||o||a)&&(h=["-c","2","-t","3",p],c="round-trip"),r&&(h=["-c2","-t3",p],c="avg"),t.execSafe("ping",h).then(function(t){var n=null;if(t){var e=t.split("\n").filter(function(t){return t.indexOf(c)>=0}).join("\n").split("=");if(e.length>1){var r=e[1].split("/");r.length>1&&(n=parseFloat(r[1]))}}u&&u(n),f(n)})),l){var w=["-s","-a",p,"56","2"];t.execSafe("ping",w,{timeout:3e3}).then(function(t){var n=null;if(t){var e=t.split("\n").filter(function(t){return t.indexOf("avg")>=0}).join("\n").split("=");if(e.length>1){var r=e[1].split("/");r.length>1&&(n=parseFloat(r[1].replace(",",".")))}}u&&u(n),f(n)})}if(i){var W=null;try{var _=[p,"-n","1"];t.execSafe("ping",_,t.execOptsWin).then(function(t){if(t){var n=t.split("\r\n");n.shift(),n.forEach(function(t){if(3===(t.toLowerCase().match(/ms/g)||[]).length){var n=t.replace(/ +/g," ").split(" ");n.length>6&&(W=parseFloat(n[n.length-1]))}})}u&&u(W),f(W)})}catch(d){u&&u(W),f(W)}}})})}exports.inetChecksite=u,exports.inetLatency=f;
},{"./util":"YOqM"}],"Q8Fd":[function(require,module,exports) {
"use strict";function n(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function t(n,t){for(var r=0;r<t.length;r++){var e=t[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(n,e.key,e)}}function r(n,r,e){return r&&t(n.prototype,r),e&&t(n,e),n}var e=require("net"),o="Windows_NT"===require("os").type(),c=o?"//./pipe/docker_engine":"/var/run/docker.sock",i=function(){function t(){n(this,t)}return r(t,[{key:"getInfo",value:function(n){try{var t,r=e.createConnection({path:c}),o="";r.on("connect",function(){r.write("GET http:/info HTTP/1.0\r\n\r\n")}),r.on("data",function(n){o+=n.toString()}),r.on("error",function(){r=!1,n({})}),r.on("end",function(){var e=o.indexOf("\r\n\r\n");o=o.substring(e+4),r=!1;try{t=JSON.parse(o),n(t)}catch(c){n({})}})}catch(i){n({})}}},{key:"listImages",value:function(n,t){try{var r,o=e.createConnection({path:c}),i="";o.on("connect",function(){o.write("GET http:/images/json"+(n?"?all=1":"")+" HTTP/1.0\r\n\r\n")}),o.on("data",function(n){i+=n.toString()}),o.on("error",function(){o=!1,t({})}),o.on("end",function(){var n=i.indexOf("\r\n\r\n");i=i.substring(n+4),o=!1;try{r=JSON.parse(i),t(r)}catch(e){t({})}})}catch(a){t({})}}},{key:"inspectImage",value:function(n,t){if(n=n||"")try{var r,o=e.createConnection({path:c}),i="";o.on("connect",function(){o.write("GET http:/images/"+n+"/json?stream=0 HTTP/1.0\r\n\r\n")}),o.on("data",function(n){i+=n.toString()}),o.on("error",function(){o=!1,t({})}),o.on("end",function(){var n=i.indexOf("\r\n\r\n");i=i.substring(n+4),o=!1;try{r=JSON.parse(i),t(r)}catch(e){t({})}})}catch(a){t({})}else t({})}},{key:"listContainers",value:function(n,t){try{var r,o=e.createConnection({path:c}),i="";o.on("connect",function(){o.write("GET http:/containers/json"+(n?"?all=1":"")+" HTTP/1.0\r\n\r\n")}),o.on("data",function(n){i+=n.toString()}),o.on("error",function(){o=!1,t({})}),o.on("end",function(){var n=i.indexOf("\r\n\r\n");i=i.substring(n+4),o=!1;try{r=JSON.parse(i),t(r)}catch(e){t({})}})}catch(a){t({})}}},{key:"getStats",value:function(n,t){if(n=n||"")try{var r,o=e.createConnection({path:c}),i="";o.on("connect",function(){o.write("GET http:/containers/"+n+"/stats?stream=0 HTTP/1.0\r\n\r\n")}),o.on("data",function(n){i+=n.toString()}),o.on("error",function(){o=!1,t({})}),o.on("end",function(){var n=i.indexOf("\r\n\r\n");i=i.substring(n+4),o=!1;try{r=JSON.parse(i),t(r)}catch(e){t({})}})}catch(a){t({})}else t({})}},{key:"getInspect",value:function(n,t){if(n=n||"")try{var r,o=e.createConnection({path:c}),i="";o.on("connect",function(){o.write("GET http:/containers/"+n+"/json?stream=0 HTTP/1.0\r\n\r\n")}),o.on("data",function(n){i+=n.toString()}),o.on("error",function(){o=!1,t({})}),o.on("end",function(){var n=i.indexOf("\r\n\r\n");i=i.substring(n+4),o=!1;try{r=JSON.parse(i),t(r)}catch(e){t({})}})}catch(a){t({})}else t({})}},{key:"getProcesses",value:function(n,t){if(n=n||"")try{var r,o=e.createConnection({path:c}),i="";o.on("connect",function(){o.write("GET http:/containers/"+n+"/top?ps_args=-opid,ppid,pgid,vsz,time,etime,nice,ruser,user,rgroup,group,stat,rss,args HTTP/1.0\r\n\r\n")}),o.on("data",function(n){i+=n.toString()}),o.on("error",function(){o=!1,t({})}),o.on("end",function(){var n=i.indexOf("\r\n\r\n");i=i.substring(n+4),o=!1;try{r=JSON.parse(i),t(r)}catch(e){t({})}})}catch(a){t({})}else t({})}},{key:"listVolumes",value:function(n){try{var t,r=e.createConnection({path:c}),o="";r.on("connect",function(){r.write("GET http:/volumes HTTP/1.0\r\n\r\n")}),r.on("data",function(n){o+=n.toString()}),r.on("error",function(){r=!1,n({})}),r.on("end",function(){var e=o.indexOf("\r\n\r\n");o=o.substring(e+4),r=!1;try{t=JSON.parse(o),n(t)}catch(c){n({})}})}catch(i){n({})}}}]),t}();module.exports=i;
},{}],"J5PI":[function(require,module,exports) {
"use strict";function e(e,r){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=t(e))||r&&e&&"number"==typeof e.length){n&&(e=n);var o=0,i=function(){};return{s:i,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,s=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw s}}}}function t(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var n,o=require("./util"),i=require("./dockerSocket"),s=process.platform,a="win32"===s,c={},u=0;function p(e){return new Promise(function(t){process.nextTick(function(){n||(n=new i);var r={};n.getInfo(function(n){r.id=n.ID,r.containers=n.Containers,r.containersRunning=n.ContainersRunning,r.containersPaused=n.ContainersPaused,r.containersStopped=n.ContainersStopped,r.images=n.Images,r.driver=n.Driver,r.memoryLimit=n.MemoryLimit,r.swapLimit=n.SwapLimit,r.kernelMemory=n.KernelMemory,r.cpuCfsPeriod=n.CpuCfsPeriod,r.cpuCfsQuota=n.CpuCfsQuota,r.cpuShares=n.CPUShares,r.cpuSet=n.CPUSet,r.ipv4Forwarding=n.IPv4Forwarding,r.bridgeNfIptables=n.BridgeNfIptables,r.bridgeNfIp6tables=n.BridgeNfIp6tables,r.debug=n.Debug,r.nfd=n.NFd,r.oomKillDisable=n.OomKillDisable,r.ngoroutines=n.NGoroutines,r.systemTime=n.SystemTime,r.loggingDriver=n.LoggingDriver,r.cgroupDriver=n.CgroupDriver,r.nEventsListener=n.NEventsListener,r.kernelVersion=n.KernelVersion,r.operatingSystem=n.OperatingSystem,r.osType=n.OSType,r.architecture=n.Architecture,r.ncpu=n.NCPU,r.memTotal=n.MemTotal,r.dockerRootDir=n.DockerRootDir,r.httpProxy=n.HttpProxy,r.httpsProxy=n.HttpsProxy,r.noProxy=n.NoProxy,r.name=n.Name,r.labels=n.Labels,r.experimentalBuild=n.ExperimentalBuild,r.serverVersion=n.ServerVersion,r.clusterStore=n.ClusterStore,r.clusterAdvertise=n.ClusterAdvertise,r.defaultRuntime=n.DefaultRuntime,r.liveRestoreEnabled=n.LiveRestoreEnabled,r.isolation=n.Isolation,r.initBinary=n.InitBinary,r.productLicense=n.ProductLicense,e&&e(r),t(r)})})})}function m(e,t){o.isFunction(e)&&!t&&(t=e,e=!1),"string"==typeof e&&"true"===e&&(e=!0),"boolean"!=typeof e&&void 0!==e&&(e=!1),e=e||!1;var r=[];return new Promise(function(o){process.nextTick(function(){n||(n=new i);var s=[];n.listImages(e,function(e){var n={};try{(n=e)&&"[object Array]"===Object.prototype.toString.call(n)&&n.length>0?(n.forEach(function(e){e.Names&&"[object Array]"===Object.prototype.toString.call(e.Names)&&e.Names.length>0&&(e.Name=e.Names[0].replace(/^\/|\/$/g,"")),s.push(l(e.Id.trim(),e))}),s.length?Promise.all(s).then(function(e){t&&t(e),o(e)}):(t&&t(r),o(r))):(t&&t(r),o(r))}catch(i){t&&t(r),o(r)}})})})}function l(e,t){return new Promise(function(r){process.nextTick(function(){"string"!=typeof(e=e||"")&&r();var s=(o.isPrototypePolluted()?"":o.sanitizeShellString(e,!0)).trim();s?(n||(n=new i),n.inspectImage(s.trim(),function(e){try{r({id:t.Id,container:e.Container,comment:e.Comment,os:e.Os,architecture:e.Architecture,parent:e.Parent,dockerVersion:e.DockerVersion,size:e.Size,sharedSize:t.SharedSize,virtualSize:e.VirtualSize,author:e.Author,created:e.Created?Math.round(new Date(e.Created).getTime()/1e3):0,containerConfig:e.ContainerConfig?e.ContainerConfig:{},graphDriver:e.GraphDriver?e.GraphDriver:{},repoDigests:e.RepoDigests?e.RepoDigests:{},repoTags:e.RepoTags?e.RepoTags:{},config:e.Config?e.Config:{},rootFS:e.RootFS?e.RootFS:{}})}catch(n){r()}})):r()})})}function f(e,t){function r(e,t){return e.filter(function(e){return e.Id&&e.Id===t}).length>0}o.isFunction(e)&&!t&&(t=e,e=!1),"string"==typeof e&&"true"===e&&(e=!0),"boolean"!=typeof e&&void 0!==e&&(e=!1),e=e||!1;var s=[];return new Promise(function(o){process.nextTick(function(){n||(n=new i);var a=[];n.listContainers(e,function(e){var n={};try{if((n=e)&&"[object Array]"===Object.prototype.toString.call(n)&&n.length>0){for(var i in c)({}).hasOwnProperty.call(c,i)&&(r(n,i)||delete c[i]);n.forEach(function(e){e.Names&&"[object Array]"===Object.prototype.toString.call(e.Names)&&e.Names.length>0&&(e.Name=e.Names[0].replace(/^\/|\/$/g,"")),a.push(d(e.Id.trim(),e))}),a.length?Promise.all(a).then(function(e){t&&t(e),o(e)}):(t&&t(s),o(s))}else t&&t(s),o(s)}catch(p){for(var u in c)({}).hasOwnProperty.call(c,u)&&(r(n,u)||delete c[u]);t&&t(s),o(s)}})})})}function d(e,t){return new Promise(function(r){process.nextTick(function(){"string"!=typeof(e=e||"")&&r();var s=(o.isPrototypePolluted()?"":o.sanitizeShellString(e,!0)).trim();s?(n||(n=new i),n.getInspect(s.trim(),function(e){try{r({id:t.Id,name:t.Name,image:t.Image,imageID:t.ImageID,command:t.Command,created:t.Created,started:e.State&&e.State.StartedAt?Math.round(new Date(e.State.StartedAt).getTime()/1e3):0,finished:e.State&&e.State.FinishedAt&&!e.State.FinishedAt.startsWith("0001-01-01")?Math.round(new Date(e.State.FinishedAt).getTime()/1e3):0,createdAt:e.Created?e.Created:"",startedAt:e.State&&e.State.StartedAt?e.State.StartedAt:"",finishedAt:e.State&&e.State.FinishedAt&&!e.State.FinishedAt.startsWith("0001-01-01")?e.State.FinishedAt:"",state:t.State,restartCount:e.RestartCount||0,platform:e.Platform||"",driver:e.Driver||"",ports:t.Ports,mounts:t.Mounts})}catch(n){r()}})):r()})})}function g(e,t){if(a){var r=o.nanoSeconds(),n=0;if(u>0){var i=r-u,s=e.cpu_usage.total_usage-t.cpu_usage.total_usage;i>0&&(n=100*s/i)}return u=r,n}var c=0,p=e.cpu_usage.total_usage-t.cpu_usage.total_usage,m=e.system_cpu_usage-t.system_cpu_usage;return m>0&&p>0&&(c=p/m*e.cpu_usage.percpu_usage.length*100),c}function y(e){var t,r;for(var n in e)if({}.hasOwnProperty.call(e,n)){var o=e[n];t=+o.rx_bytes,r=+o.tx_bytes}return{rx:t,wx:r}}function h(e){var t={r:0,w:0};return e&&e.io_service_bytes_recursive&&"[object Array]"===Object.prototype.toString.call(e.io_service_bytes_recursive)&&e.io_service_bytes_recursive.length>0&&e.io_service_bytes_recursive.forEach(function(e){e.op&&"read"===e.op.toLowerCase()&&e.value&&(t.r+=e.value),e.op&&"write"===e.op.toLowerCase()&&e.value&&(t.w+=e.value)}),t}function v(t,r){var n=[];return new Promise(function(i){process.nextTick(function(){if(o.isFunction(t)&&!r)r=t,n=["*"];else{if("string"!=typeof(t=t||"*"))return r&&r([]),i([]);var s="";if(s.__proto__.toLowerCase=o.stringToLower,s.__proto__.replace=o.stringReplace,s.__proto__.trim=o.stringTrim,"*"!==(s=(s=t).trim())){s="";for(var a=(o.isPrototypePolluted()?"":o.sanitizeShellString(t,!0)).trim(),c=0;c<=o.mathMin(a.length,2e3);c++)if(void 0!==a[c]){a[c].__proto__.toLowerCase=o.stringToLower;var u=a[c].toLowerCase();u&&u[0]&&!u[1]&&(s+=u[0])}}s=s.trim().toLowerCase().replace(/,+/g,"|"),n=s.split("|")}var p=[],m=[];if(n.length&&"*"===n[0].trim())n=[],f().then(function(t){var o,s=e(t);try{for(s.s();!(o=s.n()).done;){var a=o.value;n.push(a.id)}}catch(c){s.e(c)}finally{s.f()}n.length?v(n.join(",")).then(function(e){r&&r(e),i(e)}):(r&&r(p),i(p))});else{var l,d=e(n);try{for(d.s();!(l=d.n()).done;){var g=l.value;m.push(S(g.trim()))}}catch(y){d.e(y)}finally{d.f()}m.length?Promise.all(m).then(function(e){r&&r(e),i(e)}):(r&&r(p),i(p))}})})}function S(e){var t={id:e=e||"",memUsage:0,memLimit:0,memPercent:0,cpuPercent:0,pids:0,netIO:{rx:0,wx:0},blockIO:{r:0,w:0}};return new Promise(function(r){process.nextTick(function(){e?(n||(n=new i),n.getInspect(e,function(i){try{n.getStats(e,function(e){try{var n=e;n.message||(t.memUsage=n.memory_stats&&n.memory_stats.usage?n.memory_stats.usage:0,t.memLimit=n.memory_stats&&n.memory_stats.limit?n.memory_stats.limit:0,t.memPercent=n.memory_stats&&n.memory_stats.usage&&n.memory_stats.limit?n.memory_stats.usage/n.memory_stats.limit*100:0,t.cpuPercent=n.cpu_stats&&n.precpu_stats?g(n.cpu_stats,n.precpu_stats):0,t.pids=n.pids_stats&&n.pids_stats.current?n.pids_stats.current:0,t.restartCount=i.RestartCount?i.RestartCount:0,n.networks&&(t.netIO=y(n.networks)),n.blkio_stats&&(t.blockIO=h(n.blkio_stats)),t.cpuStats=n.cpu_stats?n.cpu_stats:{},t.precpuStats=n.precpu_stats?n.precpu_stats:{},t.memoryStats=n.memory_stats?n.memory_stats:{},t.networks=n.networks?n.networks:{})}catch(s){o.noop()}r(t)})}catch(s){o.noop()}})):r(t)})})}function _(e,t){var r=[];return new Promise(function(s){process.nextTick(function(){"string"!=typeof(e=e||"")&&s(r);var a=(o.isPrototypePolluted()?"":o.sanitizeShellString(e,!0)).trim();a?(n||(n=new i),n.getProcesses(a,function(e){try{if(e&&e.Titles&&e.Processes){var n=e.Titles.map(function(e){return e.toUpperCase()}),i=n.indexOf("PID"),a=n.indexOf("PPID"),c=n.indexOf("PGID"),u=n.indexOf("VSZ"),p=n.indexOf("TIME"),m=n.indexOf("ELAPSED"),l=n.indexOf("NI"),f=n.indexOf("RUSER"),d=n.indexOf("USER"),g=n.indexOf("RGROUP"),y=n.indexOf("GROUP"),h=n.indexOf("STAT"),v=n.indexOf("RSS"),S=n.indexOf("COMMAND");e.Processes.forEach(function(e){r.push({pidHost:i>=0?e[i]:"",ppid:a>=0?e[a]:"",pgid:c>=0?e[c]:"",user:d>=0?e[d]:"",ruser:f>=0?e[f]:"",group:y>=0?e[y]:"",rgroup:g>=0?e[g]:"",stat:h>=0?e[h]:"",time:p>=0?e[p]:"",elapsed:m>=0?e[m]:"",nice:l>=0?e[l]:"",rss:v>=0?e[v]:"",vsz:u>=0?e[u]:"",command:S>=0?e[S]:""})})}}catch(_){o.noop()}t&&t(r),s(r)})):(t&&t(r),s(r))})})}function P(e){var t=[];return new Promise(function(r){process.nextTick(function(){n||(n=new i),n.listVolumes(function(n){var o={};try{(o=n)&&o.Volumes&&"[object Array]"===Object.prototype.toString.call(o.Volumes)&&o.Volumes.length>0?(o.Volumes.forEach(function(e){t.push({name:e.Name,driver:e.Driver,labels:e.Labels,mountpoint:e.Mountpoint,options:e.Options,scope:e.Scope,created:e.CreatedAt?Math.round(new Date(e.CreatedAt).getTime()/1e3):0})}),e&&e(t),r(t)):(e&&e(t),r(t))}catch(i){e&&e(t),r(t)}})})})}function w(e){return new Promise(function(t){process.nextTick(function(){f(!0).then(function(r){if(r&&"[object Array]"===Object.prototype.toString.call(r)&&r.length>0){var n=r.length;r.forEach(function(o){v(o.id).then(function(i){o.memUsage=i[0].memUsage,o.memLimit=i[0].memLimit,o.memPercent=i[0].memPercent,o.cpuPercent=i[0].cpuPercent,o.pids=i[0].pids,o.netIO=i[0].netIO,o.blockIO=i[0].blockIO,o.cpuStats=i[0].cpuStats,o.precpuStats=i[0].precpuStats,o.memoryStats=i[0].memoryStats,o.networks=i[0].networks,_(o.id).then(function(i){o.processes=i,0===(n-=1)&&(e&&e(r),t(r))})})})}else e&&e(r),t(r)})})})}exports.dockerInfo=p,exports.dockerImages=m,exports.dockerContainers=f,exports.dockerContainerStats=v,exports.dockerContainerProcesses=_,exports.dockerVolumes=P,exports.dockerAll=w;
},{"./util":"YOqM","./dockerSocket":"Q8Fd"}],"uI1G":[function(require,module,exports) {
"use strict";var e=require("os"),t=require("child_process").exec,a=require("./util");function o(o){var i=[];return new Promise(function(n){process.nextTick(function(){try{t(a.getVboxmanage()+" list vms --long",function(t,r){var l=(e.EOL+r.toString()).split(e.EOL+"Name:");l.shift(),l.forEach(function(t){var o=("Name:"+t).split(e.EOL),n=a.getValue(o,"State"),r=n.startsWith("running"),l=r?n.replace("running (since ","").replace(")","").trim():"",u=0;try{if(r){var g=new Date(l),c=g.getTimezoneOffset();u=Math.round((Date.now()-Date.parse(g))/1e3)+60*c}}catch(f){a.noop()}var s=r?"":n.replace("powered off (since","").replace(")","").trim(),p=0;try{if(!r){var V=new Date(s),d=V.getTimezoneOffset();p=Math.round((Date.now()-Date.parse(V))/1e3)+60*d}}catch(f){a.noop()}i.push({id:a.getValue(o,"UUID"),name:a.getValue(o,"Name"),running:r,started:l,runningSince:u,stopped:s,stoppedSince:p,guestOS:a.getValue(o,"Guest OS"),hardwareUUID:a.getValue(o,"Hardware UUID"),memory:parseInt(a.getValue(o,"Memory size","     "),10),vram:parseInt(a.getValue(o,"VRAM size"),10),cpus:parseInt(a.getValue(o,"Number of CPUs"),10),cpuExepCap:a.getValue(o,"CPU exec cap"),cpuProfile:a.getValue(o,"CPUProfile"),chipset:a.getValue(o,"Chipset"),firmware:a.getValue(o,"Firmware"),pageFusion:"enabled"===a.getValue(o,"Page Fusion"),configFile:a.getValue(o,"Config file"),snapshotFolder:a.getValue(o,"Snapshot folder"),logFolder:a.getValue(o,"Log folder"),hpet:"enabled"===a.getValue(o,"HPET"),pae:"enabled"===a.getValue(o,"PAE"),longMode:"enabled"===a.getValue(o,"Long Mode"),tripleFaultReset:"enabled"===a.getValue(o,"Triple Fault Reset"),apic:"enabled"===a.getValue(o,"APIC"),x2Apic:"enabled"===a.getValue(o,"X2APIC"),acpi:"enabled"===a.getValue(o,"ACPI"),ioApic:"enabled"===a.getValue(o,"IOAPIC"),biosApicMode:a.getValue(o,"BIOS APIC mode"),bootMenuMode:a.getValue(o,"Boot menu mode"),bootDevice1:a.getValue(o,"Boot Device 1"),bootDevice2:a.getValue(o,"Boot Device 2"),bootDevice3:a.getValue(o,"Boot Device 3"),bootDevice4:a.getValue(o,"Boot Device 4"),timeOffset:a.getValue(o,"Time offset"),rtc:a.getValue(o,"RTC")})}),o&&o(i),n(i)})}catch(r){o&&o(i),n(i)}})})}exports.vboxInfo=o;
},{"./util":"YOqM"}],"qsHR":[function(require,module,exports) {
"use strict";var e=require("child_process").exec,t=require("./util"),n=process.platform,r="linux"===n,l="darwin"===n,a="win32"===n,i="freebsd"===n,u="openbsd"===n,s="netbsd"===n,o="sunos"===n,p={1:"Other",2:"Unknown",3:"Idle",4:"Printing",5:"Warmup",6:"Stopped Printing",7:"Offline"};function d(e){var t={};if(e&&e.length&&e[0].indexOf(" CUPS v")>0){var n=e[0].split(" CUPS v");t.cupsVersion=n[1]}return t}function c(e){var n={},r=t.getValue(e,"PrinterId"," ");return n.id=r?parseInt(r,10):null,n.name=t.getValue(e,"Info"," "),n.model=e.length>0&&e[0]?e[0].split(" ")[0]:"",n.uri=t.getValue(e,"DeviceURI"," "),n.uuid=t.getValue(e,"UUID"," "),n.status=t.getValue(e,"State"," "),n.local=t.getValue(e,"Location"," ").toLowerCase().startsWith("local"),n.default=null,n.shared=t.getValue(e,"Shared"," ").toLowerCase().startsWith("yes"),n}function f(e,n){var r={};return r.id=n,r.name=t.getValue(e,"Description",":",!0),r.model=e.length>0&&e[0]?e[0].split(" ")[0]:"",r.uri=null,r.uuid=null,r.status=e.length>0&&e[0]?e[0].indexOf(" idle")>0?"idle":e[0].indexOf(" printing")>0?"printing":"unknown":null,r.local=t.getValue(e,"Location",":",!0).toLowerCase().startsWith("local"),r.default=null,r.shared=t.getValue(e,"Shared"," ").toLowerCase().startsWith("yes"),r}function g(e,t){var n={},r=e.uri.split("/");return n.id=t,n.name=e._name,n.model=r.length?r[r.length-1]:"",n.uri=e.uri,n.uuid=null,n.status=e.status,n.local="local"===e.printserver,n.default="yes"===e.default,n.shared="yes"===e.shared,n}function h(e,n){var r={},l=parseInt(t.getValue(e,"PrinterStatus","="),10);return r.id=n,r.name=t.getValue(e,"name","="),r.model=t.getValue(e,"DriverName","="),r.uri=null,r.uuid=null,r.status=p[l]?p[l]:null,r.local="TRUE"===t.getValue(e,"Local","="),r.default="TRUE"===t.getValue(e,"Default","="),r.shared="TRUE"===t.getValue(e,"Shared","="),r}function v(n){return new Promise(function(p){process.nextTick(function(){var v=[];if(r||i||u||s){var m="cat /etc/cups/printers.conf 2>/dev/null";e(m,function(t,l){if(!t)for(var a=l.toString().split("<Printer "),i=d(a[0]),u=1;u<a.length;u++){var s=c(a[u].split("\n"));s.name&&(s.engine="CUPS",s.engineVersion=i.cupsVersion,v.push(s))}0===v.length&&r?(e(m="export LC_ALL=C; lpstat -lp 2>/dev/null; unset LC_ALL",function(e,t){for(var n=("\n"+t.toString()).split("\nprinter "),r=1;r<n.length;r++){var l=f(n[r].split("\n"),r);v.push(l)}}),n&&n(v),p(v)):(n&&n(v),p(v))})}if(l){e("system_profiler SPPrintersDataType -json",function(e,r){if(!e)try{var l=JSON.parse(r.toString());if(l.SPPrintersDataType&&l.SPPrintersDataType.length)for(var a=0;a<l.SPPrintersDataType.length;a++){var i=g(l.SPPrintersDataType[a],a);v.push(i)}}catch(u){t.noop()}n&&n(v),p(v)})}a&&t.wmic("printer get /value",function(e,t){if(!e)for(var r=t.toString().split(/\n\s*\n/),l=0;l<r.length;l++){var a=h(r[l].split("\n"),l);(a.name||a.model)&&v.push(h(r[l].split("\n"),l))}n&&n(v),p(v)}),o&&p(null)})})}exports.printer=v;
},{"./util":"YOqM"}],"iXLH":[function(require,module,exports) {
"use strict";var e=require("child_process").exec,r=require("./util"),n=process.platform,t="linux"===n,i="darwin"===n,o="win32"===n,a="freebsd"===n,u="openbsd"===n,l="netbsd"===n,s="sunos"===n;function d(e,r){var n=e,t=(r+" "+e).toLowerCase();return t.indexOf("camera")>=0?n="Camera":t.indexOf("hub")>=0?n="Hub":t.indexOf("keybrd")>=0?n="Keyboard":t.indexOf("keyboard")>=0?n="Keyboard":t.indexOf("mouse")>=0?n="Mouse":t.indexOf("stora")>=0?n="Storage":t.indexOf("mic")>=0?n="Microphone":t.indexOf("headset")>=0?n="Audio":t.indexOf("audio")>=0&&(n="Audio"),n}function f(e){var n={},t=e.split("\n");if(t&&t.length&&t[0].indexOf("Device")>=0){var i=t[0].split(" ");n.bus=parseInt(i[0],10),i[2]?n.deviceId=parseInt(i[2],10):n.deviceId=null}else n.bus=null,n.deviceId=null;var o=r.getValue(t,"idVendor"," ",!0).trim(),a=o.split(" ");a.shift();var u=a.join(" "),l=r.getValue(t,"idProduct"," ",!0).trim(),s=l.split(" ");s.shift();var f=s.join(" "),c=r.getValue(t,"bInterfaceClass"," ",!0).trim().split(" ");c.shift();var m=c.join(" "),b=r.getValue(t,"iManufacturer"," ",!0).trim().split(" ");b.shift();var v=b.join(" ");return n.id=(o.startsWith("0x")?o.split(" ")[0].substr(2,10):"")+":"+(l.startsWith("0x")?l.split(" ")[0].substr(2,10):""),n.name=f,n.type=d(m,f),n.removable=null,n.vendor=u,n.manufacturer=v,n.maxPower=r.getValue(t,"MaxPower"," ",!0),n.serialNumber=null,n}function c(e){var r="";return e.indexOf("camera")>=0?r="Camera":e.indexOf("touch bar")>=0?r="Touch Bar":e.indexOf("controller")>=0?r="Controller":e.indexOf("headset")>=0?r="Audio":e.indexOf("keyboard")>=0?r="Keyboard":e.indexOf("trackpad")>=0?r="Trackpad":e.indexOf("sensor")>=0?r="Sensor":e.indexOf("bthusb")>=0?r="Bluetooth":e.indexOf("bth")>=0?r="Bluetooth":e.indexOf("rfcomm")>=0?r="Bluetooth":e.indexOf("usbhub")>=0?r="Hub":e.indexOf(" hub")>=0?r="Hub":e.indexOf("mouse")>=0?r="Mouse":e.indexOf("mic")>=0?r="Microphone":e.indexOf("removable")>=0&&(r="Storage"),r}function m(e,r){var n={};n.id=r;var t=(e=(e=e.replace(/ \|/g,"")).trim()).split("\n");t.shift();try{for(var i=0;i<t.length;i++)t[i]=t[i].trim(),t[i]=t[i].replace(/=/g,":"),"{"!==t[i]&&"}"!==t[i]&&t[i+1]&&"}"!==t[i+1].trim()&&(t[i]=t[i]+","),t[i]=t[i].replace(": Yes,",': "Yes",'),t[i]=t[i].replace(": No,",': "No",');var o=JSON.parse(t.join("\n")),a="yes"!==o["Built-In"].toLowerCase()&&"no"===o["non-removable"].toLowerCase();return n.bus=null,n.deviceId=null,n.id=o["USB Address"]||null,n.name=o.kUSBProductString||o["USB Product Name"]||null,n.type=c((o.kUSBProductString||o["USB Product Name"]||"").toLowerCase()+(a?" removable":"")),n.removable="no"===o["non-removable"].toLowerCase(),n.vendor=o.kUSBVendorString||o["USB Vendor Name"]||null,n.manufacturer=o.kUSBVendorString||o["USB Vendor Name"]||null,n.maxPower=null,n.serialNumber=o.kUSBSerialNumberString||null,n.name?n:null}catch(u){return null}}function b(e,r){var n="";return r.indexOf("storage")>=0?n="Storage":r.indexOf("speicher")>=0?n="Storage":e.indexOf("usbhub")>=0?n="Hub":e.indexOf("storage")>=0?n="Storage":e.indexOf("usbcontroller")>=0?n="Controller":e.indexOf("keyboard")>=0?n="Keyboard":e.indexOf("pointing")>=0?n="Mouse":e.indexOf("disk")>=0&&(n="Storage"),n}function v(e,n){var t=b(r.getValue(e,"CreationClassName","=").toLowerCase(),r.getValue(e,"name","=").toLowerCase());if(t){var i={bus:null};return i.deviceId=r.getValue(e,"deviceid","="),i.id=n,i.name=r.getValue(e,"name","="),i.type=t,i.removable=null,i.vendor=null,i.manufacturer=r.getValue(e,"Manufacturer","="),i.maxPower=null,i.serialNumber=null,i}return null}function x(n){return new Promise(function(d){process.nextTick(function(){var c=[];if(t){e("export LC_ALL=C; lsusb -v 2>/dev/null; unset LC_ALL",{maxBuffer:134217728},function(e,r){if(!e)for(var t=("\n\n"+r.toString()).split("\n\nBus "),i=1;i<t.length;i++){var o=f(t[i]);c.push(o)}n&&n(c),d(c)})}if(i){e("ioreg -p IOUSB -c AppleUSBRootHubDevice -w0 -l",{maxBuffer:134217728},function(e,r){if(!e){for(var t=r.toString().split(" +-o "),i=1;i<t.length;i++){var o=m(t[i]);o&&c.push(o)}n&&n(c),d(c)}n&&n(c),d(c)})}o&&r.wmic("Path CIM_LogicalDevice where \"Description like 'USB%'\" get /value",function(e,r){if(!e)for(var t=r.toString().split(/\n\s*\n/),i=0;i<t.length;i++){var o=v(t[i].split("\n"),i);o&&c.push(o)}n&&n(c),d(c)}),(s||a||u||l)&&d(null)})})}exports.usb=x;
},{"./util":"YOqM"}],"P9t3":[function(require,module,exports) {
"use strict";var e=require("child_process").exec,n=require("child_process").execSync,i=require("./util"),t=process.platform,u="linux"===t,r="darwin"===t,a="win32"===t,o="freebsd"===t,l="openbsd"===t,d="netbsd"===t,c="sunos"===t;function s(e,n,i){var t="";return e.indexOf("speak")>=0&&(t="Speaker"),e.indexOf("laut")>=0&&(t="Speaker"),e.indexOf("loud")>=0&&(t="Speaker"),e.indexOf("head")>=0&&(t="Headset"),e.indexOf("mic")>=0&&(t="Microphone"),e.indexOf("mikr")>=0&&(t="Microphone"),e.indexOf("phone")>=0&&(t="Phone"),e.indexOf("controll")>=0&&(t="Controller"),e.indexOf("line o")>=0&&(t="Line Out"),e.indexOf("digital o")>=0&&(t="Digital Out"),!t&&i?t="Speaker":!t&&n&&(t="Microphone"),t}function f(){var e=[];try{for(var t=n("lspci -v 2>/dev/null").toString().split("\n\n"),u=0;u<t.length;u++){var r=t[u].split("\n");if(r&&r.length&&r[0].toLowerCase().indexOf("audio")>=0){var a={};a.slotId=r[0].split(" ")[0],a.driver=i.getValue(r,"Kernel driver in use",":",!0)||i.getValue(r,"Kernel modules",":",!0),e.push(a)}}return e}catch(o){return e}}function p(e,n){var t={},u=i.getValue(e,"Slot"),r=n.filter(function(e){return e.slotId===u});return t.id=u,t.name=i.getValue(e,"SDevice"),t.manufacturer=i.getValue(e,"SVendor"),t.revision=i.getValue(e,"Rev"),t.driver=r&&1===r.length&&r[0].driver?r[0].driver:"",t.default=null,t.channel="PCIe",t.type=s(t.name,null,null),t.in=null,t.out=null,t.status="online",t}function v(e){var n="";return e.indexOf("builtin")>=0&&(n="Built-In"),e.indexOf("extern")>=0&&(n="Audio-Jack"),e.indexOf("hdmi")>=0&&(n="HDMI"),e.indexOf("displayport")>=0&&(n="Display-Port"),e.indexOf("usb")>=0&&(n="USB"),e.indexOf("pci")>=0&&(n="PCIe"),n}function _(e,n){var i={},t=((e.coreaudio_device_transport||"")+" "+(e._name||"")).toLowerCase();return i.id=n,i.name=e._name,i.manufacturer=e.coreaudio_device_manufacturer,i.revision=null,i.driver=null,i.default=!!e.coreaudio_default_audio_input_device||!!e.coreaudio_default_audio_output_device,i.channel=v(t),i.type=s(i.name,!!e.coreaudio_device_input,!!e.coreaudio_device_output),i.in=!!e.coreaudio_device_input,i.out=!!e.coreaudio_device_output,i.status="online",i}function m(e){var n={},t=i.getValue(e,"StatusInfo","=");return n.id=i.getValue(e,"DeviceID","="),n.name=i.getValue(e,"name","="),n.manufacturer=i.getValue(e,"manufacturer","="),n.revision=null,n.driver=null,n.default=null,n.channel=null,n.type=s(n.name,null,null),n.in=null,n.out=null,n.status=t,n}function g(n){return new Promise(function(t){process.nextTick(function(){var s=[];if(u||o||l||d){e("lspci -vmm 2>/dev/null",function(e,u){if(!e)for(var r=f(),a=u.toString().split("\n\n"),o=0;o<a.length;o++){var l=a[o].split("\n");if(i.getValue(l,"class",":",!0).toLowerCase().indexOf("audio")>=0){var d=p(l,r);s.push(d)}}n&&n(s),t(s)})}if(r){e("system_profiler SPAudioDataType -json",function(e,u){if(!e)try{var r=JSON.parse(u.toString());if(r.SPAudioDataType&&r.SPAudioDataType.length&&r.SPAudioDataType[0]&&r.SPAudioDataType[0]._items&&r.SPAudioDataType[0]._items.length)for(var a=0;a<r.SPAudioDataType[0]._items.length;a++){var o=_(r.SPAudioDataType[0]._items[a],a);s.push(o)}}catch(l){i.noop()}n&&n(s),t(s)})}a&&i.wmic("path Win32_SoundDevice get /value",function(e,u){if(!e)for(var r=u.toString().split(/\n\s*\n/),a=0;a<r.length;a++)i.getValue(r[a].split("\n"),"name","=")&&s.push(m(r[a].split("\n")));n&&n(s),t(s)}),c&&t(null)})})}exports.audio=g;
},{"./util":"YOqM"}],"pqhv":[function(require,module,exports) {
"use strict";var e=require("child_process").exec,t=require("child_process").execSync,n=require("path"),a=require("./util"),r=require("fs"),o=process.platform,i="linux"===o,c="darwin"===o,l="win32"===o,u="freebsd"===o,s="openbsd"===o,d="netbsd"===o,v="sunos"===o;function h(e){var t="";return e.indexOf("keyboard")>=0&&(t="Keyboard"),e.indexOf("mouse")>=0&&(t="Mouse"),e.indexOf("speaker")>=0&&(t="Speaker"),e.indexOf("headset")>=0&&(t="Headset"),e.indexOf("phone")>=0&&(t="Phone"),t}function p(e,t,n){var r={device:null};return r.name=a.getValue(e,"name","="),r.manufacturer=null,r.macDevice=t,r.macHost=n,r.batteryPercent=null,r.type=h(r.name.toLowerCase()),r.connected=!1,r}function f(e,t){var n={},a=((e.device_minorClassOfDevice_string||e.device_majorClassOfDevice_string||"")+(e.device_name||"")).toLowerCase();return n.device=e.device_services||"",n.name=e.device_name||"",n.manufacturer=e.device_manufacturer||"",n.macDevice=(e.device_addr||"").toLowerCase().replace(/-/g,":"),n.macHost=t,n.batteryPercent=e.device_batteryPercent||null,n.type=h(a),n.connected="attrib_Yes"===e.device_isconnected||!1,n}function m(e){var t={device:null};return t.name=a.getValue(e,"name","="),t.manufacturer=a.getValue(e,"manufacturer","="),t.macDevice=null,t.macHost=null,t.batteryPercent=null,t.type=h(t.name.toLowerCase()),t.connected=null,t}function _(o){return new Promise(function(h){process.nextTick(function(){var _=[];if(i){for(var g=a.getFilesInPath("/var/lib/bluetooth/"),y=0;y<g.length;y++){var P=n.basename(g[y]),D=g[y].split("/"),S=D.length>=6?D[D.length-2]:null,b=D.length>=7?D[D.length-3]:null;if("info"===P){var B=r.readFileSync(g[y],{encoding:"utf8"}).split("\n");_.push(p(B,S,b))}}try{for(var T=t("hcitool con").toString().toLowerCase(),w=0;w<_.length;w++)_[w].macDevice&&_[w].macDevice.length>10&&T.indexOf(_[w].macDevice.toLowerCase())>=0&&(_[w].connected=!0)}catch(x){a.noop()}o&&o(_),h(_)}if(c){e("system_profiler SPBluetoothDataType -json",function(e,t){if(!e)try{var n=JSON.parse(t.toString());if(n.SPBluetoothDataType&&n.SPBluetoothDataType.length&&n.SPBluetoothDataType[0]&&n.SPBluetoothDataType[0].device_title&&n.SPBluetoothDataType[0].device_title.length){var r=null;n.SPBluetoothDataType[0].local_device_title&&n.SPBluetoothDataType[0].local_device_title.general_address&&(r=n.SPBluetoothDataType[0].local_device_title.general_address.toLowerCase().replace(/-/g,":"));for(var i=0;i<n.SPBluetoothDataType[0].device_title.length;i++){var c=n.SPBluetoothDataType[0].device_title[i],l=Object.keys(c);if(l&&1===l.length){var u=c[l[0]];u.device_name=l[0];var s=f(u,r);_.push(s)}}}}catch(x){a.noop()}o&&o(_),h(_)})}l&&a.wmic("path Win32_PNPEntity get /value",function(e,t){if(!e)for(var n=t.toString().split(/\n\s*\n/),r=0;r<n.length;r++)"Bluetooth"===a.getValue(n[r].split("\n"),"PNPClass","=")&&_.push(m(n[r].split("\n")));o&&o(_),h(_)}),(u||d||s||v)&&h(null)})})}exports.bluetoothDevices=_;
},{"./util":"YOqM"}],"Focm":[function(require,module,exports) {
"use strict";var e=require("../package.json").version,t=require("./util"),r=require("./system"),s=require("./osinfo"),o=require("./cpu"),n=require("./memory"),i=require("./battery"),c=require("./graphics"),u=require("./filesystem"),a=require("./network"),p=require("./wifi"),f=require("./processes"),l=require("./users"),x=require("./internet"),d=require("./docker"),m=require("./virtualbox"),h=require("./printer"),k=require("./usb"),w=require("./audio"),v=require("./bluetooth"),y=process.platform,b="win32"===y,g="freebsd"===y,I="openbsd"===y,C="netbsd"===y,O="sunos"===y;function L(){return e}function S(e){return new Promise(function(t){process.nextTick(function(){var i={};i.version=L(),Promise.all([r.system(),r.bios(),r.baseboard(),r.chassis(),s.osInfo(),s.uuid(),s.versions(),o.cpu(),o.cpuFlags(),c.graphics(),a.networkInterfaces(),n.memLayout(),u.diskLayout()]).then(function(r){i.system=r[0],i.bios=r[1],i.baseboard=r[2],i.chassis=r[3],i.os=r[4],i.uuid=r[5],i.versions=r[6],i.cpu=r[7],i.cpu.flags=r[8],i.graphics=r[9],i.net=r[10],i.memLayout=r[11],i.diskLayout=r[12],e&&e(i),t(i)})})})}function q(e,r,c){return t.isFunction(r)&&(c=r,r=""),t.isFunction(e)&&(c=e,e=""),new Promise(function(t){process.nextTick(function(){r=r||a.getDefaultNetworkInterface(),e=e||"";var d,m=(d=15,b&&(d=13),(g||I||C)&&(d=11),O&&(d=6),function(){0==--d&&(c&&c(h),t(h))}),h={};h.time=s.time(),h.node=process.versions.node,h.v8=process.versions.v8,o.cpuCurrentSpeed().then(function(e){h.cpuCurrentSpeed=e,m()}),l.users().then(function(e){h.users=e,m()}),f.processes().then(function(e){h.processes=e,m()}),o.currentLoad().then(function(e){h.currentLoad=e,m()}),O||o.cpuTemperature().then(function(e){h.temp=e,m()}),I||g||C||O||a.networkStats(r).then(function(e){h.networkStats=e,m()}),O||a.networkConnections().then(function(e){h.networkConnections=e,m()}),n.mem().then(function(e){h.mem=e,m()}),O||i().then(function(e){h.battery=e,m()}),O||f.services(e).then(function(e){h.services=e,m()}),O||u.fsSize().then(function(e){h.fsSize=e,m()}),b||I||g||C||O||u.fsStats().then(function(e){h.fsStats=e,m()}),b||I||g||C||O||u.disksIO().then(function(e){h.disksIO=e,m()}),I||g||C||O||p.wifiNetworks().then(function(e){h.wifiNetworks=e,m()}),x.inetLatency().then(function(e){h.inetLatency=e,m()})})})}function P(e,r,s){return new Promise(function(o){process.nextTick(function(){var n={};r&&t.isFunction(r)&&!s&&(s=r,r=""),e&&t.isFunction(e)&&!r&&!s&&(s=e,e="",r=""),S().then(function(t){n=t,q(e,r).then(function(e){for(var t in e)({}).hasOwnProperty.call(e,t)&&(n[t]=e[t]);s&&s(n),o(n)})})})})}function D(e,t){return new Promise(function(r){process.nextTick(function(){var s=Object.keys(e).filter(function(e){return{}.hasOwnProperty.call(exports,e)}).map(function(t){var r=e[t].substring(e[t].lastIndexOf("(")+1,e[t].lastIndexOf(")")),s=t.indexOf(")")>=0?t.split(")")[1].trim():t;return s=t.indexOf("|")>=0?t.split("|")[0].trim():s,r?exports[s](r):exports[s]("")});Promise.all(s).then(function(s){var o={},n=0;for(var i in e)({}).hasOwnProperty.call(e,i)&&{}.hasOwnProperty.call(exports,i)&&s.length>n&&("*"===e[i]||"all"===e[i]?o[i]=s[n]:function(){var t=e[i],r="",c=[];if(t.indexOf(")")>=0&&(t=t.split(")")[1].trim()),t.indexOf("|")>=0&&(r=t.split("|")[1].trim(),c=r.split(":"),t=t.split("|")[0].trim()),t=t.replace(/,/g," ").replace(/ +/g," ").split(" "),s[n])if(Array.isArray(s[n])){var u=[];s[n].forEach(function(e){var s={};if(1!==t.length||"*"!==t[0]&&"all"!==t[0]?t.forEach(function(t){({}).hasOwnProperty.call(e,t)&&(s[t]=e[t])}):s=e,r&&2===c.length){if({}.hasOwnProperty.call(s,c[0].trim())){var o=s[c[0].trim()];"number"==typeof o?o===parseFloat(c[1].trim())&&u.push(s):"string"==typeof o&&o.toLowerCase()===c[1].trim().toLowerCase()&&u.push(s)}}else u.push(s)}),o[i]=u}else{var a={};t.forEach(function(e){({}).hasOwnProperty.call(s[n],e)&&(a[e]=s[n][e])}),o[i]=a}else o[i]={}}(),n++);t&&t(o),r(o)})})})}function F(e,t,r){var s=null;return setInterval(function(){D(e).then(function(e){JSON.stringify(s)!==JSON.stringify(e)&&(s=Object.assign({},e),r(e))})},t)}b&&t.getCodepage(),exports.version=L,exports.system=r.system,exports.bios=r.bios,exports.baseboard=r.baseboard,exports.chassis=r.chassis,exports.time=s.time,exports.osInfo=s.osInfo,exports.versions=s.versions,exports.shell=s.shell,exports.uuid=s.uuid,exports.cpu=o.cpu,exports.cpuFlags=o.cpuFlags,exports.cpuCache=o.cpuCache,exports.cpuCurrentSpeed=o.cpuCurrentSpeed,exports.cpuTemperature=o.cpuTemperature,exports.currentLoad=o.currentLoad,exports.fullLoad=o.fullLoad,exports.mem=n.mem,exports.memLayout=n.memLayout,exports.battery=i,exports.graphics=c.graphics,exports.fsSize=u.fsSize,exports.fsOpenFiles=u.fsOpenFiles,exports.blockDevices=u.blockDevices,exports.fsStats=u.fsStats,exports.disksIO=u.disksIO,exports.diskLayout=u.diskLayout,exports.networkInterfaceDefault=a.networkInterfaceDefault,exports.networkGatewayDefault=a.networkGatewayDefault,exports.networkInterfaces=a.networkInterfaces,exports.networkStats=a.networkStats,exports.networkConnections=a.networkConnections,exports.wifiNetworks=p.wifiNetworks,exports.wifiInterfaces=p.wifiInterfaces,exports.wifiConnections=p.wifiConnections,exports.services=f.services,exports.processes=f.processes,exports.processLoad=f.processLoad,exports.users=l.users,exports.inetChecksite=x.inetChecksite,exports.inetLatency=x.inetLatency,exports.dockerInfo=d.dockerInfo,exports.dockerImages=d.dockerImages,exports.dockerContainers=d.dockerContainers,exports.dockerContainerStats=d.dockerContainerStats,exports.dockerContainerProcesses=d.dockerContainerProcesses,exports.dockerVolumes=d.dockerVolumes,exports.dockerAll=d.dockerAll,exports.vboxInfo=m.vboxInfo,exports.printer=h.printer,exports.usb=k.usb,exports.audio=w.audio,exports.bluetoothDevices=v.bluetoothDevices,exports.getStaticData=S,exports.getDynamicData=q,exports.getAllData=P,exports.get=D,exports.observe=F;
},{"../package.json":"EHrm","./util":"YOqM","./system":"dGq0","./osinfo":"wSXe","./cpu":"Ja0j","./memory":"n1Wj","./battery":"noGZ","./graphics":"vRJa","./filesystem":"JFka","./network":"OmA8","./wifi":"DPee","./processes":"dhpP","./users":"EKrS","./internet":"akg7","./docker":"J5PI","./virtualbox":"uI1G","./printer":"qsHR","./usb":"iXLH","./audio":"P9t3","./bluetooth":"pqhv"}]},{},["Focm"], null)
